"use strict";(self.webpackChunkkanbam_fire=self.webpackChunkkanbam_fire||[]).push([[179],{2011:(_t,Me,N)=>{N.d(Me,{Dh:()=>ue,GT:()=>he,cc:()=>Se,hO:()=>$e,on:()=>$,pX:()=>re,xv:()=>de});var d=N(4650),te=N(9260),P=N(2122);_t=N.hmd(_t);const ae=["ngOnDestroy"],re=(me,Qe,rt,De={})=>new Proxy(me,{get:(_e,Ce)=>rt.runOutsideAngular(()=>{var Ve;if(me[Ce])return!(null===(Ve=De?.spy)||void 0===Ve)&&Ve.get&&De.spy.get(Ce,me[Ce]),me[Ce];if(ae.indexOf(Ce)>-1)return()=>{};const Ge=Qe.toPromise().then(H=>{const ge=H&&H[Ce];return"function"==typeof ge?ge.bind(H):ge&&ge.then?ge.then(Be=>rt.run(()=>Be)):rt.run(()=>ge)});return new Proxy(()=>{},{get:(H,ge)=>Ge[ge],apply:(H,ge,Be)=>Ge.then(tt=>{var vt;const Xe=tt&&tt(...Be);return!(null===(vt=De?.spy)||void 0===vt)&&vt.apply&&De.spy.apply(Ce,Be,Xe),Xe})})})}),he=(me,Qe)=>{Qe.forEach(rt=>{Object.getOwnPropertyNames(rt.prototype||rt).forEach(De=>{Object.defineProperty(me.prototype,De,Object.getOwnPropertyDescriptor(rt.prototype||rt,De))})})};class ne{constructor(Qe){return Qe}}const ue=new d.OlP("angularfire2.app.options"),de=new d.OlP("angularfire2.app.name");function $(me,Qe,rt){const _e="object"==typeof rt&&rt||{};_e.name=_e.name||"string"==typeof rt&&rt||"[DEFAULT]";const Ve=te.Z.apps.filter(Ge=>Ge&&Ge.name===_e.name)[0]||Qe.runOutsideAngular(()=>te.Z.initializeApp(me,_e));try{JSON.stringify(me)!==JSON.stringify(Ve.options)&&G("error",`${Ve.name} Firebase App already initialized with different options${_t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new ne(Ve)}const G=(me,...Qe)=>{(0,d.X6Q)()&&typeof console<"u"&&console[me](...Qe)},X={provide:ne,useFactory:$,deps:[ue,d.R0b,[new d.FiY,de]]};let $e=(()=>{class me{constructor(rt){te.Z.registerVersion("angularfire",P.q4.full,"core"),te.Z.registerVersion("angularfire",P.q4.full,"app-compat"),te.Z.registerVersion("angular",d.q4F.full,rt.toString())}static initializeApp(rt,De){return{ngModule:me,providers:[{provide:ue,useValue:rt},{provide:de,useValue:De}]}}}return me.\u0275fac=function(rt){return new(rt||me)(d.LFG(d.Lbi))},me.\u0275mod=d.oAB({type:me}),me.\u0275inj=d.cJS({providers:[X]}),me})();function Se(me,Qe,rt,De,_e){const[,Ce,Ve]=globalThis.\u0275AngularfireInstanceCache.find(Ge=>Ge[0]===me)||[];if(Ce)return function ke(me,Qe){try{return me.toString()===Qe.toString()}catch{return me===Qe}}(_e,Ve)||(pe("error",`${Qe} was already initialized on the ${rt} Firebase App with different settings.${je?" You may need to reload as Firebase is not HMR aware.":""}`),pe("warn",{is:_e,was:Ve})),Ce;{const Ge=De();return globalThis.\u0275AngularfireInstanceCache.push([me,Ge,_e]),Ge}}const je=!!_t.hot,pe=(me,...Qe)=>{(0,d.X6Q)()&&typeof console<"u"&&console[me](...Qe)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},2122:(_t,Me,N)=>{N.d(Me,{q4:()=>Rn,iC:()=>Hr,HU:()=>Nl,vb:()=>Lo,JM:()=>Pa});var d=N(4650),te=N(259),P=N(5861),ae=N(9681),re=N(2090),he=N(4859),ne=N(1877),ue=N(8766);const de="@firebase/installations",$="0.6.3",X=`w:${$}`,$e="FIS_v2",Qe=new re.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function rt(C){return C instanceof re.ZR&&C.code.includes("request-failed")}function De({projectId:C}){return`https://firebaseinstallations.googleapis.com/v1/projects/${C}/installations`}function _e(C){return{token:C.token,requestStatus:2,expiresIn:tt(C.expiresIn),creationTime:Date.now()}}function Ce(C,T){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,P.Z)(function*(C,T){const V=(yield T.json()).error;return Qe.create("request-failed",{requestName:C,serverCode:V.code,serverMessage:V.message,serverStatus:V.status})})).apply(this,arguments)}function Ge({apiKey:C}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C})}function H(C,{refreshToken:T}){const k=Ge(C);return k.append("Authorization",function vt(C){return`${$e} ${C}`}(T)),k}function ge(C){return Be.apply(this,arguments)}function Be(){return(Be=(0,P.Z)(function*(C){const T=yield C();return T.status>=500&&T.status<600?C():T})).apply(this,arguments)}function tt(C){return Number(C.replace("s","000"))}function Xe(C,T){return oe.apply(this,arguments)}function oe(){return(oe=(0,P.Z)(function*({appConfig:C,heartbeatServiceProvider:T},{fid:k}){const V=De(C),Y=Ge(C),ie=T.getImmediate({optional:!0});if(ie){const Ye=yield ie.getHeartbeatsHeader();Ye&&Y.append("x-firebase-client",Ye)}const it={method:"POST",headers:Y,body:JSON.stringify({fid:k,authVersion:$e,appId:C.appId,sdkVersion:X})},ct=yield ge(()=>fetch(V,it));if(ct.ok){const Ye=yield ct.json();return{fid:Ye.fid||k,registrationStatus:2,refreshToken:Ye.refreshToken,authToken:_e(Ye.authToken)}}throw yield Ce("Create Installation",ct)})).apply(this,arguments)}function fe(C){return new Promise(T=>{setTimeout(T,C)})}const Pe=/^[cdef][\w-]{21}$/;function Ie(){try{const C=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(C),C[0]=112+C[0]%16;const k=function ht(C){return function ve(C){return btoa(String.fromCharCode(...C)).replace(/\+/g,"-").replace(/\//g,"_")}(C).substr(0,22)}(C);return Pe.test(k)?k:""}catch{return""}}function Ft(C){return`${C.appName}!${C.appId}`}const mn=new Map;function nt(C,T){const k=Ft(C);Rt(k,T),function Kn(C,T){const k=function Mn(){return!Un&&"BroadcastChannel"in self&&(Un=new BroadcastChannel("[Firebase] FID Change"),Un.onmessage=C=>{Rt(C.data.key,C.data.fid)}),Un}();k&&k.postMessage({key:C,fid:T}),function Pn(){0===mn.size&&Un&&(Un.close(),Un=null)}()}(k,T)}function Rt(C,T){const k=mn.get(C);if(k)for(const V of k)V(T)}let Un=null;const fr="firebase-installations-store";let pr=null;function ha(){return pr||(pr=(0,ue.X3)("firebase-installations-database",1,{upgrade:(C,T)=>{0===T&&C.createObjectStore(fr)}})),pr}function Je(C,T){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,P.Z)(function*(C,T){const k=Ft(C),Y=(yield ha()).transaction(fr,"readwrite"),ie=Y.objectStore(fr),Re=yield ie.get(k);return yield ie.put(T,k),yield Y.done,(!Re||Re.fid!==T.fid)&&nt(C,T.fid),T})).apply(this,arguments)}function ys(C){return ii.apply(this,arguments)}function ii(){return(ii=(0,P.Z)(function*(C){const T=Ft(C),V=(yield ha()).transaction(fr,"readwrite");yield V.objectStore(fr).delete(T),yield V.done})).apply(this,arguments)}function mr(C,T){return kr.apply(this,arguments)}function kr(){return(kr=(0,P.Z)(function*(C,T){const k=Ft(C),Y=(yield ha()).transaction(fr,"readwrite"),ie=Y.objectStore(fr),Re=yield ie.get(k),it=T(Re);return void 0===it?yield ie.delete(k):yield ie.put(it,k),yield Y.done,it&&(!Re||Re.fid!==it.fid)&&nt(C,it.fid),it})).apply(this,arguments)}function jn(C){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,P.Z)(function*(C){let T;const k=yield mr(C.appConfig,V=>{const Y=bn(V),ie=Dt(C,Y);return T=ie.registrationPromise,ie.installationEntry});return""===k.fid?{installationEntry:yield T}:{installationEntry:k,registrationPromise:T}})).apply(this,arguments)}function bn(C){return Bt(C||{fid:Ie(),registrationStatus:0})}function Dt(C,T){if(0===T.registrationStatus){if(!navigator.onLine)return{installationEntry:T,registrationPromise:Promise.reject(Qe.create("app-offline"))};const k={fid:T.fid,registrationStatus:1,registrationTime:Date.now()},V=function ft(C,T){return hn.apply(this,arguments)}(C,k);return{installationEntry:k,registrationPromise:V}}return 1===T.registrationStatus?{installationEntry:T,registrationPromise:Ei(C)}:{installationEntry:T}}function hn(){return(hn=(0,P.Z)(function*(C,T){try{const k=yield Xe(C,T);return Je(C.appConfig,k)}catch(k){throw rt(k)&&409===k.customData.serverCode?yield ys(C.appConfig):yield Je(C.appConfig,{fid:T.fid,registrationStatus:0}),k}})).apply(this,arguments)}function Ei(C){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,P.Z)(function*(C){let T=yield Xi(C.appConfig);for(;1===T.registrationStatus;)yield fe(100),T=yield Xi(C.appConfig);if(0===T.registrationStatus){const{installationEntry:k,registrationPromise:V}=yield jn(C);return V||k}return T})).apply(this,arguments)}function Xi(C){return mr(C,T=>{if(!T)throw Qe.create("installation-not-found");return Bt(T)})}function Bt(C){return function vs(C){return 1===C.registrationStatus&&C.registrationTime+1e4<Date.now()}(C)?{fid:C.fid,registrationStatus:0}:C}function an(C,T){return Rr.apply(this,arguments)}function Rr(){return(Rr=(0,P.Z)(function*({appConfig:C,heartbeatServiceProvider:T},k){const V=ln(C,k),Y=H(C,k),ie=T.getImmediate({optional:!0});if(ie){const Ye=yield ie.getHeartbeatsHeader();Ye&&Y.append("x-firebase-client",Ye)}const it={method:"POST",headers:Y,body:JSON.stringify({installation:{sdkVersion:X,appId:C.appId}})},ct=yield ge(()=>fetch(V,it));if(ct.ok)return _e(yield ct.json());throw yield Ce("Generate Auth Token",ct)})).apply(this,arguments)}function ln(C,{fid:T}){return`${De(C)}/${T}/authTokens:generate`}function ri(C){return Gi.apply(this,arguments)}function Gi(){return(Gi=(0,P.Z)(function*(C,T=!1){let k;const V=yield mr(C.appConfig,ie=>{if(!Wt(ie))throw Qe.create("not-registered");const Re=ie.authToken;if(!T&&U(Re))return ie;if(1===Re.requestStatus)return k=lt(C,T),ie;{if(!navigator.onLine)throw Qe.create("app-offline");const it=W(ie);return k=Lt(C,it),it}});return k?yield k:V.authToken})).apply(this,arguments)}function lt(C,T){return Te.apply(this,arguments)}function Te(){return(Te=(0,P.Z)(function*(C,T){let k=yield st(C.appConfig);for(;1===k.authToken.requestStatus;)yield fe(100),k=yield st(C.appConfig);const V=k.authToken;return 0===V.requestStatus?ri(C,T):V})).apply(this,arguments)}function st(C){return mr(C,T=>{if(!Wt(T))throw Qe.create("not-registered");return function Ee(C){return 1===C.requestStatus&&C.requestTime+1e4<Date.now()}(T.authToken)?Object.assign(Object.assign({},T),{authToken:{requestStatus:0}}):T})}function Lt(C,T){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,P.Z)(function*(C,T){try{const k=yield an(C,T),V=Object.assign(Object.assign({},T),{authToken:k});return yield Je(C.appConfig,V),k}catch(k){if(!rt(k)||401!==k.customData.serverCode&&404!==k.customData.serverCode){const V=Object.assign(Object.assign({},T),{authToken:{requestStatus:0}});yield Je(C.appConfig,V)}else yield ys(C.appConfig);throw k}})).apply(this,arguments)}function Wt(C){return void 0!==C&&2===C.registrationStatus}function U(C){return 2===C.requestStatus&&!function B(C){const T=Date.now();return T<C.creationTime||C.creationTime+C.expiresIn<T+36e5}(C)}function W(C){const T={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},C),{authToken:T})}function qe(){return(qe=(0,P.Z)(function*(C){const T=C,{installationEntry:k,registrationPromise:V}=yield jn(T);return V?V.catch(console.error):ri(T).catch(console.error),k.fid})).apply(this,arguments)}function rn(){return(rn=(0,P.Z)(function*(C,T=!1){const k=C;return yield vn(k),(yield ri(k,T)).token})).apply(this,arguments)}function vn(C){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,P.Z)(function*(C){const{registrationPromise:T}=yield jn(C);T&&(yield T)})).apply(this,arguments)}function bs(C){return Qe.create("missing-app-config-values",{valueName:C})}const Eo="installations",xn=C=>{const T=C.getProvider("app").getImmediate(),k=function Sn(C){if(!C||!C.options)throw bs("App Configuration");if(!C.name)throw bs("App Name");const T=["projectId","apiKey","appId"];for(const k of T)if(!C.options[k])throw bs(k);return{appName:C.name,projectId:C.options.projectId,apiKey:C.options.apiKey,appId:C.options.appId}}(T);return{app:T,appConfig:k,heartbeatServiceProvider:(0,ae._getProvider)(T,"heartbeat"),_delete:()=>Promise.resolve()}},Us=C=>{const T=C.getProvider("app").getImmediate(),k=(0,ae._getProvider)(T,Eo).getImmediate();return{getId:()=>function Q(C){return qe.apply(this,arguments)}(k),getToken:Y=>function wt(C){return rn.apply(this,arguments)}(k,Y)}};(function tl(){(0,ae._registerComponent)(new he.wA(Eo,xn,"PUBLIC")),(0,ae._registerComponent)(new he.wA("installations-internal",Us,"PRIVATE"))})(),(0,ae.registerVersion)(de,$),(0,ae.registerVersion)(de,$,"esm2017");const Or="@firebase/remote-config",Xn=new re.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class xh{constructor(T,k,V,Y){this.client=T,this.storage=k,this.storageCache=V,this.logger=Y}isCachedDataFresh(T,k){if(!k)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const V=Date.now()-k,Y=V<=T;return this.logger.debug(`Config fetch cache check. Cache age millis: ${V}. Cache max age millis (minimumFetchIntervalMillis setting): ${T}. Is cache hit: ${Y}.`),Y}fetch(T){var k=this;return(0,P.Z)(function*(){const[V,Y]=yield Promise.all([k.storage.getLastSuccessfulFetchTimestampMillis(),k.storage.getLastSuccessfulFetchResponse()]);if(Y&&k.isCachedDataFresh(T.cacheMaxAgeMillis,V))return Y;T.eTag=Y&&Y.eTag;const ie=yield k.client.fetch(T),Re=[k.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ie.status&&Re.push(k.storage.setLastSuccessfulFetchResponse(ie)),yield Promise.all(Re),ie})()}}function mc(C=navigator){return C.languages&&C.languages[0]||C.language}class gc{constructor(T,k,V,Y,ie,Re){this.firebaseInstallations=T,this.sdkVersion=k,this.namespace=V,this.projectId=Y,this.apiKey=ie,this.appId=Re}fetch(T){var k=this;return(0,P.Z)(function*(){const[V,Y]=yield Promise.all([k.firebaseInstallations.getId(),k.firebaseInstallations.getToken()]),Re=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${k.projectId}/namespaces/${k.namespace}:fetch?key=${k.apiKey}`,it={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":T.eTag||"*"},ct={sdk_version:k.sdkVersion,app_instance_id:V,app_instance_id_token:Y,app_id:k.appId,language_code:mc()},Ye={method:"POST",headers:it,body:JSON.stringify(ct)},Ct=fetch(Re,Ye),Ot=new Promise((ui,_n)=>{T.signal.addEventListener(()=>{const Gc=new Error("The operation was aborted.");Gc.name="AbortError",_n(Gc)})});let ci;try{yield Promise.race([Ct,Ot]),ci=yield Ct}catch(ui){let _n="fetch-client-network";throw"AbortError"===ui?.name&&(_n="fetch-timeout"),Xn.create(_n,{originalErrorMessage:ui?.message})}let zn=ci.status;const so=ci.headers.get("ETag")||void 0;let Fa,Ti;if(200===ci.status){let ui;try{ui=yield ci.json()}catch(_n){throw Xn.create("fetch-client-parse",{originalErrorMessage:_n?.message})}Fa=ui.entries,Ti=ui.state}if("INSTANCE_STATE_UNSPECIFIED"===Ti?zn=500:"NO_CHANGE"===Ti?zn=304:("NO_TEMPLATE"===Ti||"EMPTY_CONFIG"===Ti)&&(Fa={}),304!==zn&&200!==zn)throw Xn.create("fetch-status",{httpStatus:zn});return{status:zn,eTag:so,config:Fa}})()}}class Np{constructor(T,k){this.client=T,this.storage=k}fetch(T){var k=this;return(0,P.Z)(function*(){const V=(yield k.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return k.attemptFetch(T,V)})()}attemptFetch(T,{throttleEndTimeMillis:k,backoffCount:V}){var Y=this;return(0,P.Z)(function*(){yield function oi(C,T){return new Promise((k,V)=>{const Y=Math.max(T-Date.now(),0),ie=setTimeout(k,Y);C.addEventListener(()=>{clearTimeout(ie),V(Xn.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}(T.signal,k);try{const ie=yield Y.client.fetch(T);return yield Y.storage.deleteThrottleMetadata(),ie}catch(ie){if(!function Wu(C){if(!(C instanceof re.ZR&&C.customData))return!1;const T=Number(C.customData.httpStatus);return 429===T||500===T||503===T||504===T}(ie))throw ie;const Re={throttleEndTimeMillis:Date.now()+(0,re.$s)(V),backoffCount:V+1};return yield Y.storage.setThrottleMetadata(Re),Y.attemptFetch(T,Re)}})()}}class _c{constructor(T,k,V,Y,ie){this.app=T,this._client=k,this._storageCache=V,this._storage=Y,this._logger=ie,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function yc(C,T){const k=C.target.error||void 0;return Xn.create(T,{originalErrorMessage:k&&k?.message})}const Cs="app_namespace_store";class Bp{constructor(T,k,V,Y=function Vp(){return new Promise((C,T)=>{try{const k=indexedDB.open("firebase_remote_config",1);k.onerror=V=>{T(yc(V,"storage-open"))},k.onsuccess=V=>{C(V.target.result)},k.onupgradeneeded=V=>{0===V.oldVersion&&V.target.result.createObjectStore(Cs,{keyPath:"compositeKey"})}}catch(k){T(Xn.create("storage-open",{originalErrorMessage:k?.message}))}})}()){this.appId=T,this.appName=k,this.namespace=V,this.openDbPromise=Y}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(T){return this.set("last_fetch_status",T)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(T){return this.set("last_successful_fetch_timestamp_millis",T)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(T){return this.set("last_successful_fetch_response",T)}getActiveConfig(){return this.get("active_config")}setActiveConfig(T){return this.set("active_config",T)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(T){return this.set("active_config_etag",T)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(T){return this.set("throttle_metadata",T)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(T){var k=this;return(0,P.Z)(function*(){const V=yield k.openDbPromise;return new Promise((Y,ie)=>{const it=V.transaction([Cs],"readonly").objectStore(Cs),ct=k.createCompositeKey(T);try{const Ye=it.get(ct);Ye.onerror=Ct=>{ie(yc(Ct,"storage-get"))},Ye.onsuccess=Ct=>{const Ot=Ct.target.result;Y(Ot?Ot.value:void 0)}}catch(Ye){ie(Xn.create("storage-get",{originalErrorMessage:Ye?.message}))}})})()}set(T,k){var V=this;return(0,P.Z)(function*(){const Y=yield V.openDbPromise;return new Promise((ie,Re)=>{const ct=Y.transaction([Cs],"readwrite").objectStore(Cs),Ye=V.createCompositeKey(T);try{const Ct=ct.put({compositeKey:Ye,value:k});Ct.onerror=Ot=>{Re(yc(Ot,"storage-set"))},Ct.onsuccess=()=>{ie()}}catch(Ct){Re(Xn.create("storage-set",{originalErrorMessage:Ct?.message}))}})})()}delete(T){var k=this;return(0,P.Z)(function*(){const V=yield k.openDbPromise;return new Promise((Y,ie)=>{const it=V.transaction([Cs],"readwrite").objectStore(Cs),ct=k.createCompositeKey(T);try{const Ye=it.delete(ct);Ye.onerror=Ct=>{ie(yc(Ct,"storage-delete"))},Ye.onsuccess=()=>{Y()}}catch(Ye){ie(Xn.create("storage-delete",{originalErrorMessage:Ye?.message}))}})})()}createCompositeKey(T){return[this.appId,this.appName,this.namespace,T].join()}}class Zu{constructor(T){this.storage=T}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var T=this;return(0,P.Z)(function*(){const k=T.storage.getLastFetchStatus(),V=T.storage.getLastSuccessfulFetchTimestampMillis(),Y=T.storage.getActiveConfig(),ie=yield k;ie&&(T.lastFetchStatus=ie);const Re=yield V;Re&&(T.lastSuccessfulFetchTimestampMillis=Re);const it=yield Y;it&&(T.activeConfig=it)})()}setLastFetchStatus(T){return this.lastFetchStatus=T,this.storage.setLastFetchStatus(T)}setLastSuccessfulFetchTimestampMillis(T){return this.lastSuccessfulFetchTimestampMillis=T,this.storage.setLastSuccessfulFetchTimestampMillis(T)}setActiveConfig(T){return this.activeConfig=T,this.storage.setActiveConfig(T)}}function il(){return kh.apply(this,arguments)}function kh(){return(kh=(0,P.Z)(function*(){if(!(0,re.hl)())return!1;try{return yield(0,re.eu)()}catch{return!1}})).apply(this,arguments)}!function Is(){(0,ae._registerComponent)(new he.wA("remote-config",function C(T,{instanceIdentifier:k}){const V=T.getProvider("app").getImmediate(),Y=T.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Xn.create("registration-window");if(!(0,re.hl)())throw Xn.create("indexed-db-unavailable");const{projectId:ie,apiKey:Re,appId:it}=V.options;if(!ie)throw Xn.create("registration-project-id");if(!Re)throw Xn.create("registration-api-key");if(!it)throw Xn.create("registration-app-id");const ct=new Bp(it,V.name,k=k||"firebase"),Ye=new Zu(ct),Ct=new ne.Yd(Or);Ct.logLevel=ne.in.ERROR;const Ot=new gc(Y,ae.SDK_VERSION,k,ie,Re,it),ci=new Np(Ot,ct),zn=new xh(ci,ct,Ye,Ct),so=new _c(V,zn,Ye,ct,Ct);return function Gn(C){const T=(0,re.m9)(C);T._initializePromise||(T._initializePromise=T._storageCache.loadFromStorage().then(()=>{T._isInitializationComplete=!0}))}(so),so},"PUBLIC").setMultipleInstances(!0)),(0,ae.registerVersion)(Or,"0.4.3"),(0,ae.registerVersion)(Or,"0.4.3","esm2017")}();const Pr="/firebase-messaging-sw.js",Jr="/firebase-cloud-messaging-push-scope",es="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",ma="google.c.a.c_id",rl="google.c.a.c_l",vc="google.c.a.ts",Rh="google.c.a.e";var ts=(()=>{return(C=ts||(ts={})).PUSH_RECEIVED="push-received",C.NOTIFICATION_CLICKED="notification-clicked",ts;var C})();function gr(C){const T=new Uint8Array(C);return btoa(String.fromCharCode(...T)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function er(C){const k=(C+"=".repeat((4-C.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),V=atob(k),Y=new Uint8Array(V.length);for(let ie=0;ie<V.length;++ie)Y[ie]=V.charCodeAt(ie);return Y}const Io="fcm_token_details_db",Ci="fcm_token_object_Store";function Oh(C){return Ph.apply(this,arguments)}function Ph(){return Ph=(0,P.Z)(function*(C){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ie=>ie.name).includes(Io))return null;let T=null;return(yield(0,ue.X3)(Io,5,{upgrade:(V=(0,P.Z)(function*(Y,ie,Re,it){var ct;if(ie<2||!Y.objectStoreNames.contains(Ci))return;const Ye=it.objectStore(Ci),Ct=yield Ye.index("fcmSenderId").get(C);if(yield Ye.clear(),Ct)if(2===ie){const Ot=Ct;if(!Ot.auth||!Ot.p256dh||!Ot.endpoint)return;T={token:Ot.fcmToken,createTime:null!==(ct=Ot.createTime)&&void 0!==ct?ct:Date.now(),subscriptionOptions:{auth:Ot.auth,p256dh:Ot.p256dh,endpoint:Ot.endpoint,swScope:Ot.swScope,vapidKey:"string"==typeof Ot.vapidKey?Ot.vapidKey:gr(Ot.vapidKey)}}}else if(3===ie){const Ot=Ct;T={token:Ot.fcmToken,createTime:Ot.createTime,subscriptionOptions:{auth:gr(Ot.auth),p256dh:gr(Ot.p256dh),endpoint:Ot.endpoint,swScope:Ot.swScope,vapidKey:gr(Ot.vapidKey)}}}else if(4===ie){const Ot=Ct;T={token:Ot.fcmToken,createTime:Ot.createTime,subscriptionOptions:{auth:gr(Ot.auth),p256dh:gr(Ot.p256dh),endpoint:Ot.endpoint,swScope:Ot.swScope,vapidKey:gr(Ot.vapidKey)}}}}),function(ie,Re,it,ct){return V.apply(this,arguments)})})).close(),yield(0,ue.Lj)(Io),yield(0,ue.Lj)("fcm_vapid_details_db"),yield(0,ue.Lj)("undefined"),Nn(T)?T:null;var V}),Ph.apply(this,arguments)}function Nn(C){if(!C||!C.subscriptionOptions)return!1;const{subscriptionOptions:T}=C;return"number"==typeof C.createTime&&C.createTime>0&&"string"==typeof C.token&&C.token.length>0&&"string"==typeof T.auth&&T.auth.length>0&&"string"==typeof T.p256dh&&T.p256dh.length>0&&"string"==typeof T.endpoint&&T.endpoint.length>0&&"string"==typeof T.swScope&&T.swScope.length>0&&"string"==typeof T.vapidKey&&T.vapidKey.length>0}const _r="firebase-messaging-store";let Vi=null;function sl(){return Vi||(Vi=(0,ue.X3)("firebase-messaging-database",1,{upgrade:(C,T)=>{0===T&&C.createObjectStore(_r)}})),Vi}function To(C){return ns.apply(this,arguments)}function ns(){return(ns=(0,P.Z)(function*(C){const T=Er(C),V=yield(yield sl()).transaction(_r).objectStore(_r).get(T);if(V)return V;{const Y=yield Oh(C.appConfig.senderId);if(Y)return yield Xt(C,Y),Y}})).apply(this,arguments)}function Xt(C,T){return ol.apply(this,arguments)}function ol(){return(ol=(0,P.Z)(function*(C,T){const k=Er(C),Y=(yield sl()).transaction(_r,"readwrite");return yield Y.objectStore(_r).put(T,k),yield Y.done,T})).apply(this,arguments)}function zs(C){return al.apply(this,arguments)}function al(){return(al=(0,P.Z)(function*(C){const T=Er(C),V=(yield sl()).transaction(_r,"readwrite");yield V.objectStore(_r).delete(T),yield V.done})).apply(this,arguments)}function Er({appConfig:C}){return C.appId}const kn=new re.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Vt(C,T){return cl.apply(this,arguments)}function cl(){return(cl=(0,P.Z)(function*(C,T){const k=yield Dc(C),V=Ae(T),Y={method:"POST",headers:k,body:JSON.stringify(V)};let ie;try{ie=yield(yield fetch(is(C.appConfig),Y)).json()}catch(Re){throw kn.create("token-subscribe-failed",{errorInfo:Re?.toString()})}if(ie.error)throw kn.create("token-subscribe-failed",{errorInfo:ie.error.message});if(!ie.token)throw kn.create("token-subscribe-no-token");return ie.token})).apply(this,arguments)}function Nh(C,T){return ul.apply(this,arguments)}function ul(){return(ul=(0,P.Z)(function*(C,T){const k=yield Dc(C),V=Ae(T.subscriptionOptions),Y={method:"PATCH",headers:k,body:JSON.stringify(V)};let ie;try{ie=yield(yield fetch(`${is(C.appConfig)}/${T.token}`,Y)).json()}catch(Re){throw kn.create("token-update-failed",{errorInfo:Re?.toString()})}if(ie.error)throw kn.create("token-update-failed",{errorInfo:ie.error.message});if(!ie.token)throw kn.create("token-update-no-token");return ie.token})).apply(this,arguments)}function dl(C,T){return Ec.apply(this,arguments)}function Ec(){return(Ec=(0,P.Z)(function*(C,T){const V={method:"DELETE",headers:yield Dc(C)};try{const ie=yield(yield fetch(`${is(C.appConfig)}/${T}`,V)).json();if(ie.error)throw kn.create("token-unsubscribe-failed",{errorInfo:ie.error.message})}catch(Y){throw kn.create("token-unsubscribe-failed",{errorInfo:Y?.toString()})}})).apply(this,arguments)}function is({projectId:C}){return`https://fcmregistrations.googleapis.com/v1/projects/${C}/registrations`}function Dc(C){return ga.apply(this,arguments)}function ga(){return(ga=(0,P.Z)(function*({appConfig:C,installations:T}){const k=yield T.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C.apiKey,"x-goog-firebase-installations-auth":`FIS ${k}`})})).apply(this,arguments)}function Ae({p256dh:C,auth:T,endpoint:k,vapidKey:V}){const Y={web:{endpoint:k,auth:T,p256dh:C}};return V!==es&&(Y.web.applicationPubKey=V),Y}const Yt=6048e5;function hl(C){return fl.apply(this,arguments)}function fl(){return(fl=(0,P.Z)(function*(C){const T=yield Cc(C.swRegistration,C.vapidKey),k={vapidKey:C.vapidKey,swScope:C.swRegistration.scope,endpoint:T.endpoint,auth:gr(T.getKey("auth")),p256dh:gr(T.getKey("p256dh"))},V=yield To(C.firebaseDependencies);if(V){if(Xu(V.subscriptionOptions,k))return Date.now()>=V.createTime+Yt?So(C,{token:V.token,createTime:Date.now(),subscriptionOptions:k}):V.token;try{yield dl(C.firebaseDependencies,V.token)}catch(Y){console.warn(Y)}return _a(C.firebaseDependencies,k)}return _a(C.firebaseDependencies,k)})).apply(this,arguments)}function Fn(C){return pl.apply(this,arguments)}function pl(){return(pl=(0,P.Z)(function*(C){const T=yield To(C.firebaseDependencies);T&&(yield dl(C.firebaseDependencies,T.token),yield zs(C.firebaseDependencies));const k=yield C.swRegistration.pushManager.getSubscription();return!k||k.unsubscribe()})).apply(this,arguments)}function So(C,T){return yr.apply(this,arguments)}function yr(){return(yr=(0,P.Z)(function*(C,T){try{const k=yield Nh(C.firebaseDependencies,T),V=Object.assign(Object.assign({},T),{token:k,createTime:Date.now()});return yield Xt(C.firebaseDependencies,V),k}catch(k){throw yield Fn(C),k}})).apply(this,arguments)}function _a(C,T){return ya.apply(this,arguments)}function ya(){return(ya=(0,P.Z)(function*(C,T){const V={token:yield Vt(C,T),createTime:Date.now(),subscriptionOptions:T};return yield Xt(C,V),V.token})).apply(this,arguments)}function Cc(C,T){return Ic.apply(this,arguments)}function Ic(){return(Ic=(0,P.Z)(function*(C,T){return(yield C.pushManager.getSubscription())||C.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:er(T)})})).apply(this,arguments)}function Xu(C,T){return T.vapidKey===C.vapidKey&&T.endpoint===C.endpoint&&T.auth===C.auth&&T.p256dh===C.p256dh}function va(C){const T={from:C.from,collapseKey:C.collapse_key,messageId:C.fcmMessageId};return function Ln(C,T){if(!T.notification)return;C.notification={};const k=T.notification.title;k&&(C.notification.title=k);const V=T.notification.body;V&&(C.notification.body=V);const Y=T.notification.image;Y&&(C.notification.image=Y);const ie=T.notification.icon;ie&&(C.notification.icon=ie)}(T,C),function Nr(C,T){!T.data||(C.data=T.data)}(T,C),function Tc(C,T){var k,V,Y,ie,Re;if(!(T.fcmOptions||null!==(k=T.notification)&&void 0!==k&&k.click_action))return;C.fcmOptions={};const it=null!==(Y=null===(V=T.fcmOptions)||void 0===V?void 0:V.link)&&void 0!==Y?Y:null===(ie=T.notification)||void 0===ie?void 0:ie.click_action;it&&(C.fcmOptions.link=it);const ct=null===(Re=T.fcmOptions)||void 0===Re?void 0:Re.analytics_label;ct&&(C.fcmOptions.analyticsLabel=ct)}(T,C),T}function qs(C){return"object"==typeof C&&!!C&&ma in C}function rs(C,T){const k=[];for(let V=0;V<C.length;V++)k.push(C.charAt(V)),V<T.length&&k.push(T.charAt(V));return k.join("")}function ba(C){return kn.create("missing-app-config-values",{valueName:C})}rs("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),rs("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class jp{constructor(T,k,V){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Y=function Up(C){if(!C||!C.options)throw ba("App Configuration Object");if(!C.name)throw ba("App Name");const T=["projectId","apiKey","appId","messagingSenderId"],{options:k}=C;for(const V of T)if(!k[V])throw ba(V);return{appName:C.name,projectId:k.projectId,apiKey:k.apiKey,appId:k.appId,senderId:k.messagingSenderId}}(T);this.firebaseDependencies={app:T,appConfig:Y,installations:k,analyticsProvider:V}}_delete(){return Promise.resolve()}}function Sc(C){return ml.apply(this,arguments)}function ml(){return(ml=(0,P.Z)(function*(C){try{C.swRegistration=yield navigator.serviceWorker.register(Pr,{scope:Jr}),C.swRegistration.update().catch(()=>{})}catch(T){throw kn.create("failed-service-worker-registration",{browserErrorMessage:T?.message})}})).apply(this,arguments)}function wa(C,T){return Ac.apply(this,arguments)}function Ac(){return(Ac=(0,P.Z)(function*(C,T){if(!T&&!C.swRegistration&&(yield Sc(C)),T||!C.swRegistration){if(!(T instanceof ServiceWorkerRegistration))throw kn.create("invalid-sw-registration");C.swRegistration=T}})).apply(this,arguments)}function Ea(C,T){return Mc.apply(this,arguments)}function Mc(){return(Mc=(0,P.Z)(function*(C,T){T?C.vapidKey=T:C.vapidKey||(C.vapidKey=es)})).apply(this,arguments)}function _l(){return(_l=(0,P.Z)(function*(C,T){if(!navigator)throw kn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw kn.create("permission-blocked");return yield Ea(C,T?.vapidKey),yield wa(C,T?.serviceWorkerRegistration),hl(C)})).apply(this,arguments)}function xc(C,T,k){return kc.apply(this,arguments)}function kc(){return(kc=(0,P.Z)(function*(C,T,k){const V=Rc(T);(yield C.firebaseDependencies.analyticsProvider.get()).logEvent(V,{message_id:k[ma],message_name:k[rl],message_time:k[vc],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Rc(C){switch(C){case ts.NOTIFICATION_CLICKED:return"notification_open";case ts.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Ws(){return(Ws=(0,P.Z)(function*(C,T){const k=T.data;if(!k.isFirebaseMessaging)return;C.onMessageHandler&&k.messageType===ts.PUSH_RECEIVED&&("function"==typeof C.onMessageHandler?C.onMessageHandler(va(k)):C.onMessageHandler.next(va(k)));const V=k.data;qs(V)&&"1"===V[Rh]&&(yield xc(C,k.messageType,V))})).apply(this,arguments)}const Ks="@firebase/messaging",ai=C=>{const T=new jp(C.getProvider("app").getImmediate(),C.getProvider("installations-internal").getImmediate(),C.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",k=>function Ju(C,T){return Ws.apply(this,arguments)}(T,k)),T},tr=C=>{const T=C.getProvider("messaging").getImmediate();return{getToken:V=>function gl(C,T){return _l.apply(this,arguments)}(T,V)}};function ed(){return Oc.apply(this,arguments)}function Oc(){return(Oc=(0,P.Z)(function*(){try{yield(0,re.eu)()}catch{return!1}return typeof window<"u"&&(0,re.hl)()&&(0,re.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function wn(){(0,ae._registerComponent)(new he.wA("messaging",ai,"PUBLIC")),(0,ae._registerComponent)(new he.wA("messaging-internal",tr,"PRIVATE")),(0,ae.registerVersion)(Ks,"0.12.3"),(0,ae.registerVersion)(Ks,"0.12.3","esm2017")}();const Mo="analytics",id="firebase_id",Ys="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",wl="https://www.googletagmanager.com/gtag/js",Vn=new ne.Yd("@firebase/analytics");function El(C){return Promise.all(C.map(T=>T.catch(k=>k)))}function Dl(C,T){const k=document.createElement("script");k.src=`${wl}?l=${C}&id=${T}`,k.async=!0,document.head.appendChild(k)}function Lh(C,T,k,V,Y,ie){return Qs.apply(this,arguments)}function Qs(){return(Qs=(0,P.Z)(function*(C,T,k,V,Y,ie){const Re=V[Y];try{if(Re)yield T[Re];else{const ct=(yield El(k)).find(Ye=>Ye.measurementId===Y);ct&&(yield T[ct.appId])}}catch(it){Vn.error(it)}C("config",Y,ie)})).apply(this,arguments)}function xo(C,T,k,V,Y){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,P.Z)(function*(C,T,k,V,Y){try{let ie=[];if(Y&&Y.send_to){let Re=Y.send_to;Array.isArray(Re)||(Re=[Re]);const it=yield El(k);for(const ct of Re){const Ye=it.find(Ot=>Ot.measurementId===ct),Ct=Ye&&T[Ye.appId];if(!Ct){ie=[];break}ie.push(Ct)}}0===ie.length&&(ie=Object.values(T)),yield Promise.all(ie),C("event",V,Y||{})}catch(ie){Vn.error(ie)}})).apply(this,arguments)}function sd(C){const T=window.document.getElementsByTagName("script");for(const k of Object.values(T))if(k.src&&k.src.includes(wl)&&k.src.includes(C))return k;return null}const _i=new re.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Ta=new class Fr{constructor(T={},k=1e3){this.throttleMetadata=T,this.intervalMillis=k}getThrottleMetadata(T){return this.throttleMetadata[T]}setThrottleMetadata(T,k){this.throttleMetadata[T]=k}deleteThrottleMetadata(T){delete this.throttleMetadata[T]}};function ad(C){return new Headers({Accept:"application/json","x-goog-api-key":C})}function Sa(C){return Nc.apply(this,arguments)}function Nc(){return(Nc=(0,P.Z)(function*(C){var T;const{appId:k,apiKey:V}=C,Y={method:"GET",headers:ad(V)},ie=Ys.replace("{app-id}",k),Re=yield fetch(ie,Y);if(200!==Re.status&&304!==Re.status){let it="";try{const ct=yield Re.json();null!==(T=ct.error)&&void 0!==T&&T.message&&(it=ct.error.message)}catch{}throw _i.create("config-fetch-failed",{httpStatus:Re.status,responseMessage:it})}return Re.json()})).apply(this,arguments)}function $n(C){return Dr.apply(this,arguments)}function Dr(){return(Dr=(0,P.Z)(function*(C,T=Ta,k){const{appId:V,apiKey:Y,measurementId:ie}=C.options;if(!V)throw _i.create("no-app-id");if(!Y){if(ie)return{measurementId:ie,appId:V};throw _i.create("no-api-key")}const Re=T.getThrottleMetadata(V)||{backoffCount:0,throttleEndTimeMillis:Date.now()},it=new Sl;return setTimeout((0,P.Z)(function*(){it.abort()}),void 0!==k?k:6e4),Il({appId:V,apiKey:Y,measurementId:ie},Re,it,T)})).apply(this,arguments)}function Il(C,T,k){return Js.apply(this,arguments)}function Js(){return(Js=(0,P.Z)(function*(C,{throttleEndTimeMillis:T,backoffCount:k},V,Y=Ta){var ie;const{appId:Re,measurementId:it}=C;try{yield Aa(V,T)}catch(ct){if(it)return Vn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${it} provided in the "measurementId" field in the local Firebase config. [${ct?.message}]`),{appId:Re,measurementId:it};throw ct}try{const ct=yield Sa(C);return Y.deleteThrottleMetadata(Re),ct}catch(ct){const Ye=ct;if(!Tl(Ye)){if(Y.deleteThrottleMetadata(Re),it)return Vn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${it} provided in the "measurementId" field in the local Firebase config. [${Ye?.message}]`),{appId:Re,measurementId:it};throw ct}const Ct=503===Number(null===(ie=Ye?.customData)||void 0===ie?void 0:ie.httpStatus)?(0,re.$s)(k,Y.intervalMillis,30):(0,re.$s)(k,Y.intervalMillis),Ot={throttleEndTimeMillis:Date.now()+Ct,backoffCount:k+1};return Y.setThrottleMetadata(Re,Ot),Vn.debug(`Calling attemptFetch again in ${Ct} millis`),Il(C,Ot,V,Y)}})).apply(this,arguments)}function Aa(C,T){return new Promise((k,V)=>{const Y=Math.max(T-Date.now(),0),ie=setTimeout(k,Y);C.addEventListener(()=>{clearTimeout(ie),V(_i.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}function Tl(C){if(!(C instanceof re.ZR&&C.customData))return!1;const T=Number(C.customData.httpStatus);return 429===T||500===T||503===T||504===T}class Sl{constructor(){this.listeners=[]}addEventListener(T){this.listeners.push(T)}abort(){this.listeners.forEach(T=>T())}}let As,ka;function Ms(){return(Ms=(0,P.Z)(function*(C,T,k,V,Y){if(Y&&Y.global)C("event",k,V);else{const ie=yield T;C("event",k,Object.assign(Object.assign({},V),{send_to:ie}))}})).apply(this,arguments)}function to(C){ka=C}function Lc(C){As=C}function ss(){return xl.apply(this,arguments)}function xl(){return(xl=(0,P.Z)(function*(){if(!(0,re.hl)())return Vn.warn(_i.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,re.eu)()}catch(C){return Vn.warn(_i.create("indexeddb-unavailable",{errorInfo:C?.toString()}).message),!1}return!0})).apply(this,arguments)}function Ro(){return(Ro=(0,P.Z)(function*(C,T,k,V,Y,ie,Re){var it;const ct=$n(C);ct.then(zn=>{k[zn.measurementId]=zn.appId,C.options.measurementId&&zn.measurementId!==C.options.measurementId&&Vn.warn(`The measurement ID in the local Firebase config (${C.options.measurementId}) does not match the measurement ID fetched from the server (${zn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(zn=>Vn.error(zn)),T.push(ct);const Ye=ss().then(zn=>{if(zn)return V.getId()}),[Ct,Ot]=yield Promise.all([ct,Ye]);sd(ie)||Dl(ie,Ct.measurementId),ka&&(Y("consent","default",ka),to(void 0)),Y("js",new Date);const ci=null!==(it=Re?.config)&&void 0!==it?it:{};return ci.origin="firebase",ci.update=!0,null!=Ot&&(ci[id]=Ot),Y("config",Ct.measurementId,ci),As&&(Y("set",As),Lc(void 0)),Ct.measurementId})).apply(this,arguments)}class kl{constructor(T){this.app=T}_delete(){return delete nr[this.app.options.appId],Promise.resolve()}}let nr={},ks=[];const Oo={};let No,no,Po="dataLayer",Ra=!1;function w_(C,T,k){!function Gp(){const C=[];if((0,re.ru)()&&C.push("This is a browser extension environment."),(0,re.zI)()||C.push("Cookies are not available."),C.length>0){const T=C.map((V,Y)=>`(${Y+1}) ${V}`).join(" "),k=_i.create("invalid-analytics-context",{errorInfo:T});Vn.warn(k.message)}}();const V=C.options.appId;if(!V)throw _i.create("no-app-id");if(!C.options.apiKey){if(!C.options.measurementId)throw _i.create("no-api-key");Vn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${C.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=nr[V])throw _i.create("already-exists",{id:V});if(!Ra){!function rd(C){let T=[];Array.isArray(window[C])?T=window[C]:window[C]=T}(Po);const{wrappedGtag:ie,gtagCore:Re}=function Da(C,T,k,V,Y){let ie=function(...Re){window[V].push(arguments)};return window[Y]&&"function"==typeof window[Y]&&(ie=window[Y]),window[Y]=function Cl(C,T,k,V){function ie(){return(ie=(0,P.Z)(function*(Re,it,ct){try{"event"===Re?yield xo(C,T,k,it,ct):"config"===Re?yield Lh(C,T,k,V,it,ct):"consent"===Re?C("consent","update",ct):C("set",it)}catch(Ye){Vn.error(Ye)}})).apply(this,arguments)}return function Y(Re,it,ct){return ie.apply(this,arguments)}}(ie,C,T,k),{gtagCore:ie,wrappedGtag:window[Y]}}(nr,ks,Oo,Po,"gtag");no=ie,No=Re,Ra=!0}return nr[V]=function ko(C,T,k,V,Y,ie,Re){return Ro.apply(this,arguments)}(C,ks,Oo,T,No,Po,k),new kl(C)}function D_(){return Vh.apply(this,arguments)}function Vh(){return(Vh=(0,P.Z)(function*(){if((0,re.ru)()||!(0,re.zI)()||!(0,re.hl)())return!1;try{return yield(0,re.eu)()}catch{return!1}})).apply(this,arguments)}const Bh="@firebase/analytics";!function en(){(0,ae._registerComponent)(new he.wA(Mo,(T,{options:k})=>w_(T.getProvider("app").getImmediate(),T.getProvider("installations-internal").getImmediate(),k),"PUBLIC")),(0,ae._registerComponent)(new he.wA("analytics-internal",function C(T){try{const k=T.getProvider(Mo).getImmediate();return{logEvent:(V,Y,ie)=>function Bi(C,T,k,V){C=(0,re.m9)(C),function ld(C,T,k,V,Y){return Ms.apply(this,arguments)}(no,nr[C.app.options.appId],T,k,V).catch(Y=>Vn.error(Y))}(k,V,Y,ie)}}catch(k){throw _i.create("interop-component-reg-failed",{reason:k})}},"PRIVATE")),(0,ae.registerVersion)(Bh,"0.9.3"),(0,ae.registerVersion)(Bh,"0.9.3","esm2017")}();var tn=N(4408),At=N(7565);const zi=new class ir extends At.v{}(class Hh extends tn.o{constructor(T,k){super(T,k),this.scheduler=T,this.work=k}schedule(T,k=0){return k>0?super.schedule(T,k):(this.delay=k,this.state=T,this.scheduler.flush(this),this)}execute(T,k){return k>0||this.closed?super.execute(T,k):this._execute(T,k)}requestAsyncId(T,k,V=0){return null!=V&&V>0||null==V&&this.delay>0?super.requestAsyncId(T,k,V):(T.flush(this),0)}});var Ii=N(4986),Lr=N(8505),Ps=N(9468),Ol=N(5363);const Rn=new d.GfV("7.5.0"),sn="__angularfire_symbol__analyticsIsSupportedValue",Ns="__angularfire_symbol__analyticsIsSupported",Pl="__angularfire_symbol__remoteConfigIsSupportedValue",io="__angularfire_symbol__remoteConfigIsSupported",Vc="__angularfire_symbol__messagingIsSupportedValue",Bc="__angularfire_symbol__messagingIsSupported";function Pa(C,T,k){if(T){if(1===T.length)return T[0];const ie=T.filter(Re=>Re.app===k);if(1===ie.length)return ie[0]}return k.container.getProvider(C).getImmediate({optional:!0})}globalThis[Ns]||(globalThis[Ns]=D_().then(C=>globalThis[sn]=C).catch(()=>globalThis[sn]=!1)),globalThis[Bc]||(globalThis[Bc]=ed().then(C=>globalThis[Vc]=C).catch(()=>globalThis[Vc]=!1)),globalThis[io]||(globalThis[io]=il().then(C=>globalThis[Pl]=C).catch(()=>globalThis[Pl]=!1));const Lo=(C,T)=>{const k=T?[T]:(0,te.C6)(),V=[];return k.forEach(Y=>{Y.container.getProvider(C).instances.forEach(Re=>{V.includes(Re)||V.push(Re)})}),V};function Vo(){}class li{constructor(T,k=zi){this.zone=T,this.delegate=k}now(){return this.delegate.now()}schedule(T,k,V){const Y=this.zone;return this.delegate.schedule(function(Re){Y.runGuarded(()=>{T.apply(this,[Re])})},k,V)}}class ro{constructor(T){this.zone=T,this.task=null}call(T,k){const V=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Vo,{},Vo,Vo)),k.pipe((0,Lr.b)({next:V,complete:V,error:V})).subscribe(T).add(V)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Nl=(()=>{class C{constructor(k){this.ngZone=k,this.outsideAngular=k.runOutsideAngular(()=>new li(Zone.current)),this.insideAngular=k.run(()=>new li(Zone.current,Ii.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return C.\u0275fac=function(k){return new(k||C)(d.LFG(d.R0b))},C.\u0275prov=d.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})();function Vr(){const C=globalThis.\u0275AngularFireScheduler;if(!C)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return C}function Hr(C){return Vr(),function Na(C){return function(k){return(k=k.lift(new ro(C.ngZone))).pipe((0,Ps.R)(C.outsideAngular),(0,Ol.Q)(C.insideAngular))}}(Vr())(C)}},2090:(_t,Me,N)=>{N.d(Me,{$s:()=>st,BH:()=>_e,G6:()=>ve,L:()=>ue,LL:()=>mn,Pz:()=>De,Sg:()=>Ce,UG:()=>H,US:()=>he,ZB:()=>G,ZR:()=>Ft,aH:()=>rt,b$:()=>tt,eu:()=>Ne,hl:()=>Pe,jU:()=>ge,m9:()=>Wt,ne:()=>Zn,pd:()=>kr,r3:()=>br,ru:()=>Be,tV:()=>de,uI:()=>Ge,vZ:()=>Je,w1:()=>Xe,xO:()=>ii,xb:()=>pr,z$:()=>Ve,zI:()=>Ie,zd:()=>mr});const ae=function(U){const B=[];let W=0;for(let Ee=0;Ee<U.length;Ee++){let Q=U.charCodeAt(Ee);Q<128?B[W++]=Q:Q<2048?(B[W++]=Q>>6|192,B[W++]=63&Q|128):55296==(64512&Q)&&Ee+1<U.length&&56320==(64512&U.charCodeAt(Ee+1))?(Q=65536+((1023&Q)<<10)+(1023&U.charCodeAt(++Ee)),B[W++]=Q>>18|240,B[W++]=Q>>12&63|128,B[W++]=Q>>6&63|128,B[W++]=63&Q|128):(B[W++]=Q>>12|224,B[W++]=Q>>6&63|128,B[W++]=63&Q|128)}return B},he={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(U,B){if(!Array.isArray(U))throw Error("encodeByteArray takes an array as a parameter");this.init_();const W=B?this.byteToCharMapWebSafe_:this.byteToCharMap_,Ee=[];for(let Q=0;Q<U.length;Q+=3){const qe=U[Q],wt=Q+1<U.length,rn=wt?U[Q+1]:0,vn=Q+2<U.length,Qt=vn?U[Q+2]:0;let Kt=(15&rn)<<2|Qt>>6,mi=63&Qt;vn||(mi=64,wt||(Kt=64)),Ee.push(W[qe>>2],W[(3&qe)<<4|rn>>4],W[Kt],W[mi])}return Ee.join("")},encodeString(U,B){return this.HAS_NATIVE_SUPPORT&&!B?btoa(U):this.encodeByteArray(ae(U),B)},decodeString(U,B){return this.HAS_NATIVE_SUPPORT&&!B?atob(U):function(U){const B=[];let W=0,Ee=0;for(;W<U.length;){const Q=U[W++];if(Q<128)B[Ee++]=String.fromCharCode(Q);else if(Q>191&&Q<224){const qe=U[W++];B[Ee++]=String.fromCharCode((31&Q)<<6|63&qe)}else if(Q>239&&Q<365){const vn=((7&Q)<<18|(63&U[W++])<<12|(63&U[W++])<<6|63&U[W++])-65536;B[Ee++]=String.fromCharCode(55296+(vn>>10)),B[Ee++]=String.fromCharCode(56320+(1023&vn))}else{const qe=U[W++],wt=U[W++];B[Ee++]=String.fromCharCode((15&Q)<<12|(63&qe)<<6|63&wt)}}return B.join("")}(this.decodeStringToByteArray(U,B))},decodeStringToByteArray(U,B){this.init_();const W=B?this.charToByteMapWebSafe_:this.charToByteMap_,Ee=[];for(let Q=0;Q<U.length;){const qe=W[U.charAt(Q++)],rn=Q<U.length?W[U.charAt(Q)]:0;++Q;const Qt=Q<U.length?W[U.charAt(Q)]:64;++Q;const ze=Q<U.length?W[U.charAt(Q)]:64;if(++Q,null==qe||null==rn||null==Qt||null==ze)throw Error();Ee.push(qe<<2|rn>>4),64!==Qt&&(Ee.push(rn<<4&240|Qt>>2),64!==ze&&Ee.push(Qt<<6&192|ze))}return Ee},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let U=0;U<this.ENCODED_VALS.length;U++)this.byteToCharMap_[U]=this.ENCODED_VALS.charAt(U),this.charToByteMap_[this.byteToCharMap_[U]]=U,this.byteToCharMapWebSafe_[U]=this.ENCODED_VALS_WEBSAFE.charAt(U),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[U]]=U,U>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(U)]=U,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(U)]=U)}}},ue=function(U){return function(U){const B=ae(U);return he.encodeByteArray(B,!0)}(U).replace(/\./g,"")},de=function(U){try{return he.decodeString(U,!0)}catch(B){console.error("base64Decode failed: ",B)}return null};function G(U,B){if(!(B instanceof Object))return B;switch(B.constructor){case Date:return new Date(B.getTime());case Object:void 0===U&&(U={});break;case Array:U=[];break;default:return B}for(const W in B)!B.hasOwnProperty(W)||!X(W)||(U[W]=G(U[W],B[W]));return U}function X(U){return"__proto__"!==U}const pe=()=>{try{return function $e(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const U=process.env.__FIREBASE_DEFAULTS__;return U?JSON.parse(U):void 0})()||(()=>{if(typeof document>"u")return;let U;try{U=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const B=U&&de(U[1]);return B&&JSON.parse(B)})()}catch(U){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${U}`)}},rt=()=>{var U;return null===(U=pe())||void 0===U?void 0:U.config},De=U=>{var B;return null===(B=pe())||void 0===B?void 0:B[`_${U}`]};class _e{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((B,W)=>{this.resolve=B,this.reject=W})}wrapCallback(B){return(W,Ee)=>{W?this.reject(W):this.resolve(Ee),"function"==typeof B&&(this.promise.catch(()=>{}),1===B.length?B(W):B(W,Ee))}}}function Ce(U,B){if(U.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Ee=B||"demo-project",Q=U.iat||0,qe=U.sub||U.user_id;if(!qe)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const wt=Object.assign({iss:`https://securetoken.google.com/${Ee}`,aud:Ee,iat:Q,exp:Q+3600,auth_time:Q,sub:qe,user_id:qe,firebase:{sign_in_provider:"custom",identities:{}}},U);return[ue(JSON.stringify({alg:"none",type:"JWT"})),ue(JSON.stringify(wt)),""].join(".")}function Ve(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ge(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ve())}function H(){var U;const B=null===(U=pe())||void 0===U?void 0:U.forceEnvironment;if("node"===B)return!0;if("browser"===B)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function ge(){return"object"==typeof self&&self.self===self}function Be(){const U="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof U&&void 0!==U.id}function tt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Xe(){const U=Ve();return U.indexOf("MSIE ")>=0||U.indexOf("Trident/")>=0}function ve(){return!H()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Pe(){try{return"object"==typeof indexedDB}catch{return!1}}function Ne(){return new Promise((U,B)=>{try{let W=!0;const Ee="validate-browser-context-for-indexeddb-analytics-module",Q=self.indexedDB.open(Ee);Q.onsuccess=()=>{Q.result.close(),W||self.indexedDB.deleteDatabase(Ee),U(!0)},Q.onupgradeneeded=()=>{W=!1},Q.onerror=()=>{var qe;B((null===(qe=Q.error)||void 0===qe?void 0:qe.message)||"")}}catch(W){B(W)}})}function Ie(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Ft extends Error{constructor(B,W,Ee){super(W),this.code=B,this.customData=Ee,this.name="FirebaseError",Object.setPrototypeOf(this,Ft.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,mn.prototype.create)}}class mn{constructor(B,W,Ee){this.service=B,this.serviceName=W,this.errors=Ee}create(B,...W){const Ee=W[0]||{},Q=`${this.service}/${B}`,qe=this.errors[B],wt=qe?function nt(U,B){return U.replace(Jt,(W,Ee)=>{const Q=B[Ee];return null!=Q?String(Q):`<${Ee}?>`})}(qe,Ee):"Error";return new Ft(Q,`${this.serviceName}: ${wt} (${Q}).`,Ee)}}const Jt=/\{\$([^}]+)}/g;function br(U,B){return Object.prototype.hasOwnProperty.call(U,B)}function pr(U){for(const B in U)if(Object.prototype.hasOwnProperty.call(U,B))return!1;return!0}function Je(U,B){if(U===B)return!0;const W=Object.keys(U),Ee=Object.keys(B);for(const Q of W){if(!Ee.includes(Q))return!1;const qe=U[Q],wt=B[Q];if(Fi(qe)&&Fi(wt)){if(!Je(qe,wt))return!1}else if(qe!==wt)return!1}for(const Q of Ee)if(!W.includes(Q))return!1;return!0}function Fi(U){return null!==U&&"object"==typeof U}function ii(U){const B=[];for(const[W,Ee]of Object.entries(U))Array.isArray(Ee)?Ee.forEach(Q=>{B.push(encodeURIComponent(W)+"="+encodeURIComponent(Q))}):B.push(encodeURIComponent(W)+"="+encodeURIComponent(Ee));return B.length?"&"+B.join("&"):""}function mr(U){const B={};return U.replace(/^\?/,"").split("&").forEach(Ee=>{if(Ee){const[Q,qe]=Ee.split("=");B[decodeURIComponent(Q)]=decodeURIComponent(qe)}}),B}function kr(U){const B=U.indexOf("?");if(!B)return"";const W=U.indexOf("#",B);return U.substring(B,W>0?W:void 0)}function Zn(U,B){const W=new bn(U,B);return W.subscribe.bind(W)}class bn{constructor(B,W){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=W,this.task.then(()=>{B(this)}).catch(Ee=>{this.error(Ee)})}next(B){this.forEachObserver(W=>{W.next(B)})}error(B){this.forEachObserver(W=>{W.error(B)}),this.close(B)}complete(){this.forEachObserver(B=>{B.complete()}),this.close()}subscribe(B,W,Ee){let Q;if(void 0===B&&void 0===W&&void 0===Ee)throw new Error("Missing Observer.");Q=function ft(U,B){if("object"!=typeof U||null===U)return!1;for(const W of B)if(W in U&&"function"==typeof U[W])return!0;return!1}(B,["next","error","complete"])?B:{next:B,error:W,complete:Ee},void 0===Q.next&&(Q.next=hn),void 0===Q.error&&(Q.error=hn),void 0===Q.complete&&(Q.complete=hn);const qe=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Q.error(this.finalError):Q.complete()}catch{}}),this.observers.push(Q),qe}unsubscribeOne(B){void 0===this.observers||void 0===this.observers[B]||(delete this.observers[B],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(B){if(!this.finalized)for(let W=0;W<this.observers.length;W++)this.sendOne(W,B)}sendOne(B,W){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[B])try{W(this.observers[B])}catch(Ee){typeof console<"u"&&console.error&&console.error(Ee)}})}close(B){this.finalized||(this.finalized=!0,void 0!==B&&(this.finalError=B),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function hn(){}function st(U,B=1e3,W=2){const Ee=B*Math.pow(W,U),Q=Math.round(.5*Ee*(Math.random()-.5)*2);return Math.min(144e5,Ee+Q)}function Wt(U){return U&&U._delegate?U._delegate:U}},7449:(_t,Me,N)=>{var d=N(4650);let te=null;function P(){return te}const ne=new d.OlP("DocumentToken");let ue=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(){return function de(){return(0,d.LFG)(G)}()},providedIn:"platform"}),n})(),G=(()=>{class n extends ue{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return P().getBaseHref(this._doc)}onPopState(t){const i=P().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=P().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,i,r){X()?this._history.pushState(t,i,r):this.location.hash=r}replaceState(t,i,r){X()?this._history.replaceState(t,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ne))},n.\u0275prov=d.Yz7({token:n,factory:function(){return function $e(){return new G((0,d.LFG)(ne))}()},providedIn:"platform"}),n})();function X(){return!!window.history.pushState}function Se(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function ke(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function je(n){return n&&"?"!==n[0]?"?"+n:n}let pe=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(){return(0,d.f3M)(Qe)},providedIn:"root"}),n})();const me=new d.OlP("appBaseHref");let Qe=(()=>{class n extends pe{constructor(t,i){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??(0,d.f3M)(ne).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Se(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+je(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,a){const u=this.prepareExternalUrl(r+je(a));this._platformLocation.pushState(t,i,u)}replaceState(t,i,r,a){const u=this.prepareExternalUrl(r+je(a));this._platformLocation.replaceState(t,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ue),d.LFG(me,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),De=(()=>{class n{constructor(t){this._subject=new d.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const i=this._locationStrategy.getBaseHref();this._baseHref=ke(Ve(i)),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+je(i))}normalize(t){return n.stripTrailingSlash(function Ce(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,Ve(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+je(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+je(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}}return n.normalizeQueryParams=je,n.joinWithSlash=Se,n.stripTrailingSlash=ke,n.\u0275fac=function(t){return new(t||n)(d.LFG(pe))},n.\u0275prov=d.Yz7({token:n,factory:function(){return function _e(){return new De((0,d.LFG)(pe))}()},providedIn:"root"}),n})();function Ve(n){return n.replace(/\/index.html$/,"")}class fa{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Gs=(()=>{class n{constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=this._viewContainer;t.forEachOperation((r,a,u)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new fa(r.item,this._ngForOf,-1,-1),null===u?void 0:u);else if(null==u)i.remove(null===a?void 0:a);else if(null!==a){const f=i.get(a);i.move(f,u),Ds(f,r)}});for(let r=0,a=i.length;r<a;r++){const f=i.get(r).context;f.index=r,f.count=a,f.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{Ds(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.s_b),d.Y36(d.Rgc),d.Y36(d.ZZ4))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function Ds(n,e){n.context.$implicit=e.item}let Gn=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new fc,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){gi("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){gi("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.s_b),d.Y36(d.Rgc))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class fc{constructor(){this.$implicit=null,this.ngIf=null}}function gi(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,d.AaK)(e)}'.`)}class $i{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let pa=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const i=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let i=0;i<this._defaultViews.length;i++)this._defaultViews[i].enforceState(t)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),n})(),Do=(()=>{class n{constructor(t,i,r){this.ngSwitch=r,r._addCase(),this._view=new $i(t,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.s_b),d.Y36(d.Rgc),d.Y36(pa,9))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),n})();class Wu{createSubscription(e,t){return e.subscribe({next:t,error:i=>{throw i}})}dispose(e){e.unsubscribe()}}class Np{createSubscription(e,t){return e.then(t,i=>{throw i})}dispose(e){}}const Xr=new Np,Fp=new Wu;let _c=(()=>{class n{constructor(t){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,i=>this._updateLatestValue(t,i))}_selectStrategy(t){if((0,d.QGY)(t))return Xr;if((0,d.F4k)(t))return Fp;throw function oi(n,e){return new d.vHH(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,i){t===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.sBO,16))},n.\u0275pipe=d.Yjl({name:"async",type:n,pure:!1,standalone:!0}),n})(),Co=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})();const ts="browser";function Ci(n){return"server"===n}class Ws extends class Ju extends class he{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function re(n){te||(te=n)}(new Ws)}onAndCancel(e,t,i){return e.addEventListener(t,i,!1),()=>{e.removeEventListener(t,i,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function yl(){return Ks=Ks||document.querySelector("base"),Ks?Ks.getAttribute("href"):null}();return null==t?null:function tr(n){ai=ai||document.createElement("a"),ai.setAttribute("href",n);const e=ai.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Ks=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function nl(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[r,a]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(a)}return null}(document.cookie,e)}}let ai,Ks=null;const wn=new d.OlP("TRANSITION_ID"),Oc=[{provide:d.ip1,useFactory:function ed(n,e,t){return()=>{t.get(d.CZH).donePromise.then(()=>{const i=P(),r=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let a=0;a<r.length;a++)i.remove(r[a])})}},deps:[wn,ne,d.zs3],multi:!0}];let Pc=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const vl=new d.OlP("EventManagerPlugins");let td=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>r.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}addGlobalEventListener(t,i,r){return this._findPluginFor(i).addGlobalEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){const i=this._eventNameToPlugin.get(t);if(i)return i;const r=this._plugins;for(let a=0;a<r.length;a++){const u=r[a];if(u.supports(t))return this._eventNameToPlugin.set(t,u),u}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(vl),d.LFG(d.R0b))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class bl{constructor(e){this._doc=e}addGlobalEventListener(e,t,i){const r=P().getGlobalEventTarget(this._doc,e);if(!r)throw new Error(`Unsupported event target ${r} for event ${t}`);return this.addEventListener(r,t,i)}}let Zs=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const i=new Set;t.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),Ao=(()=>{class n extends Zs{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,i,r){t.forEach(a=>{const u=this._doc.createElement("style");u.textContent=a,r.push(i.appendChild(u))})}addHost(t){const i=[];this._addStylesToHost(this._stylesSet,t,i),this._hostNodes.set(t,i)}removeHost(t){const i=this._hostNodes.get(t);i&&i.forEach(nd),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(t,r,i)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(nd))}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ne))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();function nd(n){P().remove(n)}const Mo={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},id=/%COMP%/g;function Dl(n,e,t){for(let i=0;i<e.length;i++){let r=e[i];Array.isArray(r)?Dl(n,r,t):(r=r.replace(id,n),t.push(r))}return t}function rd(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Qs=(()=>{class n{constructor(t,i,r){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new xo(t)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;switch(i.encapsulation){case d.ifc.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new sd(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(t),r}case 1:case d.ifc.ShadowDom:return new od(this.eventManager,this.sharedStylesHost,t,i);default:if(!this.rendererByCompId.has(i.id)){const r=Dl(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(td),d.LFG(Ao),d.LFG(d.AFp))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class xo{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Mo[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(Da(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(Da(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?document.querySelector(e):e;if(!i)throw new Error(`The selector "${e}" did not match any elements`);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const a=Mo[r];a?e.setAttributeNS(a,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=Mo[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(d.JOm.DashCase|d.JOm.Important)?e.style.setProperty(t,i,r&d.JOm.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&d.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,rd(i)):this.eventManager.addEventListener(e,t,rd(i))}}function Da(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class sd extends xo{constructor(e,t,i,r){super(e),this.component=i;const a=Dl(r+"-"+i.id,i.styles,[]);t.addStyles(a),this.contentAttr=function Vn(n){return"_ngcontent-%COMP%".replace(id,n)}(r+"-"+i.id),this.hostAttr=function El(n){return"_nghost-%COMP%".replace(id,n)}(r+"-"+i.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}class od extends xo{constructor(e,t,i,r){super(e),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const a=Dl(r.id,r.styles,[]);for(let u=0;u<a.length;u++){const f=document.createElement("style");f.textContent=a[u],this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let _i=(()=>{class n extends bl{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ne))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const Ca=["alt","control","meta","shift"],Ia={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Fr={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Ta=(()=>{class n extends bl{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const a=n.parseEventName(i),u=n.eventCallback(a.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>P().onAndCancel(t,a.domEventName,u))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const a=n._normalizeKey(i.pop());let u="",f=i.indexOf("code");if(f>-1&&(i.splice(f,1),u="code."),Ca.forEach(w=>{const I=i.indexOf(w);I>-1&&(i.splice(I,1),u+=w+".")}),u+=a,0!=i.length||0===a.length)return null;const _={};return _.domEventName=r,_.fullKey=u,_}static matchEventFullKeyCode(t,i){let r=Ia[t.key]||t.key,a="";return i.indexOf("code.")>-1&&(r=t.code,a="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),Ca.forEach(u=>{u!==r&&(0,Fr[u])(t)&&(a+=u+".")}),a+=r,a===i)}static eventCallback(t,i,r){return a=>{n.matchEventFullKeyCode(a,t)&&r.runGuarded(()=>i(a))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ne))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const Sl=(0,d.eFA)(d._c5,"browser",[{provide:d.Lbi,useValue:ts},{provide:d.g9A,useValue:function Il(){Ws.makeCurrent()},multi:!0},{provide:ne,useFactory:function Aa(){return(0,d.RDi)(document),document},deps:[]}]),As=new d.OlP(""),ld=[{provide:d.rWj,useClass:class Fh{addToWindow(e){d.dqk.getAngularTestability=(i,r=!0)=>{const a=e.findTestabilityInTree(i,r);if(null==a)throw new Error("Could not find testability for element.");return a},d.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),d.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),d.dqk.frameworkStabilizers||(d.dqk.frameworkStabilizers=[]),d.dqk.frameworkStabilizers.push(i=>{const r=d.dqk.getAllAngularTestabilities();let a=r.length,u=!1;const f=function(_){u=u||_,a--,0==a&&i(u)};r.forEach(function(_){_.whenStable(f)})})}findTestabilityInTree(e,t,i){return null==t?null:e.getTestability(t)??(i?P().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:d.lri,useClass:d.dDg,deps:[d.R0b,d.eoX,d.rWj]},{provide:d.dDg,useClass:d.dDg,deps:[d.R0b,d.eoX,d.rWj]}],Ms=[{provide:d.zSh,useValue:"root"},{provide:d.qLn,useFactory:function Js(){return new d.qLn},deps:[]},{provide:vl,useClass:_i,multi:!0,deps:[ne,d.R0b,d.Lbi]},{provide:vl,useClass:Ta,multi:!0,deps:[ne]},{provide:Qs,useClass:Qs,deps:[td,Ao,d.AFp]},{provide:d.FYo,useExisting:Qs},{provide:Zs,useExisting:Ao},{provide:Ao,useClass:Ao,deps:[ne]},{provide:td,useClass:td,deps:[vl,d.R0b]},{provide:class To{},useClass:Pc,deps:[]},[]];let Al=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:d.AFp,useValue:t.appId},{provide:wn,useExisting:d.AFp},Oc]}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(As,12))},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[...Ms,...ld],imports:[Co,d.hGG]}),n})();typeof window<"u"&&window;let Fo=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(t){let i=null;return i=t?new(t||n):d.LFG(qp),i},providedIn:"root"}),n})(),qp=(()=>{class n extends Fo{constructor(t){super(),this._doc=t}sanitize(t,i){if(null==i)return null;switch(t){case d.q3G.NONE:return i;case d.q3G.HTML:return(0,d.qzn)(i,"HTML")?(0,d.z3N)(i):(0,d.EiD)(this._doc,String(i)).toString();case d.q3G.STYLE:return(0,d.qzn)(i,"Style")?(0,d.z3N)(i):i;case d.q3G.SCRIPT:if((0,d.qzn)(i,"Script"))return(0,d.z3N)(i);throw new Error("unsafe value used in a script context");case d.q3G.URL:return(0,d.qzn)(i,"URL")?(0,d.z3N)(i):(0,d.mCW)(String(i));case d.q3G.RESOURCE_URL:if((0,d.qzn)(i,"ResourceURL"))return(0,d.z3N)(i);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return(0,d.JVY)(t)}bypassSecurityTrustStyle(t){return(0,d.L6k)(t)}bypassSecurityTrustScript(t){return(0,d.eBb)(t)}bypassSecurityTrustUrl(t){return(0,d.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,d.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ne))},n.\u0275prov=d.Yz7({token:n,factory:function(t){let i=null;return i=t?new t:function zp(n){return new qp(n.get(ne))}(d.LFG(d.zs3)),i},providedIn:"root"}),n})();function Bi(n){return null!=n&&"false"!=`${n}`}function Rs(n,e=0){return function Bh(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}function Os(n){return Array.isArray(n)?n:[n]}function en(n){return null==n?"":"string"==typeof n?n:`${n}px`}function tn(n){return n instanceof d.SBq?n.nativeElement:n}var At=N(7579),ir=N(3269),zi=N(8996);function qi(...n){const e=(0,ir.yG)(n);return(0,zi.D)(n,e)}var Ii=N(8306),Lr=N(8421),Ps=N(5577),Ol=N(1144),Rn=N(576),sn=N(4004);const{isArray:Ns}=Array;function io(n){return(0,sn.U)(e=>function Pl(n,e){return Ns(e)?n(...e):n(e)}(n,e))}const Vc=["addListener","removeListener"],Bc=["addEventListener","removeEventListener"],Oa=["on","off"];function Hc(n,e,t,i){if((0,Rn.m)(t)&&(i=t,t=void 0),i)return Hc(n,e,t).pipe(io(i));const[r,a]=function Lo(n){return(0,Rn.m)(n.addEventListener)&&(0,Rn.m)(n.removeEventListener)}(n)?Bc.map(u=>f=>n[u](e,f,t)):function Wp(n){return(0,Rn.m)(n.addListener)&&(0,Rn.m)(n.removeListener)}(n)?Vc.map(Uc(n,e)):function Pa(n){return(0,Rn.m)(n.on)&&(0,Rn.m)(n.off)}(n)?Oa.map(Uc(n,e)):[];if(!r&&(0,Ol.z)(n))return(0,Ps.z)(u=>Hc(u,e,t))((0,Lr.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new Ii.y(u=>{const f=(..._)=>u.next(1<_.length?_:_[0]);return r(f),()=>a(f)})}function Uc(n,e){return t=>i=>n[t](e,i)}var Vo=N(4408),li=N(727);const ro={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:i}=ro;i&&(e=i.requestAnimationFrame,t=i.cancelAnimationFrame);const r=e(a=>{t=void 0,n(a)});return new li.w0(()=>t?.(r))},requestAnimationFrame(...n){const{delegate:e}=ro;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=ro;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};var Vr=N(7565);const Br=new class jc extends Vr.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class Nl extends Vo.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=ro.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:a}=e;null!=t&&(null===(r=a[a.length-1])||void 0===r?void 0:r.id)!==t&&(ro.cancelAnimationFrame(t),e._scheduled=void 0)}});let Hr,Bo=1;const Na={};function Bn(n){return n in Na&&(delete Na[n],!0)}const Uh={setImmediate(n){const e=Bo++;return Na[e]=!0,Hr||(Hr=Promise.resolve()),Hr.then(()=>Bn(e)&&n()),e},clearImmediate(n){Bn(n)}},{setImmediate:T,clearImmediate:k}=Uh,V={setImmediate(...n){const{delegate:e}=V;return(e?.setImmediate||T)(...n)},clearImmediate(n){const{delegate:e}=V;return(e?.clearImmediate||k)(n)},delegate:void 0};new class ie extends Vr.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class Y extends Vo.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=V.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:a}=e;null!=t&&(null===(r=a[a.length-1])||void 0===r?void 0:r.id)!==t&&(V.clearImmediate(t),e._scheduled=void 0)}});var ct=N(4986),Ye=N(4482),Ct=N(5403),ci=N(3532);function so(n=0,e,t=ct.P){let i=-1;return null!=e&&((0,ci.K)(e)?t=e:i=e),new Ii.y(r=>{let a=function zn(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;a<0&&(a=0);let u=0;return t.schedule(function(){r.closed||(r.next(u++),0<=i?this.schedule(void 0,i):r.complete())},a)})}function Fa(n,e=ct.z){return function Ot(n){return(0,Ye.e)((e,t)=>{let i=!1,r=null,a=null,u=!1;const f=()=>{if(a?.unsubscribe(),a=null,i){i=!1;const w=r;r=null,t.next(w)}u&&t.complete()},_=()=>{a=null,u&&t.complete()};e.subscribe((0,Ct.x)(t,w=>{i=!0,r=w,a||(0,Lr.Xf)(n(w)).subscribe(a=(0,Ct.x)(t,f,_))},()=>{u=!0,(!i||!a||a.closed)&&t.complete()}))})}(()=>so(n,e))}function Ti(n,e){return(0,Ye.e)((t,i)=>{let r=0;t.subscribe((0,Ct.x)(i,a=>n.call(e,a,r++)&&i.next(a)))})}let ui;try{ui=typeof Intl<"u"&&Intl.v8BreakIterator}catch{ui=!1}let $c,_n=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function bc(n){return n===ts}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!ui)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.Lbi))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const jh=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function Zp(){if($c)return $c;if("object"!=typeof document||!document)return $c=new Set(jh),$c;let n=document.createElement("input");return $c=new Set(jh.filter(e=>(n.setAttribute("type",e),n.type===e))),$c}let Fl,Fs,ud;function La(n){return function C_(){if(null==Fl&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Fl=!0}))}finally{Fl=Fl||!1}return Fl}()?n:!!n.capture}function qc(){if(null==Fs){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Fs=!1,Fs;if("scrollBehavior"in document.documentElement.style)Fs=!0;else{const n=Element.prototype.scrollTo;Fs=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Fs}function dd(n){if(function Jb(){if(null==ud){const n=typeof document<"u"?document.head:null;ud=!(!n||!n.createShadowRoot&&!n.attachShadow)}return ud}()){const e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function Yp(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const e=n.shadowRoot.activeElement;if(e===n)break;n=e}return n}function os(n){return n.composedPath?n.composedPath()[0]:n.target}function Gh(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}const $h=new d.OlP("cdk-dir-doc",{providedIn:"root",factory:function Qp(){return(0,d.f3M)(ne)}}),ew=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Wc=(()=>{class n{constructor(t){if(this.value="ltr",this.change=new d.vpe,t){const r=t.documentElement?t.documentElement.dir:null;this.value=function zh(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?ew.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||r||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(d.LFG($h,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),hd=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})(),Kc=(()=>{class n{constructor(t,i,r){this._ngZone=t,this._platform=i,this._scrolled=new At.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new Ii.y(i=>{this._globalSubscription||this._addGlobalListener();const r=t>0?this._scrolled.pipe(Fa(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):qi()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){const r=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe(Ti(a=>!a||r.indexOf(a)>-1))}getAncestorScrollContainers(t){const i=[];return this.scrollContainers.forEach((r,a)=>{this._scrollableContainsElement(a,t)&&i.push(a)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,i){let r=tn(i),a=t.getElementRef().nativeElement;do{if(r==a)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Hc(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.R0b),d.LFG(_n),d.LFG(ne,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Wh=(()=>{class n{constructor(t,i,r){this._platform=t,this._change=new At.x,this._changeListener=a=>{this._change.next(a)},this._document=r,i.runOutsideAngular(()=>{if(t.isBrowser){const a=this._getWindow();a.addEventListener("resize",this._changeListener),a.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,i=this._getWindow(),r=t.documentElement,a=r.getBoundingClientRect();return{top:-a.top||t.body.scrollTop||i.scrollY||r.scrollTop||0,left:-a.left||t.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(Fa(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(_n),d.LFG(d.R0b),d.LFG(ne,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Si=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})(),fd=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[hd,Si,hd,Si]}),n})();class nm extends At.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}}function Sw(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}var Aw=N(515);function Vs(n){return n<=0?()=>Aw.E:(0,Ye.e)((e,t)=>{let i=0;e.subscribe((0,Ct.x)(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function uf(n){return Ti((e,t)=>n<=t)}var df=N(4671);function Tm(n,e=df.y){return n=n??nI,(0,Ye.e)((t,i)=>{let r,a=!0;t.subscribe((0,Ct.x)(i,u=>{const f=e(u);(a||!n(r,f))&&(a=!1,r=f,i.next(u))}))})}function nI(n,e){return n===e}var vi=N(5032);function Go(n){return(0,Ye.e)((e,t)=>{(0,Lr.Xf)(n).subscribe((0,Ct.x)(t,()=>t.complete(),vi.Z)),!t.closed&&e.subscribe(t)})}function Mw(n,e=ct.z){return(0,Ye.e)((t,i)=>{let r=null,a=null,u=null;const f=()=>{if(r){r.unsubscribe(),r=null;const w=a;a=null,i.next(w)}};function _(){const w=u+n,I=e.now();if(I<w)return r=this.schedule(void 0,w-I),void i.add(r);f()}t.subscribe((0,Ct.x)(i,w=>{a=w,u=e.now(),r||(r=e.schedule(_,n),i.add(r))},()=>{f(),i.complete()},void 0,()=>{a=r=null}))})}let $_=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),xw=(()=>{class n{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,i)=>this._cleanupObserver(i))}observe(t){const i=tn(t);return new Ii.y(r=>{const u=this._observeElement(i).subscribe(r);return()=>{u.unsubscribe(),this._unobserveElement(i)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const i=new At.x,r=this._mutationObserverFactory.create(a=>i.next(a));r&&r.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:r,stream:i,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:i,stream:r}=this._observedElements.get(t);i&&i.disconnect(),r.complete(),this._observedElements.delete(t)}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG($_))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),iI=(()=>{class n{constructor(t,i,r){this._contentObserver=t,this._elementRef=i,this._ngZone=r,this.event=new d.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(t){this._disabled=Bi(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=Rs(t),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(Mw(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(xw),d.Y36(d.SBq),d.Y36(d.R0b))},n.\u0275dir=d.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),kw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[$_]}),n})();const{isArray:rI}=Array,{getPrototypeOf:sI,prototype:oI,keys:ex}=Object;function aI(n){if(1===n.length){const e=n[0];if(rI(e))return{args:e,keys:null};if(function hf(n){return n&&"object"==typeof n&&sI(n)===oI}(e)){const t=ex(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}function z_(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}var Rw=N(9672);function Nw(n,e,t){n?(0,Rw.f)(t,n,e):e()}var Fw=N(8189);function ff(...n){return function Lw(){return(0,Fw.J)(1)}()((0,zi.D)(n,(0,ir.yG)(n)))}function lo(...n){const e=(0,ir.yG)(n);return(0,Ye.e)((t,i)=>{(e?ff(n,t,e):ff(n,t)).subscribe(i)})}const Sm=new Set;let Yc,Vw=(()=>{class n{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):lI}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function Qc(n){if(!Sm.has(n))try{Yc||(Yc=document.createElement("style"),Yc.setAttribute("type","text/css"),document.head.appendChild(Yc)),Yc.sheet&&(Yc.sheet.insertRule(`@media ${n} {body{ }}`,0),Sm.add(n))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(_n))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function lI(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let q_=(()=>{class n{constructor(t,i){this._mediaMatcher=t,this._zone=i,this._queries=new Map,this._destroySubject=new At.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return pf(Os(t)).some(r=>this._registerQuery(r).mql.matches)}observe(t){let a=function Ow(...n){const e=(0,ir.yG)(n),t=(0,ir.jO)(n),{args:i,keys:r}=aI(n);if(0===i.length)return(0,zi.D)([],e);const a=new Ii.y(function Pw(n,e,t=df.y){return i=>{Nw(e,()=>{const{length:r}=n,a=new Array(r);let u=r,f=r;for(let _=0;_<r;_++)Nw(e,()=>{const w=(0,zi.D)(n[_],e);let I=!1;w.subscribe((0,Ct.x)(i,x=>{a[_]=x,I||(I=!0,f--),f||i.next(t(a.slice()))},()=>{--u||i.complete()}))},i)},i)}}(i,e,r?u=>z_(r,u):df.y));return t?a.pipe(io(t)):a}(pf(Os(t)).map(u=>this._registerQuery(u).observable));return a=ff(a.pipe(Vs(1)),a.pipe(uf(1),Mw(0))),a.pipe((0,sn.U)(u=>{const f={matches:!1,breakpoints:{}};return u.forEach(({matches:_,query:w})=>{f.matches=f.matches||_,f.breakpoints[w]=_}),f}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const i=this._mediaMatcher.matchMedia(t),a={observable:new Ii.y(u=>{const f=_=>this._zone.run(()=>u.next(_));return i.addListener(f),()=>{i.removeListener(f)}}).pipe(lo(i),(0,sn.U)(({matches:u})=>({query:t,matches:u})),Go(this._destroySubject)),mql:i};return this._queries.set(t,a),a}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Vw),d.LFG(d.R0b))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function pf(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}let _f=(()=>{class n{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function jw(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const i=function uI(n){try{return n.frameElement}catch{return null}}(function fI(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(t));if(i&&(-1===Gw(i)||!this.isVisible(i)))return!1;let r=t.nodeName.toLowerCase(),a=Gw(t);return t.hasAttribute("contenteditable")?-1!==a:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function ux(n){let e=n.nodeName.toLowerCase(),t="input"===e&&n.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===r?!!t.hasAttribute("controls")&&-1!==a:"video"===r?-1!==a&&(null!==a||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,i){return function $w(n){return!function dI(n){return function hI(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function cx(n){let e=n.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(n)||function yf(n){return function bd(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||wd(n))}(t)&&!this.isDisabled(t)&&(i?.ignoreVisibility||this.isVisible(t))}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(_n))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function wd(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let e=n.getAttribute("tabindex");return!(!e||isNaN(parseInt(e,10)))}function Gw(n){if(!wd(n))return null;const e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class pI{constructor(e,t,i,r,a=!1){this._element=e,this._checker=t,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,a||this.attachAnchors()}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){const t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){const i=this._getFirstTabbableElement(t);return i?.focus(e),!!i}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){const t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){const t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let i=0;i<t.length;i++){const r=t[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[i]):null;if(r)return r}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let i=t.length-1;i>=0;i--){const r=t[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[i]):null;if(r)return r}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe(Vs(1)).subscribe(e)}}let Z_=(()=>{class n{constructor(t,i,r){this._checker=t,this._ngZone=i,this._document=r}create(t,i=!1){return new pI(t,this._checker,this._ngZone,this._document,i)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(_f),d.LFG(d.R0b),d.LFG(ne))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Xc(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function Y_(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const _I=new d.OlP("cdk-input-modality-detector-options"),yI={ignoreKeys:[18,17,224,91,16]},Ed=La({passive:!0,capture:!0});let vI=(()=>{class n{constructor(t,i,r,a){this._platform=t,this._mostRecentTarget=null,this._modality=new nm(null),this._lastTouchMs=0,this._onKeydown=u=>{this._options?.ignoreKeys?.some(f=>f===u.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=os(u))},this._onMousedown=u=>{Date.now()-this._lastTouchMs<650||(this._modality.next(Xc(u)?"keyboard":"mouse"),this._mostRecentTarget=os(u))},this._onTouchstart=u=>{Y_(u)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=os(u))},this._options={...yI,...a},this.modalityDetected=this._modality.pipe(uf(1)),this.modalityChanged=this.modalityDetected.pipe(Tm()),t.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,Ed),r.addEventListener("mousedown",this._onMousedown,Ed),r.addEventListener("touchstart",this._onTouchstart,Ed)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Ed),document.removeEventListener("mousedown",this._onMousedown,Ed),document.removeEventListener("touchstart",this._onTouchstart,Ed))}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(_n),d.LFG(d.R0b),d.LFG(ne),d.LFG(_I,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const mx=new d.OlP("cdk-focus-monitor-default-options"),Q_=La({passive:!0,capture:!0});let vf=(()=>{class n{constructor(t,i,r,a,u){this._ngZone=t,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new At.x,this._rootNodeFocusAndBlurListener=f=>{for(let w=os(f);w;w=w.parentElement)"focus"===f.type?this._onFocus(f,w):this._onBlur(f,w)},this._document=a,this._detectionMode=u?.detectionMode||0}monitor(t,i=!1){const r=tn(t);if(!this._platform.isBrowser||1!==r.nodeType)return qi(null);const a=dd(r)||this._getDocument(),u=this._elementInfo.get(r);if(u)return i&&(u.checkChildren=!0),u.subject;const f={checkChildren:i,subject:new At.x,rootNode:a};return this._elementInfo.set(r,f),this._registerGlobalListeners(f),f.subject}stopMonitoring(t){const i=tn(t),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(t,i,r){const a=tn(t);a===this._getDocument().activeElement?this._getClosestElementsInfo(a).forEach(([f,_])=>this._originChanged(f,i,_)):(this._setOrigin(i),"function"==typeof a.focus&&a.focus(r))}ngOnDestroy(){this._elementInfo.forEach((t,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,i){t.classList.toggle("cdk-focused",!!i),t.classList.toggle("cdk-touch-focused","touch"===i),t.classList.toggle("cdk-keyboard-focused","keyboard"===i),t.classList.toggle("cdk-mouse-focused","mouse"===i),t.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(t,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,i){const r=this._elementInfo.get(i),a=os(t);!r||!r.checkChildren&&i!==a||this._originChanged(i,this._getFocusOrigin(a),r)}_onBlur(t,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&t.relatedTarget instanceof Node&&i.contains(t.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(t,i){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(i))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const i=t.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,Q_),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,Q_)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Go(this._stopInputModalityDetector)).subscribe(a=>{this._setOrigin(a,!0)}))}_removeGlobalListeners(t){const i=t.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Q_),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Q_),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,i,r){this._setClasses(t,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(t){const i=[];return this._elementInfo.forEach((r,a)=>{(a===t||r.checkChildren&&a.contains(t))&&i.push([a,r])}),i}_isLastInteractionFromInputLabel(t){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===t||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||t.disabled)return!1;const a=t.labels;if(a)for(let u=0;u<a.length;u++)if(a[u].contains(i))return!0;return!1}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.R0b),d.LFG(_n),d.LFG(vI),d.LFG(ne,8),d.LFG(mx,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const X_="cdk-high-contrast-black-on-white",bI="cdk-high-contrast-white-on-black",Mm="cdk-high-contrast-active";let Zw=(()=>{class n{constructor(t,i){this._platform=t,this._document=i,this._breakpointSubscription=(0,d.f3M)(q_).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(t):null,a=(r&&r.backgroundColor||"").replace(/ /g,"");switch(t.remove(),a){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(Mm,X_,bI),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?t.add(Mm,X_):2===i&&t.add(Mm,bI)}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(_n),d.LFG(ne))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Yw=(()=>{class n{constructor(t){t._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Zw))},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[kw]}),n})();var Cd=N(6451),Ur=N(8505);function Ha(n,e){return(0,Ye.e)((t,i)=>{let r=null,a=0,u=!1;const f=()=>u&&!r&&i.complete();t.subscribe((0,Ct.x)(i,_=>{r?.unsubscribe();let w=0;const I=a++;(0,Lr.Xf)(n(_,I)).subscribe(r=(0,Ct.x)(i,x=>i.next(e?e(_,x,I,w++):x),()=>{r=null,f()}))},()=>{u=!0,f()}))})}function xm(n,e,t){for(let i in e)if(e.hasOwnProperty(i)){const r=e[i];r?n.setProperty(i,r,t?.has(i)?"important":""):n.removeProperty(i)}return n}function Id(n,e){const t=e?"":"none";xm(n.style,{"touch-action":e?"":"none","-webkit-user-drag":e?"":"none","-webkit-tap-highlight-color":e?"":"transparent","user-select":t,"-ms-user-select":t,"-webkit-user-select":t,"-moz-user-select":t})}function Qw(n,e,t){xm(n.style,{position:e?"":"fixed",top:e?"":"0",opacity:e?"":"0",left:e?"":"-999em"},t)}function km(n,e){return e&&"none"!=e?n+" "+e:n}function Xw(n){const e=n.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(n)*e}function J_(n,e){return n.getPropertyValue(e).split(",").map(i=>i.trim())}function ey(n){const e=n.getBoundingClientRect();return{top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height,x:e.x,y:e.y}}function ty(n,e,t){const{top:i,bottom:r,left:a,right:u}=n;return t>=i&&t<=r&&e>=a&&e<=u}function jt(n,e,t){n.top+=e,n.bottom=n.top+n.height,n.left+=t,n.right=n.left+n.width}function ny(n,e,t,i){const{top:r,right:a,bottom:u,left:f,width:_,height:w}=n,I=_*e,x=w*e;return i>r-x&&i<u+x&&t>f-I&&t<a+I}class iy{constructor(e){this._document=e,this.positions=new Map}clear(){this.positions.clear()}cache(e){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),e.forEach(t=>{this.positions.set(t,{scrollPosition:{top:t.scrollTop,left:t.scrollLeft},clientRect:ey(t)})})}handleScroll(e){const t=os(e),i=this.positions.get(t);if(!i)return null;const r=i.scrollPosition;let a,u;if(t===this._document){const w=this.getViewportScrollPosition();a=w.top,u=w.left}else a=t.scrollTop,u=t.scrollLeft;const f=r.top-a,_=r.left-u;return this.positions.forEach((w,I)=>{w.clientRect&&t!==I&&t.contains(I)&&jt(w.clientRect,f,_)}),r.top=a,r.left=u,{top:f,left:_}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}}function ry(n){const e=n.cloneNode(!0),t=e.querySelectorAll("[id]"),i=n.nodeName.toLowerCase();e.removeAttribute("id");for(let r=0;r<t.length;r++)t[r].removeAttribute("id");return"canvas"===i?t0(n,e):("input"===i||"select"===i||"textarea"===i)&&sy(n,e),e0("canvas",n,e,t0),e0("input, textarea, select",n,e,sy),e}function e0(n,e,t,i){const r=e.querySelectorAll(n);if(r.length){const a=t.querySelectorAll(n);for(let u=0;u<r.length;u++)i(r[u],a[u])}}let EI=0;function sy(n,e){"file"!==e.type&&(e.value=n.value),"radio"===e.type&&e.name&&(e.name=`mat-clone-${e.name}-${EI++}`)}function t0(n,e){const t=e.getContext("2d");if(t)try{t.drawImage(n,0,0)}catch{}}const oy=La({passive:!0}),Rm=La({passive:!1}),n0=new Set(["position"]);class r0{constructor(e,t,i,r,a,u){this._config=t,this._document=i,this._ngZone=r,this._viewportRuler=a,this._dragDropRegistry=u,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new At.x,this._pointerMoveSubscription=li.w0.EMPTY,this._pointerUpSubscription=li.w0.EMPTY,this._scrollSubscription=li.w0.EMPTY,this._resizeSubscription=li.w0.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new At.x,this.started=new At.x,this.released=new At.x,this.ended=new At.x,this.entered=new At.x,this.exited=new At.x,this.dropped=new At.x,this.moved=this._moveEvents,this._pointerDown=f=>{if(this.beforeStarted.next(),this._handles.length){const _=this._getTargetHandle(f);_&&!this._disabledHandles.has(_)&&!this.disabled&&this._initializeDragSequence(_,f)}else this.disabled||this._initializeDragSequence(this._rootElement,f)},this._pointerMove=f=>{const _=this._getPointerPositionOnPage(f);if(!this._hasStartedDragging){if(Math.abs(_.x-this._pickupPositionOnPage.x)+Math.abs(_.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const j=Date.now()>=this._dragStartTime+this._getDragStartDelay(f),z=this._dropContainer;if(!j)return void this._endDragSequence(f);(!z||!z.isDragging()&&!z.isReceiving())&&(f.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(f)))}return}f.preventDefault();const w=this._getConstrainedPointerPosition(_);if(this._hasMoved=!0,this._lastKnownPointerPosition=_,this._updatePointerDirectionDelta(w),this._dropContainer)this._updateActiveDropContainer(w,_);else{const I=this.constrainPosition?this._initialClientRect:this._pickupPositionOnPage,x=this._activeTransform;x.x=w.x-I.x+this._passiveTransform.x,x.y=w.y-I.y+this._passiveTransform.y,this._applyRootElementTransform(x.x,x.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:w,event:f,distance:this._getDragDistance(w),delta:this._pointerDirectionDelta})})},this._pointerUp=f=>{this._endDragSequence(f)},this._nativeDragStart=f=>{if(this._handles.length){const _=this._getTargetHandle(f);_&&!this._disabledHandles.has(_)&&!this.disabled&&f.preventDefault()}else this.disabled||f.preventDefault()},this.withRootElement(e).withParent(t.parentDragRef||null),this._parentPositions=new iy(i),u.registerDragItem(this)}get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(e){const t=Bi(e);t!==this._disabled&&(this._disabled=t,this._toggleNativeDragInteractions(),this._handles.forEach(i=>Id(i,t)))}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(e){this._handles=e.map(i=>tn(i)),this._handles.forEach(i=>Id(i,this.disabled)),this._toggleNativeDragInteractions();const t=new Set;return this._disabledHandles.forEach(i=>{this._handles.indexOf(i)>-1&&t.add(i)}),this._disabledHandles=t,this}withPreviewTemplate(e){return this._previewTemplate=e,this}withPlaceholderTemplate(e){return this._placeholderTemplate=e,this}withRootElement(e){const t=tn(e);return t!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{t.addEventListener("mousedown",this._pointerDown,Rm),t.addEventListener("touchstart",this._pointerDown,oy),t.addEventListener("dragstart",this._nativeDragStart,Rm)}),this._initialTransform=void 0,this._rootElement=t),typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(e){return this._boundaryElement=e?tn(e):null,this._resizeSubscription.unsubscribe(),e&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(e){return this._parentDragRef=e,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&this._rootElement?.remove(),this._anchor?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(e){!this._disabledHandles.has(e)&&this._handles.indexOf(e)>-1&&(this._disabledHandles.add(e),Id(e,!0))}enableHandle(e){this._disabledHandles.has(e)&&(this._disabledHandles.delete(e),Id(e,this.disabled))}withDirection(e){return this._direction=e,this}_withDropContainer(e){this._dropContainer=e}getFreeDragPosition(){const e=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:e.x,y:e.y}}setFreeDragPosition(e){return this._activeTransform={x:0,y:0},this._passiveTransform.x=e.x,this._passiveTransform.y=e.y,this._dropContainer||this._applyRootElementTransform(e.x,e.y),this}withPreviewContainer(e){return this._previewContainer=e,this}_sortFromLastPointerPosition(){const e=this._lastKnownPointerPosition;e&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(e),e)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){this._preview?.remove(),this._previewRef?.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(e){if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this,event:e}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(e),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const t=this._getPointerPositionOnPage(e);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(t),dropPoint:t,event:e})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(e){wf(e)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const t=this._dropContainer;if(t){const i=this._rootElement,r=i.parentNode,a=this._placeholder=this._createPlaceholderElement(),u=this._anchor=this._anchor||this._document.createComment(""),f=this._getShadowRoot();r.insertBefore(u,i),this._initialTransform=i.style.transform||"",this._preview=this._createPreviewElement(),Qw(i,!1,n0),this._document.body.appendChild(r.replaceChild(a,i)),this._getPreviewInsertionPoint(r,f).appendChild(this._preview),this.started.next({source:this,event:e}),t.start(),this._initialContainer=t,this._initialIndex=t.getItemIndex(this)}else this.started.next({source:this,event:e}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(t?t.getScrollableParents():[])}_initializeDragSequence(e,t){this._parentDragRef&&t.stopPropagation();const i=this.isDragging(),r=wf(t),a=!r&&0!==t.button,u=this._rootElement,f=os(t),_=!r&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),w=r?Y_(t):Xc(t);if(f&&f.draggable&&"mousedown"===t.type&&t.preventDefault(),i||a||_||w)return;if(this._handles.length){const L=u.style;this._rootElementTapHighlight=L.webkitTapHighlightColor||"",L.webkitTapHighlightColor="transparent"}this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._initialClientRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(L=>this._updateOnScroll(L)),this._boundaryElement&&(this._boundaryRect=ey(this._boundaryElement));const I=this._previewTemplate;this._pickupPositionInElement=I&&I.template&&!I.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialClientRect,e,t);const x=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(t);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:x.x,y:x.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,t)}_cleanupDragArtifacts(e){Qw(this._rootElement,!0,n0),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._initialClientRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const t=this._dropContainer,i=t.getItemIndex(this),r=this._getPointerPositionOnPage(e),a=this._getDragDistance(r),u=t._isOverContainer(r.x,r.y);this.ended.next({source:this,distance:a,dropPoint:r,event:e}),this.dropped.next({item:this,currentIndex:i,previousIndex:this._initialIndex,container:t,previousContainer:this._initialContainer,isPointerOverContainer:u,distance:a,dropPoint:r,event:e}),t.drop(this,i,this._initialIndex,this._initialContainer,u,a,r,e),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:e,y:t},{x:i,y:r}){let a=this._initialContainer._getSiblingContainerFromPosition(this,e,t);!a&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(e,t)&&(a=this._initialContainer),a&&a!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=a,this._dropContainer.enter(this,e,t,a===this._initialContainer&&a.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:a,currentIndex:a.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(i,r),this._dropContainer._sortItem(this,e,t,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(e,t):this._applyPreviewTransform(e-this._pickupPositionInElement.x,t-this._pickupPositionInElement.y))}_createPreviewElement(){const e=this._previewTemplate,t=this.previewClass,i=e?e.template:null;let r;if(i&&e){const a=e.matchSize?this._initialClientRect:null,u=e.viewContainer.createEmbeddedView(i,e.context);u.detectChanges(),r=Om(u,this._document),this._previewRef=u,e.matchSize?Pm(r,a):r.style.transform=bf(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else r=ry(this._rootElement),Pm(r,this._initialClientRect),this._initialTransform&&(r.style.transform=this._initialTransform);return xm(r.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":`${this._config.zIndex||1e3}`},n0),Id(r,!1),r.classList.add("cdk-drag-preview"),r.setAttribute("dir",this._direction),t&&(Array.isArray(t)?t.forEach(a=>r.classList.add(a)):r.classList.add(t)),r}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const e=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._applyPreviewTransform(e.left,e.top);const t=function Jw(n){const e=getComputedStyle(n),t=J_(e,"transition-property"),i=t.find(f=>"transform"===f||"all"===f);if(!i)return 0;const r=t.indexOf(i),a=J_(e,"transition-duration"),u=J_(e,"transition-delay");return Xw(a[r])+Xw(u[r])}(this._preview);return 0===t?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(i=>{const r=u=>{(!u||os(u)===this._preview&&"transform"===u.propertyName)&&(this._preview?.removeEventListener("transitionend",r),i(),clearTimeout(a))},a=setTimeout(r,1.5*t);this._preview.addEventListener("transitionend",r)}))}_createPlaceholderElement(){const e=this._placeholderTemplate,t=e?e.template:null;let i;return t?(this._placeholderRef=e.viewContainer.createEmbeddedView(t,e.context),this._placeholderRef.detectChanges(),i=Om(this._placeholderRef,this._document)):i=ry(this._rootElement),i.style.pointerEvents="none",i.classList.add("cdk-drag-placeholder"),i}_getPointerPositionInElement(e,t,i){const r=t===this._rootElement?null:t,a=r?r.getBoundingClientRect():e,u=wf(i)?i.targetTouches[0]:i,f=this._getViewportScrollPosition();return{x:a.left-e.left+(u.pageX-a.left-f.left),y:a.top-e.top+(u.pageY-a.top-f.top)}}_getPointerPositionOnPage(e){const t=this._getViewportScrollPosition(),i=wf(e)?e.touches[0]||e.changedTouches[0]||{pageX:0,pageY:0}:e,r=i.pageX-t.left,a=i.pageY-t.top;if(this._ownerSVGElement){const u=this._ownerSVGElement.getScreenCTM();if(u){const f=this._ownerSVGElement.createSVGPoint();return f.x=r,f.y=a,f.matrixTransform(u.inverse())}}return{x:r,y:a}}_getConstrainedPointerPosition(e){const t=this._dropContainer?this._dropContainer.lockAxis:null;let{x:i,y:r}=this.constrainPosition?this.constrainPosition(e,this,this._initialClientRect,this._pickupPositionInElement):e;if("x"===this.lockAxis||"x"===t?r=this._pickupPositionOnPage.y:("y"===this.lockAxis||"y"===t)&&(i=this._pickupPositionOnPage.x),this._boundaryRect){const{x:a,y:u}=this._pickupPositionInElement,f=this._boundaryRect,{width:_,height:w}=this._getPreviewRect(),I=f.top+u,x=f.bottom-(w-u);i=jl(i,f.left+a,f.right-(_-a)),r=jl(r,I,x)}return{x:i,y:r}}_updatePointerDirectionDelta(e){const{x:t,y:i}=e,r=this._pointerDirectionDelta,a=this._pointerPositionAtLastDirectionChange,u=Math.abs(t-a.x),f=Math.abs(i-a.y);return u>this._config.pointerDirectionChangeThreshold&&(r.x=t>a.x?1:-1,a.x=t),f>this._config.pointerDirectionChangeThreshold&&(r.y=i>a.y?1:-1,a.y=i),r}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const e=this._handles.length>0||!this.isDragging();e!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=e,Id(this._rootElement,e))}_removeRootElementListeners(e){e.removeEventListener("mousedown",this._pointerDown,Rm),e.removeEventListener("touchstart",this._pointerDown,oy),e.removeEventListener("dragstart",this._nativeDragStart,Rm)}_applyRootElementTransform(e,t){const i=bf(e,t),r=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=r.transform&&"none"!=r.transform?r.transform:""),r.transform=km(i,this._initialTransform)}_applyPreviewTransform(e,t){const i=this._previewTemplate?.template?void 0:this._initialTransform,r=bf(e,t);this._preview.style.transform=km(r,i)}_getDragDistance(e){const t=this._pickupPositionOnPage;return t?{x:e.x-t.x,y:e.y-t.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:e,y:t}=this._passiveTransform;if(0===e&&0===t||this.isDragging()||!this._boundaryElement)return;const i=this._rootElement.getBoundingClientRect(),r=this._boundaryElement.getBoundingClientRect();if(0===r.width&&0===r.height||0===i.width&&0===i.height)return;const a=r.left-i.left,u=i.right-r.right,f=r.top-i.top,_=i.bottom-r.bottom;r.width>i.width?(a>0&&(e+=a),u>0&&(e-=u)):e=0,r.height>i.height?(f>0&&(t+=f),_>0&&(t-=_)):t=0,(e!==this._passiveTransform.x||t!==this._passiveTransform.y)&&this.setFreeDragPosition({y:t,x:e})}_getDragStartDelay(e){const t=this.dragStartDelay;return"number"==typeof t?t:wf(e)?t.touch:t?t.mouse:0}_updateOnScroll(e){const t=this._parentPositions.handleScroll(e);if(t){const i=os(e);this._boundaryRect&&i!==this._boundaryElement&&i.contains(this._boundaryElement)&&jt(this._boundaryRect,t.top,t.left),this._pickupPositionOnPage.x+=t.left,this._pickupPositionOnPage.y+=t.top,this._dropContainer||(this._activeTransform.x-=t.left,this._activeTransform.y-=t.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=dd(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(e,t){const i=this._previewContainer||"global";if("parent"===i)return e;if("global"===i){const r=this._document;return t||r.fullscreenElement||r.webkitFullscreenElement||r.mozFullScreenElement||r.msFullscreenElement||r.body}return tn(i)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialClientRect),this._previewRect}_getTargetHandle(e){return this._handles.find(t=>e.target&&(e.target===t||t.contains(e.target)))}}function bf(n,e){return`translate3d(${Math.round(n)}px, ${Math.round(e)}px, 0)`}function jl(n,e,t){return Math.max(e,Math.min(t,n))}function wf(n){return"t"===n.type[0]}function Om(n,e){const t=n.rootNodes;if(1===t.length&&t[0].nodeType===e.ELEMENT_NODE)return t[0];const i=e.createElement("div");return t.forEach(r=>i.appendChild(r)),i}function Pm(n,e){n.style.width=`${e.width}px`,n.style.height=`${e.height}px`,n.style.transform=bf(e.left,e.top)}function Nm(n,e){return Math.max(0,Math.min(e,n))}class II{constructor(e,t){this._element=e,this._dragDropRegistry=t,this._itemPositions=[],this.orientation="vertical",this._previousSwap={drag:null,delta:0,overlaps:!1}}start(e){this.withItems(e)}sort(e,t,i,r){const a=this._itemPositions,u=this._getItemIndexFromPointerPosition(e,t,i,r);if(-1===u&&a.length>0)return null;const f="horizontal"===this.orientation,_=a.findIndex(be=>be.drag===e),w=a[u],x=w.clientRect,L=_>u?1:-1,j=this._getItemOffsetPx(a[_].clientRect,x,L),z=this._getSiblingOffsetPx(_,a,L),J=a.slice();return function CI(n,e,t){const i=Nm(e,n.length-1),r=Nm(t,n.length-1);if(i===r)return;const a=n[i],u=r<i?-1:1;for(let f=i;f!==r;f+=u)n[f]=n[f+u];n[r]=a}(a,_,u),a.forEach((be,et)=>{if(J[et]===be)return;const yt=be.drag===e,gt=yt?j:z,dt=yt?e.getPlaceholderElement():be.drag.getRootElement();be.offset+=gt,f?(dt.style.transform=km(`translate3d(${Math.round(be.offset)}px, 0, 0)`,be.initialTransform),jt(be.clientRect,0,gt)):(dt.style.transform=km(`translate3d(0, ${Math.round(be.offset)}px, 0)`,be.initialTransform),jt(be.clientRect,gt,0))}),this._previousSwap.overlaps=ty(x,t,i),this._previousSwap.drag=w.drag,this._previousSwap.delta=f?r.x:r.y,{previousIndex:_,currentIndex:u}}enter(e,t,i,r){const a=null==r||r<0?this._getItemIndexFromPointerPosition(e,t,i):r,u=this._activeDraggables,f=u.indexOf(e),_=e.getPlaceholderElement();let w=u[a];if(w===e&&(w=u[a+1]),!w&&(null==a||-1===a||a<u.length-1)&&this._shouldEnterAsFirstChild(t,i)&&(w=u[0]),f>-1&&u.splice(f,1),w&&!this._dragDropRegistry.isDragging(w)){const I=w.getRootElement();I.parentElement.insertBefore(_,I),u.splice(a,0,e)}else tn(this._element).appendChild(_),u.push(e);_.style.transform="",this._cacheItemPositions()}withItems(e){this._activeDraggables=e.slice(),this._cacheItemPositions()}withSortPredicate(e){this._sortPredicate=e}reset(){this._activeDraggables.forEach(e=>{const t=e.getRootElement();if(t){const i=this._itemPositions.find(r=>r.drag===e)?.initialTransform;t.style.transform=i||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(e){return("horizontal"===this.orientation&&"rtl"===this.direction?this._itemPositions.slice().reverse():this._itemPositions).findIndex(i=>i.drag===e)}updateOnScroll(e,t){this._itemPositions.forEach(({clientRect:i})=>{jt(i,e,t)}),this._itemPositions.forEach(({drag:i})=>{this._dragDropRegistry.isDragging(i)&&i._sortFromLastPointerPosition()})}_cacheItemPositions(){const e="horizontal"===this.orientation;this._itemPositions=this._activeDraggables.map(t=>{const i=t.getVisibleElement();return{drag:t,offset:0,initialTransform:i.style.transform||"",clientRect:ey(i)}}).sort((t,i)=>e?t.clientRect.left-i.clientRect.left:t.clientRect.top-i.clientRect.top)}_getItemOffsetPx(e,t,i){const r="horizontal"===this.orientation;let a=r?t.left-e.left:t.top-e.top;return-1===i&&(a+=r?t.width-e.width:t.height-e.height),a}_getSiblingOffsetPx(e,t,i){const r="horizontal"===this.orientation,a=t[e].clientRect,u=t[e+-1*i];let f=a[r?"width":"height"]*i;if(u){const _=r?"left":"top",w=r?"right":"bottom";-1===i?f-=u.clientRect[_]-a[w]:f+=a[_]-u.clientRect[w]}return f}_shouldEnterAsFirstChild(e,t){if(!this._activeDraggables.length)return!1;const i=this._itemPositions,r="horizontal"===this.orientation;if(i[0].drag!==this._activeDraggables[0]){const u=i[i.length-1].clientRect;return r?e>=u.right:t>=u.bottom}{const u=i[0].clientRect;return r?e<=u.left:t<=u.top}}_getItemIndexFromPointerPosition(e,t,i,r){const a="horizontal"===this.orientation,u=this._itemPositions.findIndex(({drag:f,clientRect:_})=>{if(f===e)return!1;if(r){const w=a?r.x:r.y;if(f===this._previousSwap.drag&&this._previousSwap.overlaps&&w===this._previousSwap.delta)return!1}return a?t>=Math.floor(_.left)&&t<Math.floor(_.right):i>=Math.floor(_.top)&&i<Math.floor(_.bottom)});return-1!==u&&this._sortPredicate(u,e)?u:-1}}class SI{constructor(e,t,i,r,a){this._dragDropRegistry=t,this._ngZone=r,this._viewportRuler=a,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new At.x,this.entered=new At.x,this.exited=new At.x,this.dropped=new At.x,this.sorted=new At.x,this._isDragging=!1,this._draggables=[],this._siblings=[],this._activeSiblings=new Set,this._viewportScrollSubscription=li.w0.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new At.x,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),function wI(n=0,e=ct.z){return n<0&&(n=0),so(n,n,e)}(0,Br).pipe(Go(this._stopScrollTimers)).subscribe(()=>{const u=this._scrollNode,f=this.autoScrollStep;1===this._verticalScrollDirection?u.scrollBy(0,-f):2===this._verticalScrollDirection&&u.scrollBy(0,f),1===this._horizontalScrollDirection?u.scrollBy(-f,0):2===this._horizontalScrollDirection&&u.scrollBy(f,0)})},this.element=tn(e),this._document=i,this.withScrollableParents([this.element]),t.registerDropContainer(this),this._parentPositions=new iy(i),this._sortStrategy=new II(this.element,t),this._sortStrategy.withSortPredicate((u,f)=>this.sortPredicate(u,f,this))}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(e,t,i,r){this._draggingStarted(),null==r&&this.sortingDisabled&&(r=this._draggables.indexOf(e)),this._sortStrategy.enter(e,t,i,r),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:e,container:this,currentIndex:this.getItemIndex(e)})}exit(e){this._reset(),this.exited.next({item:e,container:this})}drop(e,t,i,r,a,u,f,_={}){this._reset(),this.dropped.next({item:e,currentIndex:t,previousIndex:i,container:this,previousContainer:r,isPointerOverContainer:a,distance:u,dropPoint:f,event:_})}withItems(e){const t=this._draggables;return this._draggables=e,e.forEach(i=>i._withDropContainer(this)),this.isDragging()&&(t.filter(r=>r.isDragging()).every(r=>-1===e.indexOf(r))?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(e){return this._sortStrategy.direction=e,this}connectedTo(e){return this._siblings=e.slice(),this}withOrientation(e){return this._sortStrategy.orientation=e,this}withScrollableParents(e){const t=tn(this.element);return this._scrollableElements=-1===e.indexOf(t)?[t,...e]:e.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(e){return this._isDragging?this._sortStrategy.getItemIndex(e):this._draggables.indexOf(e)}isReceiving(){return this._activeSiblings.size>0}_sortItem(e,t,i,r){if(this.sortingDisabled||!this._clientRect||!ny(this._clientRect,.05,t,i))return;const a=this._sortStrategy.sort(e,t,i,r);a&&this.sorted.next({previousIndex:a.previousIndex,currentIndex:a.currentIndex,container:this,item:e})}_startScrollingIfNecessary(e,t){if(this.autoScrollDisabled)return;let i,r=0,a=0;if(this._parentPositions.positions.forEach((u,f)=>{f===this._document||!u.clientRect||i||ny(u.clientRect,.05,e,t)&&([r,a]=function o0(n,e,t,i){const r=Jc(e,i),a=s0(e,t);let u=0,f=0;if(r){const _=n.scrollTop;1===r?_>0&&(u=1):n.scrollHeight-_>n.clientHeight&&(u=2)}if(a){const _=n.scrollLeft;1===a?_>0&&(f=1):n.scrollWidth-_>n.clientWidth&&(f=2)}return[u,f]}(f,u.clientRect,e,t),(r||a)&&(i=f))}),!r&&!a){const{width:u,height:f}=this._viewportRuler.getViewportSize(),_={width:u,height:f,top:0,right:u,bottom:f,left:0};r=Jc(_,t),a=s0(_,e),i=window}i&&(r!==this._verticalScrollDirection||a!==this._horizontalScrollDirection||i!==this._scrollNode)&&(this._verticalScrollDirection=r,this._horizontalScrollDirection=a,this._scrollNode=i,(r||a)&&i?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const e=tn(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=e.msScrollSnapType||e.scrollSnapType||"",e.scrollSnapType=e.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const e=tn(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(e).clientRect}_reset(){this._isDragging=!1;const e=tn(this.element).style;e.scrollSnapType=e.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(t=>t._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_isOverContainer(e,t){return null!=this._clientRect&&ty(this._clientRect,e,t)}_getSiblingContainerFromPosition(e,t,i){return this._siblings.find(r=>r._canReceive(e,t,i))}_canReceive(e,t,i){if(!this._clientRect||!ty(this._clientRect,t,i)||!this.enterPredicate(e,this))return!1;const r=this._getShadowRoot().elementFromPoint(t,i);if(!r)return!1;const a=tn(this.element);return r===a||a.contains(r)}_startReceiving(e,t){const i=this._activeSiblings;!i.has(e)&&t.every(r=>this.enterPredicate(r,this)||this._draggables.indexOf(r)>-1)&&(i.add(e),this._cacheParentPositions(),this._listenToScrollEvents())}_stopReceiving(e){this._activeSiblings.delete(e),this._viewportScrollSubscription.unsubscribe()}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(e=>{if(this.isDragging()){const t=this._parentPositions.handleScroll(e);t&&this._sortStrategy.updateOnScroll(t.top,t.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const e=dd(tn(this.element));this._cachedShadowRoot=e||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const e=this._sortStrategy.getActiveItemsSnapshot().filter(t=>t.isDragging());this._siblings.forEach(t=>t._startReceiving(this,e))}}function Jc(n,e){const{top:t,bottom:i,height:r}=n,a=.05*r;return e>=t-a&&e<=t+a?1:e>=i-a&&e<=i+a?2:0}function s0(n,e){const{left:t,right:i,width:r}=n,a=.05*r;return e>=t-a&&e<=t+a?1:e>=i-a&&e<=i+a?2:0}const eu=La({passive:!1,capture:!0});let AI=(()=>{class n{constructor(t,i){this._ngZone=t,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=r=>r.isDragging(),this.pointerMove=new At.x,this.pointerUp=new At.x,this.scroll=new At.x,this._preventDefaultWhileDragging=r=>{this._activeDragInstances.length>0&&r.preventDefault()},this._persistentTouchmoveListener=r=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&r.preventDefault(),this.pointerMove.next(r))},this._document=i}registerDropContainer(t){this._dropInstances.has(t)||this._dropInstances.add(t)}registerDragItem(t){this._dragInstances.add(t),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,eu)})}removeDropContainer(t){this._dropInstances.delete(t)}removeDragItem(t){this._dragInstances.delete(t),this.stopDragging(t),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,eu)}startDragging(t,i){if(!(this._activeDragInstances.indexOf(t)>-1)&&(this._activeDragInstances.push(t),1===this._activeDragInstances.length)){const r=i.type.startsWith("touch");this._globalListeners.set(r?"touchend":"mouseup",{handler:a=>this.pointerUp.next(a),options:!0}).set("scroll",{handler:a=>this.scroll.next(a),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:eu}),r||this._globalListeners.set("mousemove",{handler:a=>this.pointerMove.next(a),options:eu}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((a,u)=>{this._document.addEventListener(u,a.handler,a.options)})})}}stopDragging(t){const i=this._activeDragInstances.indexOf(t);i>-1&&(this._activeDragInstances.splice(i,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(t){return this._activeDragInstances.indexOf(t)>-1}scrolled(t){const i=[this.scroll];return t&&t!==this._document&&i.push(new Ii.y(r=>this._ngZone.runOutsideAngular(()=>{const u=f=>{this._activeDragInstances.length&&r.next(f)};return t.addEventListener("scroll",u,!0),()=>{t.removeEventListener("scroll",u,!0)}}))),(0,Cd.T)(...i)}ngOnDestroy(){this._dragInstances.forEach(t=>this.removeDragItem(t)),this._dropInstances.forEach(t=>this.removeDropContainer(t)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((t,i)=>{this._document.removeEventListener(i,t.handler,t.options)}),this._globalListeners.clear()}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.R0b),d.LFG(ne))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const a0={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let ly=(()=>{class n{constructor(t,i,r,a){this._document=t,this._ngZone=i,this._viewportRuler=r,this._dragDropRegistry=a}createDrag(t,i=a0){return new r0(t,i,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(t){return new SI(t,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ne),d.LFG(d.R0b),d.LFG(Wh),d.LFG(AI))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const l0=new d.OlP("CDK_DRAG_PARENT"),c0=new d.OlP("CdkDropListGroup"),u0=new d.OlP("CDK_DRAG_CONFIG");let xI=0;const cy=new d.OlP("CdkDropList");let d0=(()=>{class n{constructor(t,i,r,a,u,f,_){this.element=t,this._changeDetectorRef=r,this._scrollDispatcher=a,this._dir=u,this._group=f,this._destroyed=new At.x,this.connectedTo=[],this.id="cdk-drop-list-"+xI++,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.dropped=new d.vpe,this.entered=new d.vpe,this.exited=new d.vpe,this.sorted=new d.vpe,this._unsortedItems=new Set,this._dropListRef=i.createDropList(t),this._dropListRef.data=this,_&&this._assignDefaults(_),this._dropListRef.enterPredicate=(w,I)=>this.enterPredicate(w.data,I.data),this._dropListRef.sortPredicate=(w,I,x)=>this.sortPredicate(w,I.data,x.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),n._dropLists.push(this),f&&f._items.add(this)}get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(t){this._dropListRef.disabled=this._disabled=Bi(t)}addItem(t){this._unsortedItems.add(t),this._dropListRef.isDragging()&&this._syncItemsWithRef()}removeItem(t){this._unsortedItems.delete(t),this._dropListRef.isDragging()&&this._syncItemsWithRef()}getSortedItems(){return Array.from(this._unsortedItems).sort((t,i)=>t._dragRef.getVisibleElement().compareDocumentPosition(i._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){const t=n._dropLists.indexOf(this);t>-1&&n._dropLists.splice(t,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(t){this._dir&&this._dir.change.pipe(lo(this._dir.value),Go(this._destroyed)).subscribe(i=>t.withDirection(i)),t.beforeStarted.subscribe(()=>{const i=Os(this.connectedTo).map(r=>"string"==typeof r?n._dropLists.find(u=>u.id===r):r);if(this._group&&this._group._items.forEach(r=>{-1===i.indexOf(r)&&i.push(r)}),!this._scrollableParentsResolved){const r=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(a=>a.getElementRef().nativeElement);this._dropListRef.withScrollableParents(r),this._scrollableParentsResolved=!0}t.disabled=this.disabled,t.lockAxis=this.lockAxis,t.sortingDisabled=Bi(this.sortingDisabled),t.autoScrollDisabled=Bi(this.autoScrollDisabled),t.autoScrollStep=Rs(this.autoScrollStep,2),t.connectedTo(i.filter(r=>r&&r!==this).map(r=>r._dropListRef)).withOrientation(this.orientation)})}_handleEvents(t){t.beforeStarted.subscribe(()=>{this._syncItemsWithRef(),this._changeDetectorRef.markForCheck()}),t.entered.subscribe(i=>{this.entered.emit({container:this,item:i.item.data,currentIndex:i.currentIndex})}),t.exited.subscribe(i=>{this.exited.emit({container:this,item:i.item.data}),this._changeDetectorRef.markForCheck()}),t.sorted.subscribe(i=>{this.sorted.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,container:this,item:i.item.data})}),t.dropped.subscribe(i=>{this.dropped.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,previousContainer:i.previousContainer.data,container:i.container.data,item:i.item.data,isPointerOverContainer:i.isPointerOverContainer,distance:i.distance,dropPoint:i.dropPoint,event:i.event}),this._changeDetectorRef.markForCheck()})}_assignDefaults(t){const{lockAxis:i,draggingDisabled:r,sortingDisabled:a,listAutoScrollDisabled:u,listOrientation:f}=t;this.disabled=r??!1,this.sortingDisabled=a??!1,this.autoScrollDisabled=u??!1,this.orientation=f||"vertical",i&&(this.lockAxis=i)}_syncItemsWithRef(){this._dropListRef.withItems(this.getSortedItems().map(t=>t._dragRef))}}return n._dropLists=[],n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(ly),d.Y36(d.sBO),d.Y36(Kc),d.Y36(Wc,8),d.Y36(c0,12),d.Y36(u0,8))},n.\u0275dir=d.lG2({type:n,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(t,i){2&t&&(d.uIk("id",i.id),d.ekj("cdk-drop-list-disabled",i.disabled)("cdk-drop-list-dragging",i._dropListRef.isDragging())("cdk-drop-list-receiving",i._dropListRef.isReceiving()))},inputs:{connectedTo:["cdkDropListConnectedTo","connectedTo"],data:["cdkDropListData","data"],orientation:["cdkDropListOrientation","orientation"],id:"id",lockAxis:["cdkDropListLockAxis","lockAxis"],disabled:["cdkDropListDisabled","disabled"],sortingDisabled:["cdkDropListSortingDisabled","sortingDisabled"],enterPredicate:["cdkDropListEnterPredicate","enterPredicate"],sortPredicate:["cdkDropListSortPredicate","sortPredicate"],autoScrollDisabled:["cdkDropListAutoScrollDisabled","autoScrollDisabled"],autoScrollStep:["cdkDropListAutoScrollStep","autoScrollStep"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],features:[d._Bn([{provide:c0,useValue:void 0},{provide:cy,useExisting:n}])]}),n})();const Fm=new d.OlP("CdkDragHandle"),uy=new d.OlP("CdkDragPlaceholder"),vx=new d.OlP("CdkDragPreview");let f0=(()=>{class n{constructor(t,i,r,a,u,f,_,w,I,x,L){this.element=t,this.dropContainer=i,this._ngZone=a,this._viewContainerRef=u,this._dir=_,this._changeDetectorRef=I,this._selfHandle=x,this._parentDrag=L,this._destroyed=new At.x,this.started=new d.vpe,this.released=new d.vpe,this.ended=new d.vpe,this.entered=new d.vpe,this.exited=new d.vpe,this.dropped=new d.vpe,this.moved=new Ii.y(j=>{const z=this._dragRef.moved.pipe((0,sn.U)(J=>({source:this,pointerPosition:J.pointerPosition,event:J.event,delta:J.delta,distance:J.distance}))).subscribe(j);return()=>{z.unsubscribe()}}),this._dragRef=w.createDrag(t,{dragStartThreshold:f&&null!=f.dragStartThreshold?f.dragStartThreshold:5,pointerDirectionChangeThreshold:f&&null!=f.pointerDirectionChangeThreshold?f.pointerDirectionChangeThreshold:5,zIndex:f?.zIndex}),this._dragRef.data=this,n._dragInstances.push(this),f&&this._assignDefaults(f),i&&(this._dragRef._withDropContainer(i._dropListRef),i.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(t){this._disabled=Bi(t),this._dragRef.disabled=this._disabled}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}setFreeDragPosition(t){this._dragRef.setFreeDragPosition(t)}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Vs(1),Go(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._setupHandlesListener(),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})})}ngOnChanges(t){const i=t.rootElementSelector,r=t.freeDragPosition;i&&!i.firstChange&&this._updateRootElement(),r&&!r.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this);const t=n._dragInstances.indexOf(this);t>-1&&n._dragInstances.splice(t,1),this._ngZone.runOutsideAngular(()=>{this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_updateRootElement(){const t=this.element.nativeElement;let i=t;this.rootElementSelector&&(i=void 0!==t.closest?t.closest(this.rootElementSelector):t.parentElement?.closest(this.rootElementSelector)),this._dragRef.withRootElement(i||t)}_getBoundaryElement(){const t=this.boundaryElement;return t?"string"==typeof t?this.element.nativeElement.closest(t):tn(t):null}_syncInputs(t){t.beforeStarted.subscribe(()=>{if(!t.isDragging()){const i=this._dir,r=this.dragStartDelay,a=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,u=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;t.disabled=this.disabled,t.lockAxis=this.lockAxis,t.dragStartDelay="object"==typeof r&&r?r:Rs(r),t.constrainPosition=this.constrainPosition,t.previewClass=this.previewClass,t.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(a).withPreviewTemplate(u).withPreviewContainer(this.previewContainer||"global"),i&&t.withDirection(i.value)}}),t.beforeStarted.pipe(Vs(1)).subscribe(()=>{if(this._parentDrag)return void t.withParent(this._parentDrag._dragRef);let i=this.element.nativeElement.parentElement;for(;i;){if(i.classList.contains("cdk-drag")){t.withParent(n._dragInstances.find(r=>r.element.nativeElement===i)?._dragRef||null);break}i=i.parentElement}})}_handleEvents(t){t.started.subscribe(i=>{this.started.emit({source:this,event:i.event}),this._changeDetectorRef.markForCheck()}),t.released.subscribe(i=>{this.released.emit({source:this,event:i.event})}),t.ended.subscribe(i=>{this.ended.emit({source:this,distance:i.distance,dropPoint:i.dropPoint,event:i.event}),this._changeDetectorRef.markForCheck()}),t.entered.subscribe(i=>{this.entered.emit({container:i.container.data,item:this,currentIndex:i.currentIndex})}),t.exited.subscribe(i=>{this.exited.emit({container:i.container.data,item:this})}),t.dropped.subscribe(i=>{this.dropped.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,previousContainer:i.previousContainer.data,container:i.container.data,isPointerOverContainer:i.isPointerOverContainer,item:this,distance:i.distance,dropPoint:i.dropPoint,event:i.event})})}_assignDefaults(t){const{lockAxis:i,dragStartDelay:r,constrainPosition:a,previewClass:u,boundaryElement:f,draggingDisabled:_,rootElementSelector:w,previewContainer:I}=t;this.disabled=_??!1,this.dragStartDelay=r||0,i&&(this.lockAxis=i),a&&(this.constrainPosition=a),u&&(this.previewClass=u),f&&(this.boundaryElement=f),w&&(this.rootElementSelector=w),I&&(this.previewContainer=I)}_setupHandlesListener(){this._handles.changes.pipe(lo(this._handles),(0,Ur.b)(t=>{const i=t.filter(r=>r._parentDrag===this).map(r=>r.element);this._selfHandle&&this.rootElementSelector&&i.push(this.element),this._dragRef.withHandles(i)}),Ha(t=>(0,Cd.T)(...t.map(i=>i._stateChanges.pipe(lo(i))))),Go(this._destroyed)).subscribe(t=>{const i=this._dragRef,r=t.element.nativeElement;t.disabled?i.disableHandle(r):i.enableHandle(r)})}}return n._dragInstances=[],n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(cy,12),d.Y36(ne),d.Y36(d.R0b),d.Y36(d.s_b),d.Y36(u0,8),d.Y36(Wc,8),d.Y36(ly),d.Y36(d.sBO),d.Y36(Fm,10),d.Y36(l0,12))},n.\u0275dir=d.lG2({type:n,selectors:[["","cdkDrag",""]],contentQueries:function(t,i,r){if(1&t&&(d.Suo(r,vx,5),d.Suo(r,uy,5),d.Suo(r,Fm,5)),2&t){let a;d.iGM(a=d.CRH())&&(i._previewTemplate=a.first),d.iGM(a=d.CRH())&&(i._placeholderTemplate=a.first),d.iGM(a=d.CRH())&&(i._handles=a)}},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(t,i){2&t&&d.ekj("cdk-drag-disabled",i.disabled)("cdk-drag-dragging",i._dragRef.isDragging())},inputs:{data:["cdkDragData","data"],lockAxis:["cdkDragLockAxis","lockAxis"],rootElementSelector:["cdkDragRootElement","rootElementSelector"],boundaryElement:["cdkDragBoundary","boundaryElement"],dragStartDelay:["cdkDragStartDelay","dragStartDelay"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"],disabled:["cdkDragDisabled","disabled"],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"],previewContainer:["cdkDragPreviewContainer","previewContainer"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[d._Bn([{provide:l0,useExisting:n}]),d.TTD]}),n})(),Lm=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[ly],imports:[Si]}),n})();var bi=N(2011),Wi=N(2122);function dy(){return(0,Ye.e)((n,e)=>{let t,i=!1;n.subscribe((0,Ct.x)(e,r=>{const a=t;t=r,i&&e.next([a,r]),i=!0}))})}function hy(n,e,t,i,r){return(a,u)=>{let f=t,_=e,w=0;a.subscribe((0,Ct.x)(u,I=>{const x=w++;_=f?n(_,I,x):(f=!0,I),i&&u.next(_)},r&&(()=>{f&&u.next(_),u.complete()})))}}function co(n,e){return(0,Ye.e)(hy(n,e,arguments.length>=2,!0))}N(407);var pt,m0=N(3942),ye=N(5861),Td=N(9681),Df=N(4859),tu=N(1877),on=N(2090),Vm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},uo={},Cf=Cf||{},qt=Vm||self;function Bm(){}function Hm(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function If(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Um="closure_uid_"+(1e9*Math.random()>>>0),bx=0;function RI(n,e,t){return n.call.apply(n.bind,arguments)}function wx(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(e,r)}}return function(){return n.apply(e,arguments)}}function sr(n,e,t){return(sr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?RI:wx).apply(null,arguments)}function Tf(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function or(n,e){function t(){}t.prototype=e.prototype,n.X=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Wb=function(i,r,a){for(var u=Array(arguments.length-2),f=2;f<arguments.length;f++)u[f-2]=arguments[f];return e.prototype[r].apply(i,u)}}function $o(){this.s=this.s,this.o=this.o}$o.prototype.s=!1,$o.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function kI(n){Object.prototype.hasOwnProperty.call(n,Um)&&n[Um]||(n[Um]=++bx)}(this)},$o.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const OI=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function g0(n){const e=n.length;if(0<e){const t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function PI(n,e){for(let t=1;t<arguments.length;t++){const i=arguments[t];if(Hm(i)){const r=n.length||0,a=i.length||0;n.length=r+a;for(let u=0;u<a;u++)n[r+u]=i[u]}else n.push(i)}}function Ir(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Ir.prototype.h=function(){this.defaultPrevented=!0};var Dx=function(){if(!qt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{qt.addEventListener("test",Bm,e),qt.removeEventListener("test",Bm,e)}catch{}return n}();function fy(n){return/^[\s\xa0]*$/.test(n)}var NI=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function _0(n,e){return n<e?-1:n>e?1:0}function py(){var n=qt.navigator;return n&&(n=n.userAgent)?n:""}function ar(n){return-1!=py().indexOf(n)}function Sf(n){return Sf[" "](n),n}Sf[" "]=Bm;var jm,n,y0=ar("Opera"),Gl=ar("Trident")||ar("MSIE"),my=ar("Edge"),Af=my||Gl,v0=ar("Gecko")&&!(-1!=py().toLowerCase().indexOf("webkit")&&!ar("Edge"))&&!(ar("Trident")||ar("MSIE"))&&!ar("Edge"),$l=-1!=py().toLowerCase().indexOf("webkit")&&!ar("Edge");function gy(){var n=qt.document;return n?n.documentMode:void 0}e:{var _y="",Gm=(n=py(),v0?/rv:([^\);]+)(\)|;)/.exec(n):my?/Edge\/([\d\.]+)/.exec(n):Gl?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):$l?/WebKit\/(\S+)/.exec(n):y0?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Gm&&(_y=Gm?Gm[1]:""),Gl){var yy=gy();if(null!=yy&&yy>parseFloat(_y)){jm=String(yy);break e}}jm=_y}var LI={};var Sd=qt.document&&Gl&&(gy()||parseInt(jm,10))||void 0;function nu(n,e){if(Ir.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(v0){e:{try{Sf(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:qm[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&nu.X.h.call(this)}}or(nu,Ir);var qm={2:"touch",3:"pen",4:"mouse"};nu.prototype.h=function(){nu.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Ad="closure_listenable_"+(1e6*Math.random()|0),b0=0;function vy(n,e,t,i,r){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.ha=r,this.key=++b0,this.ba=this.ea=!1}function Md(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function Wm(n,e,t){for(const i in n)e.call(t,n[i],i,n)}function Km(n){const e={};for(const t in n)e[t]=n[t];return e}const w0="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function VI(n,e){let t,i;for(let r=1;r<arguments.length;r++){for(t in i=arguments[r],i)n[t]=i[t];for(let a=0;a<w0.length;a++)t=w0[a],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function Zm(n){this.src=n,this.g={},this.h=0}function Ym(n,e){var t=e.type;if(t in n.g){var a,i=n.g[t],r=OI(i,e);(a=0<=r)&&Array.prototype.splice.call(i,r,1),a&&(Md(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function by(n,e,t,i){for(var r=0;r<n.length;++r){var a=n[r];if(!a.ba&&a.listener==e&&a.capture==!!t&&a.ha==i)return r}return-1}Zm.prototype.add=function(n,e,t,i,r){var a=n.toString();(n=this.g[a])||(n=this.g[a]=[],this.h++);var u=by(n,e,i,r);return-1<u?(e=n[u],t||(e.ea=!1)):((e=new vy(e,this.src,a,!!i,r)).ea=t,n.push(e)),e};var Qm="closure_lm_"+(1e6*Math.random()|0),Xm={};function E0(n,e,t,i,r){if(i&&i.once)return C0(n,e,t,i,r);if(Array.isArray(e)){for(var a=0;a<e.length;a++)E0(n,e[a],t,i,r);return null}return t=Cy(t),n&&n[Ad]?n.N(e,t,If(i)?!!i.capture:!!i,r):jr(n,e,t,!1,i,r)}function jr(n,e,t,i,r,a){if(!e)throw Error("Invalid event type");var u=If(r)?!!r.capture:!!r,f=Ey(n);if(f||(n[Qm]=f=new Zm(n)),(t=f.add(e,t,i,u,a)).proxy)return t;if(i=function D0(){const e=I0;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)Dx||(r=u),void 0===r&&(r=!1),n.addEventListener(e.toString(),i,r);else if(n.attachEvent)n.attachEvent(Jm(e.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return t}function C0(n,e,t,i,r){if(Array.isArray(e)){for(var a=0;a<e.length;a++)C0(n,e[a],t,i,r);return null}return t=Cy(t),n&&n[Ad]?n.O(e,t,If(i)?!!i.capture:!!i,r):jr(n,e,t,!0,i,r)}function BI(n,e,t,i,r){if(Array.isArray(e))for(var a=0;a<e.length;a++)BI(n,e[a],t,i,r);else i=If(i)?!!i.capture:!!i,t=Cy(t),n&&n[Ad]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=by(a=n.g[e],t,i,r))&&(Md(a[t]),Array.prototype.splice.call(a,t,1),0==a.length&&(delete n.g[e],n.h--))):n&&(n=Ey(n))&&(e=n.g[e.toString()],n=-1,e&&(n=by(e,t,i,r)),(t=-1<n?e[n]:null)&&wy(t))}function wy(n){if("number"!=typeof n&&n&&!n.ba){var e=n.src;if(e&&e[Ad])Ym(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent(Jm(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=Ey(e))?(Ym(t,n),0==t.h&&(t.src=null,e[Qm]=null)):Md(n)}}}function Jm(n){return n in Xm?Xm[n]:Xm[n]="on"+n}function I0(n,e){if(n.ba)n=!0;else{e=new nu(e,this);var t=n.listener,i=n.ha||n.src;n.ea&&wy(n),n=t.call(i,e)}return n}function Ey(n){return(n=n[Qm])instanceof Zm?n:null}var Dy="__closure_events_fn_"+(1e9*Math.random()>>>0);function Cy(n){return"function"==typeof n?n:(n[Dy]||(n[Dy]=function(e){return n.handleEvent(e)}),n[Dy])}function Hi(){$o.call(this),this.i=new Zm(this),this.P=this,this.I=null}function lr(n,e){var t,i=n.I;if(i)for(t=[];i;i=i.I)t.push(i);if(n=n.P,i=e.type||e,"string"==typeof e)e=new Ir(e,n);else if(e instanceof Ir)e.target=e.target||n;else{var r=e;VI(e=new Ir(i,n),r)}if(r=!0,t)for(var a=t.length-1;0<=a;a--){var u=e.g=t[a];r=Mf(u,i,!0,e)&&r}if(r=Mf(u=e.g=n,i,!0,e)&&r,r=Mf(u,i,!1,e)&&r,t)for(a=0;a<t.length;a++)r=Mf(u=e.g=t[a],i,!1,e)&&r}function Mf(n,e,t,i){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var r=!0,a=0;a<e.length;++a){var u=e[a];if(u&&!u.ba&&u.capture==t){var f=u.listener,_=u.ha||u.src;u.ea&&Ym(n.i,u),r=!1!==f.call(_,i)&&r}}return r&&!i.defaultPrevented}or(Hi,$o),Hi.prototype[Ad]=!0,Hi.prototype.removeEventListener=function(n,e,t,i){BI(this,n,e,t,i)},Hi.prototype.M=function(){if(Hi.X.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)Md(t[i]);delete n.g[e],n.h--}}this.I=null},Hi.prototype.N=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)},Hi.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};var Iy=qt.JSON.stringify;function HI(){var n=Ay;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var Sy,Ty=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new UI,n=>n.reset());class UI{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function zo(n){qt.setTimeout(()=>{throw n},0)}function eg(n,e){Sy||function jI(){var n=qt.Promise.resolve(void 0);Sy=function(){n.then(GI)}}(),S0||(Sy(),S0=!0),Ay.add(n,e)}var S0=!1,Ay=new class T0{constructor(){this.h=this.g=null}add(e,t){const i=Ty.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}};function GI(){for(var n;n=HI();){try{n.h.call(n.g)}catch(t){zo(t)}var e=Ty;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}S0=!1}function tg(n,e){Hi.call(this),this.h=n||1,this.g=e||qt,this.j=sr(this.lb,this),this.l=Date.now()}function My(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function xf(n,e,t){if("function"==typeof n)t&&(n=sr(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=sr(n.handleEvent,n)}return 2147483647<Number(e)?-1:qt.setTimeout(n,e||0)}function A0(n){n.g=xf(()=>{n.g=null,n.i&&(n.i=!1,A0(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}or(tg,Hi),(pt=tg.prototype).ca=!1,pt.R=null,pt.lb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),lr(this,"tick"),this.ca&&(My(this),this.start()))}},pt.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},pt.M=function(){tg.X.M.call(this),My(this),delete this.g};class $I extends $o{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:A0(this)}M(){super.M(),this.g&&(qt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ql(n){$o.call(this),this.h=n,this.g={}}or(ql,$o);var ng=[];function kf(n,e,t,i){Array.isArray(t)||(t&&(ng[0]=t.toString()),t=ng);for(var r=0;r<t.length;r++){var a=E0(e,t[r],i||n.handleEvent,!1,n.h||n);if(!a)break;n.g[a.key]=a}}function zI(n){Wm(n.g,function(e,t){this.g.hasOwnProperty(t)&&wy(e)},n),n.g={}}function xd(){this.g=!0}function iu(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function k0(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var a=r[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var u=1;u<r.length;u++)r[u]=""}}}return Iy(t)}catch{return e}}(n,t)+(i?" "+i:"")})}ql.prototype.M=function(){ql.X.M.call(this),zI(this)},ql.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},xd.prototype.Aa=function(){this.g=!1},xd.prototype.info=function(){};var Ua={},qo=null;function ru(){return qo=qo||new Hi}function Rf(n){Ir.call(this,Ua.Pa,n)}function ja(n){const e=ru();lr(e,new Rf(e))}function R0(n,e){Ir.call(this,Ua.STAT_EVENT,n),this.stat=e}function cr(n){const e=ru();lr(e,new R0(e,n))}function xy(n,e){Ir.call(this,Ua.Qa,n),this.size=e}function Of(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return qt.setTimeout(function(){n()},e)}Ua.Pa="serverreachability",or(Rf,Ir),Ua.STAT_EVENT="statevent",or(R0,Ir),Ua.Qa="timingevent",or(xy,Ir);var ig={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},kd={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function ky(){}function O0(){}ky.prototype.h=null;var Py,rg={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function Ry(){Ir.call(this,"d")}function Oy(){Ir.call(this,"c")}function Pf(){}function su(n,e,t,i){this.l=n,this.j=e,this.m=t,this.U=i||1,this.S=new ql(this),this.O=Ny,this.T=new tg(n=Af?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new P0}function P0(){this.i=null,this.g="",this.h=!1}or(Ry,Ir),or(Oy,Ir),or(Pf,ky),Pf.prototype.g=function(){return new XMLHttpRequest},Pf.prototype.i=function(){return{}},Py=new Pf;var Ny=45e3,Fy={},sg={};function Ly(n,e,t){n.K=1,n.v=$a(xi(e)),n.s=t,n.P=!0,N0(n,null)}function N0(n,e){n.F=Date.now(),ho(n),n.A=xi(n.v);var t=n.A,i=n.U;Array.isArray(i)||(i=[String(i)]),Hy(t.i,"t",i),n.C=0,t=n.l.H,n.h=new P0,n.g=Z0(n.l,t?e:null,!n.s),0<n.N&&(n.L=new $I(sr(n.La,n,n.g),n.N)),kf(n.S,n.g,"readystatechange",n.ib),e=n.H?Km(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,e)):(n.u="GET",n.g.da(n.A,n.u,null,e)),ja(),function Cx(n,e,t,i,r,a){n.info(function(){if(n.g)if(a)for(var u="",f=a.split("&"),_=0;_<f.length;_++){var w=f[_].split("=");if(1<w.length){var I=w[0];w=w[1];var x=I.split("_");u=2<=x.length&&"type"==x[1]?u+(I+"=")+w+"&":u+(I+"=redacted&")}}else u=null;else u=a;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+t+"\n"+u})}(n.j,n.u,n.A,n.m,n.U,n.s)}function F0(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function L0(n,e,t){let r,i=!0;for(;!n.I&&n.C<t.length;){if(r=og(n,t),r==sg){4==e&&(n.o=4,cr(14),i=!1),iu(n.j,n.m,null,"[Incomplete Response]");break}if(r==Fy){n.o=4,cr(15),iu(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}iu(n.j,n.m,r,null),Ff(n,r)}F0(n)&&r!=sg&&r!=Fy&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,cr(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.$&&(n.$=!0,(e=n.l).g==n&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),pg(e),e.K=!0,cr(11))):(iu(n.j,n.m,t,"[Invalid Chunked Response]"),ou(n),Nf(n))}function og(n,e){var t=n.C,i=e.indexOf("\n",t);return-1==i?sg:(t=Number(e.substring(t,i)),isNaN(t)?Fy:(i+=1)+t>e.length?sg:(e=e.substr(i,t),n.C=i+t,e))}function ho(n){n.V=Date.now()+n.O,WI(n,n.O)}function WI(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Of(sr(n.gb,n),e)}function Wl(n){n.B&&(qt.clearTimeout(n.B),n.B=null)}function Nf(n){0==n.l.G||n.I||nv(n.l,n)}function ou(n){Wl(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,My(n.T),zI(n.S),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function Ff(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||Lf(t.h,n)))if(!n.J&&Lf(t.h,n)&&3==t.G){try{var i=t.Fa.g.parse(e)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;jf(t),Jy(t)}tv(t),cr(18)}}else t.Ba=r[1],0<t.Ba-t.T&&37500>r[2]&&t.L&&0==t.A&&!t.v&&(t.v=Of(sr(t.cb,t),6e3));if(1>=ag(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else pu(t,11)}else if((n.J||t.g==n)&&jf(t),!fy(e))for(r=t.Fa.g.parse(e),e=0;e<r.length;e++){let w=r[e];if(t.T=w[0],w=w[1],2==t.G)if("c"==w[0]){t.I=w[1],t.ka=w[2];const I=w[3];null!=I&&(t.ma=I,t.j.info("VER="+t.ma));const x=w[4];null!=x&&(t.Ca=x,t.j.info("SVER="+t.Ca));const L=w[5];null!=L&&"number"==typeof L&&0<L&&(t.J=i=1.5*L,t.j.info("backChannelRequestTimeoutMs_="+i)),i=t;const j=n.g;if(j){const z=j.g?j.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(z){var a=i.h;a.g||-1==z.indexOf("spdy")&&-1==z.indexOf("quic")&&-1==z.indexOf("h2")||(a.j=a.l,a.g=new Set,a.h&&(Gy(a,a.h),a.h=null))}if(i.D){const J=j.g?j.g.getResponseHeader("X-HTTP-Session-Id"):null;J&&(i.za=J,Dn(i.F,i.D,J))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-n.F,t.j.info("Handshake RTT: "+t.P+"ms"));var u=n;if((i=t).sa=iv(i,i.H?i.ka:null,i.V),u.J){Vf(i.h,u);var f=u,_=i.J;_&&f.setTimeout(_),f.B&&(Wl(f),ho(f)),i.g=u}else q0(i);0<t.i.length&&fg(t)}else"stop"!=w[0]&&"close"!=w[0]||pu(t,7);else 3==t.G&&("stop"==w[0]||"close"==w[0]?"stop"==w[0]?pu(t,7):hg(t):"noop"!=w[0]&&t.l&&t.l.wa(w),t.A=0)}ja()}catch{}}function Rd(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Hm(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function Wo(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Hm(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const i in n)e[t++]=i;return e}}}(n),i=function KI(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Hm(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}for(i in e=[],t=0,n)e[t++]=n[i];return e}(n),r=i.length,a=0;a<r;a++)e.call(void 0,i[a],t&&t[a],n)}(pt=su.prototype).setTimeout=function(n){this.O=n},pt.ib=function(n){n=n.target;const e=this.L;e&&3==Qo(n)?e.l():this.La(n)},pt.La=function(n){try{if(n==this.g)e:{const I=Qo(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>I)&&(3!=I||Af||this.g&&(this.h.h||this.g.fa()||Yy(this.g)))){this.I||4!=I||7==e||ja(),Wl(this);var t=this.g.aa();this.Y=t;t:if(F0(this)){var i=Yy(this.g);n="";var r=i.length,a=4==Qo(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){ou(this),Nf(this);var u="";break t}this.h.i=new qt.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:a&&e==r-1});i.splice(0,r),this.h.g+=n,this.C=0,u=this.h.g}else u=this.g.fa();if(this.i=200==t,function M0(n,e,t,i,r,a,u){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+t+"\n"+a+" "+u})}(this.j,this.u,this.A,this.m,this.U,I,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var f,_=this.g;if((f=_.g?_.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!fy(f)){var w=f;break t}}w=null}if(!(t=w)){this.i=!1,this.o=3,cr(12),ou(this),Nf(this);break e}iu(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Ff(this,t)}this.P?(L0(this,I,u),Af&&this.i&&3==I&&(kf(this.S,this.T,"tick",this.hb),this.T.start())):(iu(this.j,this.m,u,null),Ff(this,u)),4==I&&ou(this),this.i&&!this.I&&(4==I?nv(this.l,this):(this.i=!1,ho(this)))}else 400==t&&0<u.indexOf("Unknown SID")?(this.o=3,cr(12)):(this.o=0,cr(13)),ou(this),Nf(this)}}}catch{}},pt.hb=function(){if(this.g){var n=Qo(this.g),e=this.g.fa();this.C<e.length&&(Wl(this),L0(this,n,e),this.i&&4!=n&&ho(this))}},pt.cancel=function(){this.I=!0,ou(this)},pt.gb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function x0(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(ja(),cr(17)),ou(this),this.o=2,Nf(this)):WI(this,this.V-n)};var ur=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ko(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Ko){this.h=void 0!==e?e:n.h,Od(this,n.j),this.s=n.s,this.g=n.g,Ga(this,n.m),this.l=n.l,e=n.i;var t=new Fd;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),lu(this,t),this.o=n.o}else n&&(t=String(n).match(ur))?(this.h=!!e,Od(this,t[1]||"",!0),this.s=Zo(t[2]||""),this.g=Zo(t[3]||"",!0),Ga(this,t[4]),this.l=Zo(t[5]||"",!0),lu(this,t[6]||"",!0),this.o=Zo(t[7]||"")):(this.h=!!e,this.i=new Fd(null,this.h))}function xi(n){return new Ko(n)}function Od(n,e,t){n.j=t?Zo(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Ga(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function lu(n,e,t){e instanceof Fd?(n.i=e,function ZI(n,e){e&&!n.j&&(za(n),n.i=null,n.g.forEach(function(t,i){var r=i.toLowerCase();i!=r&&(Vy(this,i),Hy(this,r,t))},n)),n.j=e}(n.i,n.h)):(t||(e=Yo(e,B0)),n.i=new Fd(e,n.h))}function Dn(n,e,t){n.i.set(e,t)}function $a(n){return Dn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Zo(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Yo(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,Pd),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function Pd(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Ko.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Yo(e,cu,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Yo(e,cu,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(Yo(t,"/"==t.charAt(0)?V0:Nd,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Yo(t,H0)),n.join("")};var cu=/[#\/\?@]/g,Nd=/[#\?:]/g,V0=/[#\?]/g,B0=/[#\?@]/g,H0=/#/g;function Fd(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function za(n){n.g||(n.g=new Map,n.h=0,n.i&&function au(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),r=null;if(0<=i){var a=n[t].substring(0,i);r=n[t].substring(i+1)}else a=n[t];e(a,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Vy(n,e){za(n),e=uu(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function By(n,e){return za(n),e=uu(n,e),n.g.has(e)}function Hy(n,e,t){Vy(n,e),0<t.length&&(n.i=null,n.g.set(uu(n,e),g0(t)),n.h+=t.length)}function uu(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function Uy(n){this.l=n||QI,n=qt.PerformanceNavigationTiming?0<(n=qt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(qt.g&&qt.g.Ga&&qt.g.Ga()&&qt.g.Ga().$b),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(pt=Fd.prototype).add=function(n,e){za(this),this.i=null,n=uu(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},pt.forEach=function(n,e){za(this),this.g.forEach(function(t,i){t.forEach(function(r){n.call(e,r,i,this)},this)},this)},pt.oa=function(){za(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let i=0;i<e.length;i++){const r=n[i];for(let a=0;a<r.length;a++)t.push(e[i])}return t},pt.W=function(n){za(this);let e=[];if("string"==typeof n)By(this,n)&&(e=e.concat(this.g.get(uu(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},pt.set=function(n,e){return za(this),this.i=null,By(this,n=uu(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},pt.get=function(n,e){return n&&0<(n=this.W(n)).length?String(n[0]):e},pt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var i=e[t];const a=encodeURIComponent(String(i)),u=this.W(i);for(i=0;i<u.length;i++){var r=a;""!==u[i]&&(r+="="+encodeURIComponent(String(u[i]))),n.push(r)}}return this.i=n.join("&")};var QI=10;function jy(n){return!!n.h||!!n.g&&n.g.size>=n.j}function ag(n){return n.h?1:n.g?n.g.size:0}function Lf(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function Gy(n,e){n.g?n.g.add(e):n.h=e}function Vf(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function Bf(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return g0(n.i)}function Hf(){}function XI(){this.g=new Hf}function lg(n,e,t){const i=t||"";try{Rd(n,function(r,a){let u=r;If(r)&&(u=Iy(r)),e.push(i+a+"="+encodeURIComponent(u))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function Uf(n,e,t,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch{}}function Ld(n){this.l=n.ac||null,this.j=n.jb||!1}function Vd(n,e){Hi.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=ug,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Uy.prototype.cancel=function(){if(this.i=Bf(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},Hf.prototype.stringify=function(n){return qt.JSON.stringify(n,void 0)},Hf.prototype.parse=function(n){return qt.JSON.parse(n,void 0)},or(Ld,ky),Ld.prototype.g=function(){return new Vd(this.l,this.j)},Ld.prototype.i=function(n){return function(){return n}}({}),or(Vd,Hi);var ug=0;function $y(n){n.j.read().then(n.Ta.bind(n)).catch(n.ga.bind(n))}function du(n){n.readyState=4,n.l=null,n.j=null,n.A=null,hu(n)}function hu(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(pt=Vd.prototype).open=function(n,e){if(this.readyState!=ug)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,hu(this)},pt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||qt).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},pt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,du(this)),this.readyState=ug},pt.Wa=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,hu(this)),this.g&&(this.readyState=3,hu(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof qt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;$y(this)}else n.text().then(this.Va.bind(this),this.ga.bind(this))},pt.Ta=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?du(this):hu(this),3==this.readyState&&$y(this)}},pt.Va=function(n){this.g&&(this.response=this.responseText=n,du(this))},pt.Ua=function(n){this.g&&(this.response=n,du(this))},pt.ga=function(){this.g&&du(this)},pt.setRequestHeader=function(n,e){this.v.append(n,e)},pt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},pt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Vd.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var JI=qt.JSON.parse;function Jn(n){Hi.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=zy,this.K=this.L=!1}or(Jn,Hi);var zy="",U0=/^https?$/i,j0=["POST","PUT"];function qy(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,Wy(n),Bd(n)}function Wy(n){n.D||(n.D=!0,lr(n,"complete"),lr(n,"error"))}function Ky(n){if(n.h&&typeof Cf<"u"&&(!n.C[1]||4!=Qo(n)||2!=n.aa()))if(n.v&&4==Qo(n))xf(n.Ha,0,n);else if(lr(n,"readystatechange"),4==Qo(n)){n.h=!1;try{const f=n.aa();e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=0===f){var r=String(n.H).match(ur)[1]||null;if(!r&&qt.self&&qt.self.location){var a=qt.self.location.protocol;r=a.substr(0,a.length-1)}i=!U0.test(r?r.toLowerCase():"")}t=i}if(t)lr(n,"complete"),lr(n,"success");else{n.m=6;try{var u=2<Qo(n)?n.g.statusText:""}catch{u=""}n.j=u+" ["+n.aa()+"]",Wy(n)}}finally{Bd(n)}}}function Bd(n,e){if(n.g){Zy(n);const t=n.g,i=n.C[0]?Bm:null;n.g=null,n.C=null,e||lr(n,"ready");try{t.onreadystatechange=i}catch{}}}function Zy(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(qt.clearTimeout(n.A),n.A=null)}function Qo(n){return n.g?n.g.readyState:0}function Yy(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case zy:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function Qy(n){let e="";return Wm(n,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}function dg(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=Qy(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Dn(n,e,t))}function Hd(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function Xy(n){this.Ca=0,this.i=[],this.j=new xd,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Hd("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Hd("baseRetryDelayMs",5e3,n),this.bb=Hd("retryDelaySeedMs",1e4,n),this.$a=Hd("forwardChannelMaxRetries",2,n),this.ta=Hd("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Zb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new Uy(n&&n.concurrentRequestLimit),this.Fa=new XI,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=n&&n.Xb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function hg(n){if(G0(n),3==n.G){var e=n.U++,t=xi(n.F);Dn(t,"SID",n.I),Dn(t,"RID",e),Dn(t,"TYPE","terminate"),ei(n,t),(e=new su(n,n.j,e,void 0)).K=2,e.v=$a(xi(t)),t=!1,qt.navigator&&qt.navigator.sendBeacon&&(t=qt.navigator.sendBeacon(e.v.toString(),"")),!t&&qt.Image&&((new Image).src=e.v,t=!0),t||(e.g=Z0(e.l,null),e.g.da(e.v)),e.F=Date.now(),ho(e)}K0(n)}function Jy(n){n.g&&(pg(n),n.g.cancel(),n.g=null)}function G0(n){Jy(n),n.u&&(qt.clearTimeout(n.u),n.u=null),jf(n),n.h.cancel(),n.m&&("number"==typeof n.m&&qt.clearTimeout(n.m),n.m=null)}function fg(n){jy(n.h)||n.m||(n.m=!0,eg(n.Ja,n),n.C=0)}function z0(n,e){var t;t=e?e.m:n.U++;const i=xi(n.F);Dn(i,"SID",n.I),Dn(i,"RID",t),Dn(i,"AID",n.T),ei(n,i),n.o&&n.s&&dg(i,n.o,n.s),t=new su(n,n.j,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.i=e.D.concat(n.i)),e=ev(n,t,1e3),t.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),Gy(n.h,t),Ly(t,i,e)}function ei(n,e){n.ia&&Wm(n.ia,function(t,i){Dn(e,i,t)}),n.l&&Rd({},function(t,i){Dn(e,i,t)})}function ev(n,e,t){t=Math.min(n.i.length,t);var i=n.l?sr(n.l.Ra,n.l,n):null;e:{var r=n.i;let a=-1;for(;;){const u=["count="+t];-1==a?0<t?(a=r[0].h,u.push("ofs="+a)):a=0:u.push("ofs="+a);let f=!0;for(let _=0;_<t;_++){let w=r[_].h;const I=r[_].g;if(w-=a,0>w)a=Math.max(0,r[_].h-100),f=!1;else try{lg(I,u,"req"+w+"_")}catch{i&&i(I)}}if(f){i=u.join("&");break e}}}return n=n.i.splice(0,t),e.D=n,i}function q0(n){n.g||n.u||(n.Z=1,eg(n.Ia,n),n.A=0)}function tv(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=Of(sr(n.Ia,n),fu(n,n.A)),n.A++,0))}function pg(n){null!=n.B&&(qt.clearTimeout(n.B),n.B=null)}function W0(n){n.g=new su(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var e=xi(n.sa);Dn(e,"RID","rpc"),Dn(e,"SID",n.I),Dn(e,"CI",n.L?"0":"1"),Dn(e,"AID",n.T),Dn(e,"TYPE","xmlhttp"),ei(n,e),n.o&&n.s&&dg(e,n.o,n.s),n.J&&n.g.setTimeout(n.J);var t=n.g;n=n.ka,t.K=1,t.v=$a(xi(e)),t.s=null,t.P=!0,N0(t,n)}function jf(n){null!=n.v&&(qt.clearTimeout(n.v),n.v=null)}function nv(n,e){var t=null;if(n.g==e){jf(n),pg(n),n.g=null;var i=2}else{if(!Lf(n.h,e))return;t=e.D,Vf(n.h,e),i=1}if(0!=n.G)if(n.pa=e.Y,e.i)if(1==i){t=e.s?e.s.length:0,e=Date.now()-e.F;var r=n.C;lr(i=ru(),new xy(i,t)),fg(n)}else q0(n);else if(3==(r=e.o)||0==r&&0<n.pa||!(1==i&&function $0(n,e){return!(ag(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Za?0:n.$a)||(n.m=Of(sr(n.Ja,n,e),fu(n,n.C)),n.C++,0)))}(n,e)||2==i&&tv(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),r){case 1:pu(n,5);break;case 4:pu(n,10);break;case 3:pu(n,6);break;default:pu(n,2)}}function fu(n,e){let t=n.Xa+Math.floor(Math.random()*n.bb);return n.l||(t*=2),t*e}function pu(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var i=sr(n.kb,n);t||(t=new Ko("//www.google.com/images/cleardot.gif"),qt.location&&"http"==qt.location.protocol||Od(t,"https"),$a(t)),function cg(n,e){const t=new xd;if(qt.Image){const i=new Image;i.onload=Tf(Uf,t,i,"TestLoadImage: loaded",!0,e),i.onerror=Tf(Uf,t,i,"TestLoadImage: error",!1,e),i.onabort=Tf(Uf,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=Tf(Uf,t,i,"TestLoadImage: timeout",!1,e),qt.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}(t.toString(),i)}else cr(2);n.G=0,n.l&&n.l.va(e),K0(n),G0(n)}function K0(n){if(n.G=0,n.la=[],n.l){const e=Bf(n.h);(0!=e.length||0!=n.i.length)&&(PI(n.la,e),PI(n.la,n.i),n.h.i.length=0,g0(n.i),n.i.length=0),n.l.ua()}}function iv(n,e,t){var i=t instanceof Ko?xi(t):new Ko(t,void 0);if(""!=i.g)e&&(i.g=e+"."+i.g),Ga(i,i.m);else{var r=qt.location;i=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var a=new Ko(null,void 0);i&&Od(a,i),e&&(a.g=e),r&&Ga(a,r),t&&(a.l=t),i=a}return e=n.za,(t=n.D)&&e&&Dn(i,t,e),Dn(i,"VER",n.ma),ei(n,i),i}function Z0(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Jn(t&&n.Da&&!n.ra?new Ld({jb:!0}):n.ra)).Ka(n.H),e}function rv(){}function sv(){if(Gl&&!(10<=Number(Sd)))throw Error("Environmental error: no available transport.")}function Gr(n,e){Hi.call(this),this.g=new Xy(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.S=n,(n=e&&e.Yb)&&!fy(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!fy(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Ud(this)}function mg(n){Ry.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function fo(){Oy.call(this),this.status=1}function Ud(n){this.g=n}(pt=Jn.prototype).Ka=function(n){this.L=n},pt.da=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Py.g(),this.C=function qI(n){return n.h||(n.h=n.i())}(this.u?this.u:Py),this.g.onreadystatechange=sr(this.Ha,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(a){return void qy(this,a)}if(n=t||"",t=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)t.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const a of i.keys())t.set(a,i.get(a))}i=Array.from(t.keys()).find(a=>"content-type"==a.toLowerCase()),r=qt.FormData&&n instanceof qt.FormData,!(0<=OI(j0,e))||i||r||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,u]of t)this.g.setRequestHeader(a,u);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Zy(this),0<this.B&&((this.K=function eT(n){return Gl&&function $m(){return function FI(n){var e=LI;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=NI(String(jm)).split("."),t=NI("9").split("."),i=Math.max(e.length,t.length);for(let u=0;0==n&&u<i;u++){var r=e[u]||"",a=t[u]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==r[0].length&&0==a[0].length)break;n=_0(0==r[1].length?0:parseInt(r[1],10),0==a[1].length?0:parseInt(a[1],10))||_0(0==r[2].length,0==a[2].length)||_0(r[2],a[2]),r=r[3],a=a[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=sr(this.qa,this)):this.A=xf(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(a){qy(this,a)}},pt.qa=function(){typeof Cf<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,lr(this,"timeout"),this.abort(8))},pt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,lr(this,"complete"),lr(this,"abort"),Bd(this))},pt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Bd(this,!0)),Jn.X.M.call(this)},pt.Ha=function(){this.s||(this.F||this.v||this.l?Ky(this):this.fb())},pt.fb=function(){Ky(this)},pt.aa=function(){try{return 2<Qo(this)?this.g.status:-1}catch{return-1}},pt.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},pt.Sa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),JI(e)}},pt.Ea=function(){return this.m},pt.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(pt=Xy.prototype).ma=8,pt.G=1,pt.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const r=new su(this,this.j,n,void 0);let a=this.s;if(this.S&&(a?(a=Km(a),VI(a,this.S)):a=this.S),null!==this.o||this.N||(r.H=a,a=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var i=this.i[t];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=ev(this,r,e),Dn(t=xi(this.F),"RID",n),Dn(t,"CVER",22),this.D&&Dn(t,"X-HTTP-Session-Id",this.D),ei(this,t),a&&(this.N?e="headers="+encodeURIComponent(String(Qy(a)))+"&"+e:this.o&&dg(t,this.o,a)),Gy(this.h,r),this.Ya&&Dn(t,"TYPE","init"),this.O?(Dn(t,"$req",e),Dn(t,"SID","null"),r.Z=!0,Ly(r,t,null)):Ly(r,t,e),this.G=2}}else 3==this.G&&(n?z0(this,n):0==this.i.length||jy(this.h)||z0(this))},pt.Ia=function(){if(this.u=null,W0(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=Of(sr(this.eb,this),n)}},pt.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,cr(10),Jy(this),W0(this))},pt.cb=function(){null!=this.v&&(this.v=null,Jy(this),tv(this),cr(19))},pt.kb=function(n){n?(this.j.info("Successfully pinged google.com"),cr(2)):(this.j.info("Failed to ping google.com"),cr(1))},(pt=rv.prototype).xa=function(){},pt.wa=function(){},pt.va=function(){},pt.ua=function(){},pt.Ra=function(){},sv.prototype.g=function(n,e){return new Gr(n,e)},or(Gr,Hi),Gr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;cr(0),n.V=e,n.ia=t||{},n.L=n.Y,n.F=iv(n,null,n.V),fg(n)},Gr.prototype.close=function(){hg(this.g)},Gr.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=Iy(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.ab++,n)),3==e.G&&fg(e)},Gr.prototype.M=function(){this.g.l=null,delete this.j,hg(this.g),delete this.g,Gr.X.M.call(this)},or(mg,Ry),or(fo,Oy),or(Ud,rv),Ud.prototype.xa=function(){lr(this.g,"a")},Ud.prototype.wa=function(n){lr(this.g,new mg(n))},Ud.prototype.va=function(n){lr(this.g,new fo)},Ud.prototype.ua=function(){lr(this.g,"b")},sv.prototype.createWebChannel=sv.prototype.g,Gr.prototype.send=Gr.prototype.u,Gr.prototype.open=Gr.prototype.m,Gr.prototype.close=Gr.prototype.close,ig.NO_ERROR=0,ig.TIMEOUT=8,ig.HTTP_ERROR=6,kd.COMPLETE="complete",O0.EventType=rg,rg.OPEN="a",rg.CLOSE="b",rg.ERROR="c",rg.MESSAGE="d",Hi.prototype.listen=Hi.prototype.N,Jn.prototype.listenOnce=Jn.prototype.O,Jn.prototype.getLastError=Jn.prototype.Oa,Jn.prototype.getLastErrorCode=Jn.prototype.Ea,Jn.prototype.getStatus=Jn.prototype.aa,Jn.prototype.getResponseJson=Jn.prototype.Sa,Jn.prototype.getResponseText=Jn.prototype.fa,Jn.prototype.send=Jn.prototype.da,Jn.prototype.setWithCredentials=Jn.prototype.Ka;var tT=uo.createWebChannelTransport=function(){return new sv},Xo=uo.getStatEventTarget=function(){return ru()},ls=uo.ErrorCode=ig,po=uo.EventType=kd,Y0=uo.Event=Ua,ov=uo.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},nT=uo.FetchXmlHttpFactory=Ld,gg=uo.WebChannel=O0,iT=uo.XhrIo=Jn;const Q0="@firebase/firestore";class ki{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ki.UNAUTHENTICATED=new ki(null),ki.GOOGLE_CREDENTIALS=new ki("google-credentials-uid"),ki.FIRST_PARTY=new ki("first-party-uid"),ki.MOCK_USER=new ki("mock-user");let Jo="9.17.1";const Kl=new tu.Yd("@firebase/firestore");function _g(){return Kl.logLevel}function Fe(n,...e){if(Kl.logLevel<=tu.in.DEBUG){const t=e.map(av);Kl.debug(`Firestore (${Jo}): ${n}`,...t)}}function di(n,...e){if(Kl.logLevel<=tu.in.ERROR){const t=e.map(av);Kl.error(`Firestore (${Jo}): ${n}`,...t)}}function ea(n,...e){if(Kl.logLevel<=tu.in.WARN){const t=e.map(av);Kl.warn(`Firestore (${Jo}): ${n}`,...t)}}function av(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function at(n="Unexpected state"){const e=`FIRESTORE (${Jo}) INTERNAL ASSERTION FAILED: `+n;throw di(e),new Error(e)}function mt(n,e){n||at()}function We(n,e){return n}const le={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Oe extends on.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ri{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class cv{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class X0{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ki.UNAUTHENTICATED))}shutdown(){}}class J0{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class eE{constructor(e){this.t=e,this.currentUser=ki.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;let r=this.i;const a=w=>this.i!==r?(r=this.i,t(w)):Promise.resolve();let u=new Ri;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Ri,e.enqueueRetryable(()=>a(this.currentUser))};const f=()=>{const w=u;e.enqueueRetryable((0,ye.Z)(function*(){yield w.promise,yield a(i.currentUser)}))},_=w=>{Fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=w,this.auth.addAuthTokenListener(this.o),f()};this.t.onInit(w=>_(w)),setTimeout(()=>{if(!this.auth){const w=this.t.getImmediate({optional:!0});w?_(w):(Fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Ri)}},0),f()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(Fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(mt("string"==typeof i.accessToken),new cv(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return mt(null===e||"string"==typeof e),new ki(e)}}class tE{constructor(e,t,i,r){this.h=e,this.l=t,this.m=i,this.g=r,this.type="FirstParty",this.user=ki.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(mt(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class sT{constructor(e,t,i,r){this.h=e,this.l=t,this.m=i,this.g=r}getToken(){return Promise.resolve(new tE(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(ki.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class nE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class oT{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const i=a=>{null!=a.error&&Fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.A;return this.A=a.token,Fe("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>i(a))};const r=a=>{Fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.T.onInit(a=>r(a)),setTimeout(()=>{if(!this.appCheck){const a=this.T.getImmediate({optional:!0});a?r(a):Fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(mt("string"==typeof t.token),this.A=t.token,new nE(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function aT(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}class iE{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const r=aT(40);for(let a=0;a<r.length;++a)i.length<20&&r[a]<t&&(i+=e.charAt(r[a]%e.length))}return i}}function zt(n,e){return n<e?-1:n>e?1:0}function jd(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}function rE(n){return n+"\0"}class qn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Oe(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Oe(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Oe(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Oe(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return qn.fromMillis(Date.now())}static fromDate(e){return qn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new qn(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?zt(this.nanoseconds,e.nanoseconds):zt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class It{constructor(e){this.timestamp=e}static fromTimestamp(e){return new It(e)}static min(){return new It(new qn(0,0))}static max(){return new It(new qn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Gf{constructor(e,t,i){void 0===t?t=0:t>e.length&&at(),void 0===i?i=e.length-t:i>e.length-t&&at(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===Gf.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Gf?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const a=e.get(r),u=t.get(r);if(a<u)return-1;if(a>u)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class cn extends Gf{construct(e,t,i){return new cn(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new Oe(le.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new cn(t)}static emptyPath(){return new cn([])}}const lT=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class hi extends Gf{construct(e,t,i){return new hi(e,t,i)}static isValidIdentifier(e){return lT.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),hi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new hi(["__name__"])}static fromServerFormat(e){const t=[];let i="",r=0;const a=()=>{if(0===i.length)throw new Oe(le.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let u=!1;for(;r<e.length;){const f=e[r];if("\\"===f){if(r+1===e.length)throw new Oe(le.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[r+1];if("\\"!==_&&"."!==_&&"`"!==_)throw new Oe(le.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=_,r+=2}else"`"===f?(u=!u,r++):"."!==f||u?(i+=f,r++):(a(),r++)}if(a(),u)throw new Oe(le.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new hi(t)}static emptyPath(){return new hi([])}}class Ze{constructor(e){this.path=e}static fromPath(e){return new Ze(cn.fromString(e))}static fromName(e){return new Ze(cn.fromString(e).popFirst(5))}static empty(){return new Ze(cn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===cn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return cn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ze(new cn(e.slice()))}}class yg{constructor(e,t,i,r){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=r}}function uv(n){return n.fields.find(e=>2===e.kind)}function Zl(n){return n.fields.filter(e=>2!==e.kind)}yg.UNKNOWN_ID=-1;class $f{constructor(e,t){this.fieldPath=e,this.kind=t}}class Gd{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Gd(0,$r.min())}}function dv(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=It.fromTimestamp(1e9===i?new qn(t+1,0):new qn(t,i));return new $r(r,Ze.empty(),e)}function hv(n){return new $r(n.readTime,n.key,-1)}class $r{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new $r(It.min(),Ze.empty(),-1)}static max(){return new $r(It.max(),Ze.empty(),-1)}}function vg(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Ze.comparator(n.documentKey,e.documentKey),0!==t?t:zt(n.largestBatchId,e.largestBatchId))}const bg="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class wg{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function zr(n){return fv.apply(this,arguments)}function fv(){return fv=(0,ye.Z)(function*(n){if(n.code!==le.FAILED_PRECONDITION||n.message!==bg)throw n;Fe("LocalStore","Unexpectedly lost primary lease")}),fv.apply(this,arguments)}class se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&at(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new se((i,r)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(i,r)},this.catchCallback=a=>{this.wrapFailure(t,a).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof se?t:se.resolve(t)}catch(t){return se.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):se.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):se.reject(t)}static resolve(e){return new se((t,i)=>{t(e)})}static reject(e){return new se((t,i)=>{i(e)})}static waitFor(e){return new se((t,i)=>{let r=0,a=0,u=!1;e.forEach(f=>{++r,f.next(()=>{++a,u&&a===r&&t()},_=>i(_))}),u=!0,a===r&&t()})}static or(e){let t=se.resolve(!1);for(const i of e)t=t.next(r=>r?se.resolve(r):i());return t}static forEach(e,t){const i=[];return e.forEach((r,a)=>{i.push(t.call(this,r,a))}),this.waitFor(i)}static mapArray(e,t){return new se((i,r)=>{const a=e.length,u=new Array(a);let f=0;for(let _=0;_<a;_++){const w=_;t(e[w]).next(I=>{u[w]=I,++f,f===a&&i(u)},I=>r(I))}})}static doWhile(e,t){return new se((i,r)=>{const a=()=>{!0===e()?t().next(()=>{a()},r):i()};a()})}}class qa{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new Ri,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new Eg(e,t.error)):this.P.resolve()},this.transaction.onerror=i=>{const r=mv(i.target.error);this.P.reject(new Eg(e,r))}}static open(e,t,i,r){try{return new qa(t,e.transaction(r,i))}catch(a){throw new Eg(t,a)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(Fe("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new aE(t)}}class ta{constructor(e,t,i){this.name=e,this.version=t,this.S=i,12.2===ta.D((0,on.z$)())&&di("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Fe("SimpleDb","Removing database:",e),$d(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,on.hl)())return!1;if(ta.N())return!0;const e=(0,on.z$)(),t=ta.D(e),i=0<t&&t<10,r=ta.k(e),a=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||a)}static N(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.O)}static M(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static k(e){const t=e.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}F(e){var t=this;return(0,ye.Z)(function*(){return t.db||(Fe("SimpleDb","Opening database:",t.name),t.db=yield new Promise((i,r)=>{const a=indexedDB.open(t.name,t.version);a.onsuccess=u=>{i(u.target.result)},a.onblocked=()=>{r(new Eg(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=u=>{const f=u.target.error;r("VersionError"===f.name?new Oe(le.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===f.name?new Oe(le.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+f):new Eg(e,f))},a.onupgradeneeded=u=>{Fe("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',u.oldVersion),t.S.$(u.target.result,a.transaction,u.oldVersion,t.version).next(()=>{Fe("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=i=>t.B(i)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,i,r){var a=this;return(0,ye.Z)(function*(){const u="readonly"===t;let f=0;for(;;){++f;try{a.db=yield a.F(e);const _=qa.open(a.db,e,u?"readonly":"readwrite",i),w=r(_).next(I=>(_.V(),I)).catch(I=>(_.abort(I),se.reject(I))).toPromise();return w.catch(()=>{}),yield _.v,w}catch(_){const w=_,I="FirebaseError"!==w.name&&f<3;if(Fe("SimpleDb","Transaction failed with error:",w.message,"Retrying:",I),a.close(),!I)return Promise.reject(w)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class pv{constructor(e){this.q=e,this.U=!1,this.K=null}get isDone(){return this.U}get G(){return this.K}set cursor(e){this.q=e}done(){this.U=!0}j(e){this.K=e}delete(){return $d(this.q.delete())}}class Eg extends Oe{constructor(e,t){super(le.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Wa(n){return"IndexedDbTransactionError"===n.name}class aE{constructor(e){this.store=e}put(e,t){let i;return void 0!==t?(Fe("SimpleDb","PUT",this.store.name,e,t),i=this.store.put(t,e)):(Fe("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),$d(i)}add(e){return Fe("SimpleDb","ADD",this.store.name,e,e),$d(this.store.add(e))}get(e){return $d(this.store.get(e)).next(t=>(void 0===t&&(t=null),Fe("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Fe("SimpleDb","DELETE",this.store.name,e),$d(this.store.delete(e))}count(){return Fe("SimpleDb","COUNT",this.store.name),$d(this.store.count())}W(e,t){const i=this.options(e,t);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),a=[];return this.H(r,(u,f)=>{a.push(f)}).next(()=>a)}{const r=this.store.getAll(i.range);return new se((a,u)=>{r.onerror=f=>{u(f.target.error)},r.onsuccess=f=>{a(f.target.result)}})}}J(e,t){const i=this.store.getAll(e,null===t?void 0:t);return new se((r,a)=>{i.onerror=u=>{a(u.target.error)},i.onsuccess=u=>{r(u.target.result)}})}Y(e,t){Fe("SimpleDb","DELETE ALL",this.store.name);const i=this.options(e,t);i.X=!1;const r=this.cursor(i);return this.H(r,(a,u,f)=>f.delete())}Z(e,t){let i;t?i=e:(i={},t=e);const r=this.cursor(i);return this.H(r,t)}tt(e){const t=this.cursor({});return new se((i,r)=>{t.onerror=a=>{const u=mv(a.target.error);r(u)},t.onsuccess=a=>{const u=a.target.result;u?e(u.primaryKey,u.value).next(f=>{f?u.continue():i()}):i()}})}H(e,t){const i=[];return new se((r,a)=>{e.onerror=u=>{a(u.target.error)},e.onsuccess=u=>{const f=u.target.result;if(!f)return void r();const _=new pv(f),w=t(f.primaryKey,f.value,_);if(w instanceof se){const I=w.catch(x=>(_.done(),se.reject(x)));i.push(I)}_.isDone?r():null===_.G?f.continue():f.continue(_.G)}}).next(()=>se.waitFor(i))}options(e,t){let i;return void 0!==e&&("string"==typeof e?i=e:t=e),{index:i,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const i=this.store.index(e.index);return e.X?i.openKeyCursor(e.range,t):i.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function $d(n){return new se((e,t)=>{n.onsuccess=i=>{e(i.target.result)},n.onerror=i=>{const r=mv(i.target.error);t(r)}})}let Mt=!1;function mv(n){const e=ta.D((0,on.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const i=new Oe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Mt||(Mt=!0,setTimeout(()=>{throw i},0)),i}}return n}class cT{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;Fe("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,ye.Z)(function*(){t.task=null;try{Fe("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(i){Wa(i)?Fe("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield zr(i)}yield t.nt(6e4)}))}}class uT{constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,ye.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>t.it(i,e))})()}it(e,t){const i=new Set;let r=t,a=!0;return se.doWhile(()=>!0===a&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(u=>{if(null!==u&&!i.has(u))return Fe("IndexBackiller",`Processing collection: ${u}`),this.rt(e,u,r).next(f=>{r-=f,i.add(u)});a=!1})).next(()=>t-r)}rt(e,t,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(r=>this.localStore.localDocuments.getNextDocuments(e,t,r,i).next(a=>{const u=a.changes;return this.localStore.indexManager.updateIndexEntries(e,u).next(()=>this.ot(r,a)).next(f=>(Fe("IndexBackiller",`Updating offset: ${f}`),this.localStore.indexManager.updateCollectionGroup(e,t,f))).next(()=>u.size)}))}ot(e,t){let i=e;return t.changes.forEach((r,a)=>{const u=hv(a);vg(u,i)>0&&(i=u)}),new $r(i.readTime,i.documentKey,Math.max(t.batchId,e.largestBatchId))}}let Ki=(()=>{class n{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ut(r),this.ct=r=>i.writeSequenceNumber(r))}ut(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ct&&this.ct(t),t}}return n.at=-1,n})();class dT{constructor(e,t,i,r,a,u,f,_){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=f,this.useFetchStreams=_}}class mo{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new mo("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof mo&&e.projectId===this.projectId&&e.database===this.database}}function zf(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function An(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function hT(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function zd(n){return null==n}function qd(n){return 0===n&&1/n==-1/0}function lE(n){return"number"==typeof n&&Number.isInteger(n)&&!qd(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class Oi{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Oi(t)}static fromUint8Array(e){const t=function(i){let r="";for(let a=0;a<i.length;++a)r+=String.fromCharCode(i[a]);return r}(e);return new Oi(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return zt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Oi.EMPTY_BYTE_STRING=new Oi("");const uE=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ka(n){if(mt(!!n),"string"==typeof n){let e=0;const t=uE.exec(n);if(mt(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:fi(n.seconds),nanos:fi(n.nanos)}}function fi(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function mu(n){return"string"==typeof n?Oi.fromBase64String(n):Oi.fromUint8Array(n)}function gv(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Wd(n){const e=n.mapValue.fields.__previous_value__;return gv(e)?Wd(e):e}function qf(n){const e=Ka(n.mapValue.fields.__local_write_time__.timestampValue);return new qn(e.seconds,e.nanos)}const Yl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Dg={nullValue:"NULL_VALUE"};function na(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?gv(n)?4:bv(n)?9007199254740991:10:at()}function go(n,e){if(n===e)return!0;const t=na(n);if(t!==na(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return qf(n).isEqual(qf(e));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const a=Ka(i.timestampValue),u=Ka(r.timestampValue);return a.seconds===u.seconds&&a.nanos===u.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return r=e,mu(n.bytesValue).isEqual(mu(r.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,r){return fi(i.geoPointValue.latitude)===fi(r.geoPointValue.latitude)&&fi(i.geoPointValue.longitude)===fi(r.geoPointValue.longitude)}(n,e);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return fi(i.integerValue)===fi(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const a=fi(i.doubleValue),u=fi(r.doubleValue);return a===u?qd(a)===qd(u):isNaN(a)&&isNaN(u)}return!1}(n,e);case 9:return jd(n.arrayValue.values||[],e.arrayValue.values||[],go);case 10:return function(i,r){const a=i.mapValue.fields||{},u=r.mapValue.fields||{};if(zf(a)!==zf(u))return!1;for(const f in a)if(a.hasOwnProperty(f)&&(void 0===u[f]||!go(a[f],u[f])))return!1;return!0}(n,e);default:return at()}var r}function Kd(n,e){return void 0!==(n.values||[]).find(t=>go(t,e))}function Za(n,e){if(n===e)return 0;const t=na(n),i=na(e);if(t!==i)return zt(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return zt(n.booleanValue,e.booleanValue);case 2:return function(r,a){const u=fi(r.integerValue||r.doubleValue),f=fi(a.integerValue||a.doubleValue);return u<f?-1:u>f?1:u===f?0:isNaN(u)?isNaN(f)?0:-1:1}(n,e);case 3:return dE(n.timestampValue,e.timestampValue);case 4:return dE(qf(n),qf(e));case 5:return zt(n.stringValue,e.stringValue);case 6:return function(r,a){const u=mu(r),f=mu(a);return u.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(r,a){const u=r.split("/"),f=a.split("/");for(let _=0;_<u.length&&_<f.length;_++){const w=zt(u[_],f[_]);if(0!==w)return w}return zt(u.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(r,a){const u=zt(fi(r.latitude),fi(a.latitude));return 0!==u?u:zt(fi(r.longitude),fi(a.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(r,a){const u=r.values||[],f=a.values||[];for(let _=0;_<u.length&&_<f.length;++_){const w=Za(u[_],f[_]);if(w)return w}return zt(u.length,f.length)}(n.arrayValue,e.arrayValue);case 10:return function(r,a){if(r===Yl.mapValue&&a===Yl.mapValue)return 0;if(r===Yl.mapValue)return 1;if(a===Yl.mapValue)return-1;const u=r.fields||{},f=Object.keys(u),_=a.fields||{},w=Object.keys(_);f.sort(),w.sort();for(let I=0;I<f.length&&I<w.length;++I){const x=zt(f[I],w[I]);if(0!==x)return x;const L=Za(u[f[I]],_[w[I]]);if(0!==L)return L}return zt(f.length,w.length)}(n.mapValue,e.mapValue);default:throw at()}}function dE(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return zt(n,e);const t=Ka(n),i=Ka(e),r=zt(t.seconds,i.seconds);return 0!==r?r:zt(t.nanos,i.nanos)}function ia(n){return gu(n)}function gu(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=Ka(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?mu(n.bytesValue).toBase64():"referenceValue"in n?Ze.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(i){let r="[",a=!0;for(const u of i.values||[])a?a=!1:r+=",",r+=gu(u);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let a="{",u=!0;for(const f of r)u?u=!1:a+=",",a+=`${f}:${gu(i.fields[f])}`;return a+"}"}(n.mapValue):at();var e}function _u(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function _v(n){return!!n&&"integerValue"in n}function Wf(n){return!!n&&"arrayValue"in n}function yv(n){return!!n&&"nullValue"in n}function vv(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Kf(n){return!!n&&"mapValue"in n}function Zf(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return An(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Zf(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Zf(n.arrayValue.values[t]);return e}return Object.assign({},n)}function bv(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function fT(n){return"nullValue"in n?Dg:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?_u(mo.empty(),Ze.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:at()}function pT(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?_u(mo.empty(),Ze.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Yl:at()}function mT(n,e){const t=Za(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function gT(n,e){const t=Za(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class yu{constructor(e,t){this.position=e,this.inclusive=t}}function _T(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const a=e[r],u=n.position[r];if(i=a.field.isKeyField()?Ze.comparator(Ze.fromName(u.referenceValue),t.key):Za(u,t.data.field(a.field)),"desc"===a.dir&&(i*=-1),0!==i)break}return i}function wv(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!go(n.position[t],e.position[t]))return!1;return!0}class Yf{}class nn extends Yf{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,i):new yT(e,t,i):"array-contains"===t?new gE(e,i):"in"===t?new _E(e,i):"not-in"===t?new yE(e,i):"array-contains-any"===t?new bT(e,i):new nn(e,t,i)}static createKeyFieldInFilter(e,t,i){return"in"===t?new vT(e,i):new Qf(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Za(t,this.value)):null!==t&&na(this.value)===na(t)&&this.matchesComparison(Za(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return at()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Cn extends Yf{constructor(e,t){super(),this.filters=e,this.op=t,this.ht=null}static create(e,t){return new Cn(e,t)}matches(e){return vu(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(t=>t.isInequality());return null!==e?e.field:null}lt(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function vu(n){return"and"===n.op}function bu(n){return"or"===n.op}function Ev(n){return hE(n)&&vu(n)}function hE(n){for(const e of n.filters)if(e instanceof Cn)return!1;return!0}function Dv(n){if(n instanceof nn)return n.field.canonicalString()+n.op.toString()+ia(n.value);if(Ev(n))return n.filters.map(e=>Dv(e)).join(",");{const e=n.filters.map(t=>Dv(t)).join(",");return`${n.op}(${e})`}}function fE(n,e){return n instanceof nn?(t=n,(i=e)instanceof nn&&t.op===i.op&&t.field.isEqual(i.field)&&go(t.value,i.value)):n instanceof Cn?function(t,i){return i instanceof Cn&&t.op===i.op&&t.filters.length===i.filters.length&&t.filters.reduce((r,a,u)=>r&&fE(a,i.filters[u]),!0)}(n,e):void at();var t,i}function pE(n,e){const t=n.filters.concat(e);return Cn.create(t,n.op)}function Cv(n){return n instanceof nn?`${(e=n).field.canonicalString()} ${e.op} ${ia(e.value)}`:n instanceof Cn?function(e){return e.op.toString()+" {"+e.getFilters().map(Cv).join(" ,")+"}"}(n):"Filter";var e}class yT extends nn{constructor(e,t,i){super(e,t,i),this.key=Ze.fromName(i.referenceValue)}matches(e){const t=Ze.comparator(e.key,this.key);return this.matchesComparison(t)}}class vT extends nn{constructor(e,t){super(e,"in",t),this.keys=mE(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Qf extends nn{constructor(e,t){super(e,"not-in",t),this.keys=mE(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function mE(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>Ze.fromName(i.referenceValue))}class gE extends nn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Wf(t)&&Kd(t.arrayValue,this.value)}}class _E extends nn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Kd(this.value.arrayValue,t)}}class yE extends nn{constructor(e,t){super(e,"not-in",t)}matches(e){if(Kd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Kd(this.value.arrayValue,t)}}class bT extends nn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Wf(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Kd(this.value.arrayValue,i))}}class wu{constructor(e,t="asc"){this.field=e,this.dir=t}}function wT(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class Wn{constructor(e,t){this.comparator=e,this.root=t||Zi.EMPTY}insert(e,t){return new Wn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Zi.BLACK,null,null))}remove(e){return new Wn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Zi.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(0===r)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Cg(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Cg(this.root,e,this.comparator,!1)}getReverseIterator(){return new Cg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Cg(this.root,e,this.comparator,!0)}}class Cg{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?i(e.key,t):1,t&&r&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(0===a){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Zi{constructor(e,t,i,r,a){this.key=e,this.value=t,this.color=i??Zi.RED,this.left=r??Zi.EMPTY,this.right=a??Zi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,a){return new Zi(e??this.key,t??this.value,i??this.color,r??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const a=i(e,r.key);return r=a<0?r.copy(null,null,null,r.left.insert(e,t,i),null):0===a?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Zi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Zi.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Zi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Zi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw at();const e=this.left.check();if(e!==this.right.check())throw at();return e+(this.isRed()?0:1)}}Zi.EMPTY=null,Zi.RED=!0,Zi.BLACK=!1,Zi.EMPTY=new class{constructor(){this.size=0}get key(){throw at()}get value(){throw at()}get color(){throw at()}get left(){throw at()}get right(){throw at()}copy(n,e,t,i,r){return this}insert(n,e,t){return new Zi(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class In{constructor(e){this.comparator=e,this.data=new Wn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new vE(this.data.getIterator())}getIteratorFrom(e){return new vE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof In)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,a=i.getNext().key;if(0!==this.comparator(r,a))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new In(this.comparator);return t.data=e,t}}class vE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Zd(n){return n.hasNext()?n.getNext():void 0}class qr{constructor(e){this.fields=e,e.sort(hi.comparator)}static empty(){return new qr([])}unionWith(e){let t=new In(hi.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new qr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return jd(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class Ui{constructor(e){this.value=e}static empty(){return new Ui({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Kf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Zf(t)}setAll(e){let t=hi.emptyPath(),i={},r=[];e.forEach((u,f)=>{if(!t.isImmediateParentOf(f)){const _=this.getFieldsMap(t);this.applyChanges(_,i,r),i={},r=[],t=f.popLast()}u?i[f.lastSegment()]=Zf(u):r.push(f.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,i,r)}delete(e){const t=this.field(e.popLast());Kf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return go(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];Kf(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){An(t,(r,a)=>e[r]=a);for(const r of i)delete e[r]}clone(){return new Ui(Zf(this.value))}}function bE(n){const e=[];return An(n.fields,(t,i)=>{const r=new hi([t]);if(Kf(i)){const a=bE(i.mapValue).fields;if(0===a.length)e.push(r);else for(const u of a)e.push(r.child(u))}else e.push(r)}),new qr(e)}class On{constructor(e,t,i,r,a,u,f){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.createTime=a,this.data=u,this.documentState=f}static newInvalidDocument(e){return new On(e,0,It.min(),It.min(),It.min(),Ui.empty(),0)}static newFoundDocument(e,t,i,r){return new On(e,1,t,It.min(),i,r,0)}static newNoDocument(e,t){return new On(e,2,t,It.min(),It.min(),Ui.empty(),0)}static newUnknownDocument(e,t){return new On(e,3,t,It.min(),It.min(),Ui.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(It.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ui.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ui.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=It.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof On&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new On(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ET{constructor(e,t=null,i=[],r=[],a=null,u=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=a,this.startAt=u,this.endAt=f,this.ft=null}}function Iv(n,e=null,t=[],i=[],r=null,a=null,u=null){return new ET(n,e,t,i,r,a,u)}function Eu(n){const e=We(n);if(null===e.ft){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>Dv(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),zd(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>ia(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>ia(i)).join(",")),e.ft=t}return e.ft}function Xf(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!wT(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!fE(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!wv(n.startAt,e.startAt)&&wv(n.endAt,e.endAt)}function Ig(n){return Ze.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function Tg(n,e){return n.filters.filter(t=>t instanceof nn&&t.field.isEqual(e))}function wE(n,e,t){let i=Dg,r=!0;for(const a of Tg(n,e)){let u=Dg,f=!0;switch(a.op){case"<":case"<=":u=fT(a.value);break;case"==":case"in":case">=":u=a.value;break;case">":u=a.value,f=!1;break;case"!=":case"not-in":u=Dg}mT({value:i,inclusive:r},{value:u,inclusive:f})<0&&(i=u,r=f)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const u=t.position[a];mT({value:i,inclusive:r},{value:u,inclusive:t.inclusive})<0&&(i=u,r=t.inclusive);break}return{value:i,inclusive:r}}function EE(n,e,t){let i=Yl,r=!0;for(const a of Tg(n,e)){let u=Yl,f=!0;switch(a.op){case">=":case">":u=pT(a.value),f=!1;break;case"==":case"in":case"<=":u=a.value;break;case"<":u=a.value,f=!1;break;case"!=":case"not-in":u=Yl}gT({value:i,inclusive:r},{value:u,inclusive:f})>0&&(i=u,r=f)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const u=t.position[a];gT({value:i,inclusive:r},{value:u,inclusive:t.inclusive})>0&&(i=u,r=t.inclusive);break}return{value:i,inclusive:r}}class ra{constructor(e,t=null,i=[],r=[],a=null,u="F",f=null,_=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=a,this.limitType=u,this.startAt=f,this.endAt=_,this.dt=null,this._t=null}}function Tv(n,e,t,i,r,a,u,f){return new ra(n,e,t,i,r,a,u,f)}function Yd(n){return new ra(n)}function DE(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function Sg(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Ag(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function Sv(n){return null!==n.collectionGroup}function Du(n){const e=We(n);if(null===e.dt){e.dt=[];const t=Ag(e),i=Sg(e);if(null!==t&&null===i)t.isKeyField()||e.dt.push(new wu(t)),e.dt.push(new wu(hi.keyField(),"asc"));else{let r=!1;for(const a of e.explicitOrderBy)e.dt.push(a),a.field.isKeyField()&&(r=!0);if(!r){const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new wu(hi.keyField(),a))}}}return e.dt}function dr(n){const e=We(n);if(!e._t)if("F"===e.limitType)e._t=Iv(e.path,e.collectionGroup,Du(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const a of Du(e))t.push(new wu(a.field,"desc"===a.dir?"asc":"desc"));const i=e.endAt?new yu(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new yu(e.startAt.position,e.startAt.inclusive):null;e._t=Iv(e.path,e.collectionGroup,t,e.filters,e.limit,i,r)}return e._t}function Jf(n,e){e.getFirstInequalityField(),Ag(n);const t=n.filters.concat([e]);return new ra(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function ep(n,e,t){return new ra(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Cu(n,e){return Xf(dr(n),dr(e))&&n.limitType===e.limitType}function CE(n){return`${Eu(dr(n))}|lt:${n.limitType}`}function Av(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(i=>Cv(i)).join(", ")}]`),zd(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(i=>{return`${(r=i).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>ia(i)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>ia(i)).join(",")),`Target(${t})`}(dr(n))}; limitType=${n.limitType})`}function Iu(n,e){return e.isFoundDocument()&&function(t,i){const r=i.key.path;return null!==t.collectionGroup?i.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(r):Ze.isDocumentKey(t.path)?t.path.isEqual(r):t.path.isImmediateParentOf(r)}(n,e)&&function(t,i){for(const r of Du(t))if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,e)&&function(t,i){for(const r of t.filters)if(!r.matches(i))return!1;return!0}(n,e)&&(i=e,!((t=n).startAt&&!function(r,a,u){const f=_T(r,a,u);return r.inclusive?f<=0:f<0}(t.startAt,Du(t),i)||t.endAt&&!function(r,a,u){const f=_T(r,a,u);return r.inclusive?f>=0:f>0}(t.endAt,Du(t),i)));var t,i}function IE(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Mv(n){return(e,t)=>{let i=!1;for(const r of Du(n)){const a=Qd(r,e,t);if(0!==a)return a;i=i||r.field.isKeyField()}return 0}}function Qd(n,e,t){const i=n.field.isKeyField()?Ze.comparator(e.key,t.key):function(r,a,u){const f=a.data.field(r),_=u.data.field(r);return null!==f&&null!==_?Za(f,_):at()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return at()}}function TE(n,e){if(n.wt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:qd(e)?"-0":e}}function SE(n){return{integerValue:""+n}}function DT(n,e){return lE(e)?SE(e):TE(n,e)}class tp{constructor(){this._=void 0}}function xv(n,e,t){return n instanceof Xd?function(i,r){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&(a.fields.__previous_value__=r),{mapValue:a}}(t,e):n instanceof Tu?Mg(n,e):n instanceof Ql?Rv(n,e):function(i,r){const a=kv(i,r),u=Ov(a)+Ov(i.gt);return _v(a)&&_v(i.gt)?SE(u):TE(i.yt,u)}(n,e)}function CT(n,e,t){return n instanceof Tu?Mg(n,e):n instanceof Ql?Rv(n,e):t}function kv(n,e){return n instanceof Su?_v(t=e)||(i=t)&&"doubleValue"in i?e:{integerValue:0}:null;var i,t}class Xd extends tp{}class Tu extends tp{constructor(e){super(),this.elements=e}}function Mg(n,e){const t=AE(e);for(const i of n.elements)t.some(r=>go(r,i))||t.push(i);return{arrayValue:{values:t}}}class Ql extends tp{constructor(e){super(),this.elements=e}}function Rv(n,e){let t=AE(e);for(const i of n.elements)t=t.filter(r=>!go(r,i));return{arrayValue:{values:t}}}class Su extends tp{constructor(e,t){super(),this.yt=e,this.gt=t}}function Ov(n){return fi(n.integerValue||n.doubleValue)}function AE(n){return Wf(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class np{constructor(e,t){this.field=e,this.transform=t}}class TT{constructor(e,t){this.version=e,this.transformResults=t}}class Hn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Hn}static exists(e){return new Hn(void 0,e)}static updateTime(e){return new Hn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Pv(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class ip{}function ME(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new eh(n.key,Hn.none()):new Jd(n.key,n.data,Hn.none());{const t=n.data,i=Ui.empty();let r=new In(hi.comparator);for(let a of e.fields)if(!r.has(a)){let u=t.field(a);null===u&&a.length>1&&(a=a.popLast(),u=t.field(a)),null===u?i.delete(a):i.set(a,u),r=r.add(a)}return new Ya(n.key,i,new qr(r.toArray()),Hn.none())}}function ST(n,e,t){n instanceof Jd?function(i,r,a){const u=i.value.clone(),f=Fv(i.fieldTransforms,r,a.transformResults);u.setAll(f),r.convertToFoundDocument(a.version,u).setHasCommittedMutations()}(n,e,t):n instanceof Ya?function(i,r,a){if(!Pv(i.precondition,r))return void r.convertToUnknownDocument(a.version);const u=Fv(i.fieldTransforms,r,a.transformResults),f=r.data;f.setAll(Nv(i)),f.setAll(u),r.convertToFoundDocument(a.version,f).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function xg(n,e,t,i){return n instanceof Jd?function(r,a,u,f){if(!Pv(r.precondition,a))return u;const _=r.value.clone(),w=kE(r.fieldTransforms,f,a);return _.setAll(w),a.convertToFoundDocument(a.version,_).setHasLocalMutations(),null}(n,e,t,i):n instanceof Ya?function(r,a,u,f){if(!Pv(r.precondition,a))return u;const _=kE(r.fieldTransforms,f,a),w=a.data;return w.setAll(Nv(r)),w.setAll(_),a.convertToFoundDocument(a.version,w).setHasLocalMutations(),null===u?null:u.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(I=>I.field))}(n,e,t,i):(u=t,Pv(n.precondition,a=e)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):u);var a,u}function Tx(n,e){let t=null;for(const i of n.fieldTransforms){const r=e.data.field(i.field),a=kv(i.transform,r||null);null!=a&&(null===t&&(t=Ui.empty()),t.set(i.field,a))}return t||null}function xE(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===i||t&&i&&jd(t,i,(r,a)=>function IT(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(t=n.transform)instanceof Tu&&i instanceof Tu||t instanceof Ql&&i instanceof Ql?jd(t.elements,i.elements,go):t instanceof Su&&i instanceof Su?go(t.gt,i.gt):t instanceof Xd&&i instanceof Xd);var t,i}(r,a))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,i}class Jd extends ip{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Ya extends ip{constructor(e,t,i,r,a=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function Nv(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function Fv(n,e,t){const i=new Map;mt(n.length===t.length);for(let r=0;r<t.length;r++){const a=n[r],u=a.transform,f=e.data.field(a.field);i.set(a.field,CT(u,f,t[r]))}return i}function kE(n,e,t){const i=new Map;for(const r of n){const a=r.transform,u=t.data.field(r.field);i.set(r.field,xv(a,u,e))}return i}class eh extends ip{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Lv extends ip{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class AT{constructor(e){this.count=e}}var Pi,un;function RE(n){switch(n){default:return at();case le.CANCELLED:case le.UNKNOWN:case le.DEADLINE_EXCEEDED:case le.RESOURCE_EXHAUSTED:case le.INTERNAL:case le.UNAVAILABLE:case le.UNAUTHENTICATED:return!1;case le.INVALID_ARGUMENT:case le.NOT_FOUND:case le.ALREADY_EXISTS:case le.PERMISSION_DENIED:case le.FAILED_PRECONDITION:case le.ABORTED:case le.OUT_OF_RANGE:case le.UNIMPLEMENTED:case le.DATA_LOSS:return!0}}function th(n){if(void 0===n)return di("GRPC error has no .code"),le.UNKNOWN;switch(n){case Pi.OK:return le.OK;case Pi.CANCELLED:return le.CANCELLED;case Pi.UNKNOWN:return le.UNKNOWN;case Pi.DEADLINE_EXCEEDED:return le.DEADLINE_EXCEEDED;case Pi.RESOURCE_EXHAUSTED:return le.RESOURCE_EXHAUSTED;case Pi.INTERNAL:return le.INTERNAL;case Pi.UNAVAILABLE:return le.UNAVAILABLE;case Pi.UNAUTHENTICATED:return le.UNAUTHENTICATED;case Pi.INVALID_ARGUMENT:return le.INVALID_ARGUMENT;case Pi.NOT_FOUND:return le.NOT_FOUND;case Pi.ALREADY_EXISTS:return le.ALREADY_EXISTS;case Pi.PERMISSION_DENIED:return le.PERMISSION_DENIED;case Pi.FAILED_PRECONDITION:return le.FAILED_PRECONDITION;case Pi.ABORTED:return le.ABORTED;case Pi.OUT_OF_RANGE:return le.OUT_OF_RANGE;case Pi.UNIMPLEMENTED:return le.UNIMPLEMENTED;case Pi.DATA_LOSS:return le.DATA_LOSS;default:return at()}}(un=Pi||(Pi={}))[un.OK=0]="OK",un[un.CANCELLED=1]="CANCELLED",un[un.UNKNOWN=2]="UNKNOWN",un[un.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",un[un.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",un[un.NOT_FOUND=5]="NOT_FOUND",un[un.ALREADY_EXISTS=6]="ALREADY_EXISTS",un[un.PERMISSION_DENIED=7]="PERMISSION_DENIED",un[un.UNAUTHENTICATED=16]="UNAUTHENTICATED",un[un.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",un[un.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",un[un.ABORTED=10]="ABORTED",un[un.OUT_OF_RANGE=11]="OUT_OF_RANGE",un[un.UNIMPLEMENTED=12]="UNIMPLEMENTED",un[un.INTERNAL=13]="INTERNAL",un[un.UNAVAILABLE=14]="UNAVAILABLE",un[un.DATA_LOSS=15]="DATA_LOSS";class Qa{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[r,a]of i)if(this.equalsFn(r,e))return a}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(void 0===r)return this.inner[i]=[[e,t]],void this.innerSize++;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return void(r[a]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return 1===i.length?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){An(this.inner,(t,i)=>{for(const[r,a]of i)e(r,a)})}isEmpty(){return hT(this.inner)}size(){return this.innerSize}}const OE=new Wn(Ze.comparator);function Tr(){return OE}const Vv=new Wn(Ze.comparator);function nh(...n){let e=Vv;for(const t of n)e=e.insert(t.key,t);return e}function Bv(n){let e=Vv;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function sa(){return ih()}function MT(){return ih()}function ih(){return new Qa(n=>n.toString(),(n,e)=>n.isEqual(e))}const xT=new Wn(Ze.comparator),kT=new In(Ze.comparator);function Zt(...n){let e=kT;for(const t of n)e=e.add(t);return e}const RT=new In(zt);function Xl(){return RT}class rp{constructor(e,t,i,r,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const r=new Map;return r.set(e,Au.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new rp(It.min(),r,Xl(),Tr(),Zt())}}class Au{constructor(e,t,i,r,a){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Au(i,t,Zt(),Zt(),Zt())}}class cs{constructor(e,t,i,r){this.It=e,this.removedTargetIds=t,this.key=i,this.Tt=r}}class PE{constructor(e,t){this.targetId=e,this.Et=t}}class kg{constructor(e,t,i=Oi.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class rh{constructor(){this.At=0,this.Rt=FE(),this.bt=Oi.EMPTY_BYTE_STRING,this.Pt=!1,this.vt=!0}get current(){return this.Pt}get resumeToken(){return this.bt}get Vt(){return 0!==this.At}get St(){return this.vt}Dt(e){e.approximateByteSize()>0&&(this.vt=!0,this.bt=e)}Ct(){let e=Zt(),t=Zt(),i=Zt();return this.Rt.forEach((r,a)=>{switch(a){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:at()}}),new Au(this.bt,this.Pt,e,t,i)}xt(){this.vt=!1,this.Rt=FE()}Nt(e,t){this.vt=!0,this.Rt=this.Rt.insert(e,t)}kt(e){this.vt=!0,this.Rt=this.Rt.remove(e)}Ot(){this.At+=1}Mt(){this.At-=1}Ft(){this.vt=!0,this.Pt=!0}}class OT{constructor(e){this.$t=e,this.Bt=new Map,this.Lt=Tr(),this.qt=NE(),this.Ut=new In(zt)}Kt(e){for(const t of e.It)e.Tt&&e.Tt.isFoundDocument()?this.Gt(t,e.Tt):this.Qt(t,e.key,e.Tt);for(const t of e.removedTargetIds)this.Qt(t,e.key,e.Tt)}jt(e){this.forEachTarget(e,t=>{const i=this.Wt(t);switch(e.state){case 0:this.zt(t)&&i.Dt(e.resumeToken);break;case 1:i.Mt(),i.Vt||i.xt(),i.Dt(e.resumeToken);break;case 2:i.Mt(),i.Vt||this.removeTarget(t);break;case 3:this.zt(t)&&(i.Ft(),i.Dt(e.resumeToken));break;case 4:this.zt(t)&&(this.Ht(t),i.Dt(e.resumeToken));break;default:at()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Bt.forEach((i,r)=>{this.zt(r)&&t(r)})}Jt(e){const t=e.targetId,i=e.Et.count,r=this.Yt(t);if(r){const a=r.target;if(Ig(a))if(0===i){const u=new Ze(a.path);this.Qt(t,u,On.newNoDocument(u,It.min()))}else mt(1===i);else this.Xt(t)!==i&&(this.Ht(t),this.Ut=this.Ut.add(t))}}Zt(e){const t=new Map;this.Bt.forEach((a,u)=>{const f=this.Yt(u);if(f){if(a.current&&Ig(f.target)){const _=new Ze(f.target.path);null!==this.Lt.get(_)||this.te(u,_)||this.Qt(u,_,On.newNoDocument(_,e))}a.St&&(t.set(u,a.Ct()),a.xt())}});let i=Zt();this.qt.forEach((a,u)=>{let f=!0;u.forEachWhile(_=>{const w=this.Yt(_);return!w||2===w.purpose||(f=!1,!1)}),f&&(i=i.add(a))}),this.Lt.forEach((a,u)=>u.setReadTime(e));const r=new rp(e,t,this.Ut,this.Lt,i);return this.Lt=Tr(),this.qt=NE(),this.Ut=new In(zt),r}Gt(e,t){if(!this.zt(e))return;const i=this.te(e,t.key)?2:0;this.Wt(e).Nt(t.key,i),this.Lt=this.Lt.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ee(t.key).add(e))}Qt(e,t,i){if(!this.zt(e))return;const r=this.Wt(e);this.te(e,t)?r.Nt(t,1):r.kt(t),this.qt=this.qt.insert(t,this.ee(t).delete(e)),i&&(this.Lt=this.Lt.insert(t,i))}removeTarget(e){this.Bt.delete(e)}Xt(e){const t=this.Wt(e).Ct();return this.$t.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ot(e){this.Wt(e).Ot()}Wt(e){let t=this.Bt.get(e);return t||(t=new rh,this.Bt.set(e,t)),t}ee(e){let t=this.qt.get(e);return t||(t=new In(zt),this.qt=this.qt.insert(e,t)),t}zt(e){const t=null!==this.Yt(e);return t||Fe("WatchChangeAggregator","Detected inactive target",e),t}Yt(e){const t=this.Bt.get(e);return t&&t.Vt?null:this.$t.ne(e)}Ht(e){this.Bt.set(e,new rh),this.$t.getRemoteKeysForTarget(e).forEach(t=>{this.Qt(e,t,null)})}te(e,t){return this.$t.getRemoteKeysForTarget(e).has(t)}}function NE(){return new Wn(Ze.comparator)}function FE(){return new Wn(Ze.comparator)}const Rg={asc:"ASCENDING",desc:"DESCENDING"},Og={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},PT={and:"AND",or:"OR"};class NT{constructor(e,t){this.databaseId=e,this.wt=t}}function Mu(n,e){return n.wt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Hv(n,e){return n.wt?e.toBase64():e.toUint8Array()}function Uv(n,e){return Mu(n,e.toTimestamp())}function pi(n){return mt(!!n),It.fromTimestamp(function(e){const t=Ka(e);return new qn(t.seconds,t.nanos)}(n))}function jv(n,e){return(t=n,new cn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function LE(n){const e=cn.fromString(n);return mt(GE(e)),e}function Pg(n,e){return jv(n.databaseId,e.path)}function Bs(n,e){const t=LE(e);if(t.get(1)!==n.databaseId.projectId)throw new Oe(le.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Oe(le.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ze(Ng(t))}function sp(n,e){return jv(n.databaseId,e)}function Gv(n){const e=LE(n);return 4===e.length?cn.emptyPath():Ng(e)}function xu(n){return new cn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Ng(n){return mt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function VE(n,e,t){return{name:Pg(n,e),fields:t.value.mapValue.fields}}function BE(n,e,t){const i=Bs(n,e.name),r=pi(e.updateTime),a=e.createTime?pi(e.createTime):It.min(),u=new Ui({mapValue:{fields:e.fields}}),f=On.newFoundDocument(i,r,a,u);return t&&f.setHasCommittedMutations(),t?f.setHasCommittedMutations():f}function sh(n,e){let t;if(e instanceof Jd)t={update:VE(n,e.key,e.value)};else if(e instanceof eh)t={delete:Pg(n,e.key)};else if(e instanceof Ya)t={update:VE(n,e.key,e.data),updateMask:HT(e.fieldMask)};else{if(!(e instanceof Lv))return at();t={verify:Pg(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(r,a){const u=a.transform;if(u instanceof Xd)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Tu)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Ql)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Su)return{fieldPath:a.field.canonicalString(),increment:u.gt};throw at()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(r=e.precondition).updateTime?{updateTime:Uv(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:at()),t;var r}function op(n,e){const t=e.currentDocument?void 0!==(r=e.currentDocument).updateTime?Hn.updateTime(pi(r.updateTime)):void 0!==r.exists?Hn.exists(r.exists):Hn.none():Hn.none(),i=e.updateTransforms?e.updateTransforms.map(r=>function(a,u){let f=null;"setToServerValue"in u?(mt("REQUEST_TIME"===u.setToServerValue),f=new Xd):"appendMissingElements"in u?f=new Tu(u.appendMissingElements.values||[]):"removeAllFromArray"in u?f=new Ql(u.removeAllFromArray.values||[]):"increment"in u?f=new Su(a,u.increment):at();const _=hi.fromServerFormat(u.fieldPath);return new np(_,f)}(n,r)):[];var r;if(e.update){const r=Bs(n,e.update.name),a=new Ui({mapValue:{fields:e.update.fields}});if(e.updateMask){const u=new qr((e.updateMask.fieldPaths||[]).map(w=>hi.fromServerFormat(w)));return new Ya(r,a,u,t,i)}return new Jd(r,a,t,i)}if(e.delete){const r=Bs(n,e.delete);return new eh(r,t)}if(e.verify){const r=Bs(n,e.verify);return new Lv(r,t)}return at()}function $v(n,e){return{documents:[sp(n,e.path)]}}function Fg(n,e){const t={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(t.parent=sp(n,i),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=sp(n,i.popLast()),t.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(_){if(0!==_.length)return ku(Cn.create(_,"and"))}(e.filters);r&&(t.structuredQuery.where=r);const a=function(_){if(0!==_.length)return _.map(w=>{return{field:oh((I=w).field),direction:UE(I.dir)};var I})}(e.orderBy);a&&(t.structuredQuery.orderBy=a);const u=(w=e.limit,n.wt||zd(w)?w:{value:w});var w,f,_;return null!==u&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt={before:(f=e.startAt).inclusive,values:f.position}),e.endAt&&(t.structuredQuery.endAt={before:!(_=e.endAt).inclusive,values:_.position}),t}function zv(n){let e=Gv(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){mt(1===i);const I=t.from[0];I.allDescendants?r=I.collectionId:e=e.child(I.collectionId)}let a=[];t.where&&(a=function(I){const x=qv(I);return x instanceof Cn&&Ev(x)?x.getFilters():[x]}(t.where));let u=[];t.orderBy&&(u=t.orderBy.map(I=>{return new wu(Ni((x=I).field),function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction));var x}));let f=null;t.limit&&(f=function(I){let x;return x="object"==typeof I?I.value:I,zd(x)?null:x}(t.limit));let _=null;var I;t.startAt&&(_=new yu((I=t.startAt).values||[],!!I.before));let w=null;return t.endAt&&(w=function(I){return new yu(I.values||[],!I.before)}(t.endAt)),Tv(e,r,u,a,f,"F",_,w)}function qv(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Ni(e.unaryFilter.field);return nn.create(t,"==",{doubleValue:NaN});case"IS_NULL":const i=Ni(e.unaryFilter.field);return nn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Ni(e.unaryFilter.field);return nn.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Ni(e.unaryFilter.field);return nn.create(a,"!=",{nullValue:"NULL_VALUE"});default:return at()}}(n):void 0!==n.fieldFilter?nn.create(Ni((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return at()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return Cn.create(e.compositeFilter.filters.map(t=>qv(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return at()}}(e.compositeFilter.op))}(n):at();var e}function UE(n){return Rg[n]}function BT(n){return Og[n]}function jE(n){return PT[n]}function oh(n){return{fieldPath:n.canonicalString()}}function Ni(n){return hi.fromServerFormat(n.fieldPath)}function ku(n){return n instanceof nn?function(e){if("=="===e.op){if(vv(e.value))return{unaryFilter:{field:oh(e.field),op:"IS_NAN"}};if(yv(e.value))return{unaryFilter:{field:oh(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(vv(e.value))return{unaryFilter:{field:oh(e.field),op:"IS_NOT_NAN"}};if(yv(e.value))return{unaryFilter:{field:oh(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:oh(e.field),op:BT(e.op),value:e.value}}}(n):n instanceof Cn?function(e){const t=e.getFilters().map(i=>ku(i));return 1===t.length?t[0]:{compositeFilter:{op:jE(e.op),filters:t}}}(n):at()}function HT(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function GE(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Wr(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Wv(e)),e=Sx(n.get(t),e);return Wv(e)}function Sx(n,e){let t=e;const i=n.length;for(let r=0;r<i;r++){const a=n.charAt(r);switch(a){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=a}}return t}function Wv(n){return n+"\x01\x01"}function _o(n){const e=n.length;if(mt(e>=2),2===e)return mt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),cn.emptyPath();const t=e-2,i=[];let r="";for(let a=0;a<e;){const u=n.indexOf("\x01",a);switch((u<0||u>t)&&at(),n.charAt(u+1)){case"\x01":const f=n.substring(a,u);let _;0===r.length?_=f:(r+=f,_=r,r=""),i.push(_);break;case"\x10":r+=n.substring(a,u),r+="\0";break;case"\x11":r+=n.substring(a,u+1);break;default:at()}a=u+2}return new cn(i)}const ah=["userId","batchId"];function Lg(n,e){return[n,Wr(e)]}function Vg(n,e,t){return[n,Wr(e),t]}const UT={},$E=["prefixPath","collectionGroup","readTime","documentId"],jT=["prefixPath","collectionGroup","documentId"],GT=["collectionGroup","readTime","prefixPath","documentId"],$T=["canonicalId","targetId"],Kv=["targetId","path"],zE=["path","targetId"],qE=["collectionId","parent"],Bg=["indexId","uid"],Zv=["uid","sequenceNumber"],Ax=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],WE=["indexId","uid","orderedDocumentKey"],zT=["userId","collectionPath","documentId"],KE=["userId","collectionPath","largestBatchId"],lh=["userId","collectionGroup","largestBatchId"],ZE=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],YE=[...ZE,"documentOverlays"],Hg=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],qT=Hg,WT=[...qT,"indexConfiguration","indexState","indexEntries"];class QE extends wg{constructor(e,t){super(),this.se=e,this.currentSequenceNumber=t}}function Yi(n,e){const t=We(n);return ta.M(t.se,e)}class Yv{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const a=this.mutations[r];a.key.isEqual(e.key)&&ST(a,e,i[r])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=xg(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=xg(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=MT();return this.mutations.forEach(r=>{const a=e.get(r.key),u=a.overlayedDocument;let f=this.applyToLocalView(u,a.mutatedFields);f=t.has(r.key)?null:f;const _=ME(u,f);null!==_&&i.set(r.key,_),u.isValidDocument()||u.convertToNoDocument(It.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Zt())}isEqual(e){return this.batchId===e.batchId&&jd(this.mutations,e.mutations,(t,i)=>xE(t,i))&&jd(this.baseMutations,e.baseMutations,(t,i)=>xE(t,i))}}class Qv{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){mt(e.mutations.length===i.length);let r=xT;const a=e.mutations;for(let u=0;u<a.length;u++)r=r.insert(a[u].key,i[u].version);return new Qv(e,t,i,r)}}class Ug{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Xa{constructor(e,t,i,r,a=It.min(),u=It.min(),f=Oi.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=f}withSequenceNumber(e){return new Xa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Xa(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Xa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class XE{constructor(e){this.ie=e}}function Xv(n,e){const t=e.key,i={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:jg(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document={name:Pg(r=n.ie,(a=e).key),fields:a.data.value.mapValue.fields,updateTime:Mu(r,a.version.toTimestamp()),createTime:Mu(r,a.createTime.toTimestamp())};else if(e.isNoDocument())i.noDocument={path:t.path.toArray(),readTime:Ru(e.version)};else{if(!e.isUnknownDocument())return at();i.unknownDocument={path:t.path.toArray(),version:Ru(e.version)}}var r,a;return i}function jg(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Ru(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Jl(n){const e=new qn(n.seconds,n.nanoseconds);return It.fromTimestamp(e)}function Ou(n,e){const t=(e.baseMutations||[]).map(a=>op(n.ie,a));for(let a=0;a<e.mutations.length-1;++a){const u=e.mutations[a];a+1<e.mutations.length&&void 0!==e.mutations[a+1].transform&&(u.updateTransforms=e.mutations[a+1].transform.fieldTransforms,e.mutations.splice(a+1,1),++a)}const i=e.mutations.map(a=>op(n.ie,a)),r=qn.fromMillis(e.localWriteTimeMs);return new Yv(e.batchId,r,t,i)}function ch(n){const e=Jl(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Jl(n.lastLimboFreeSnapshotVersion):It.min();let i;var r;return void 0!==n.query.documents?(mt(1===(r=n.query).documents.length),i=dr(Yd(Gv(r.documents[0])))):i=dr(zv(n.query)),new Xa(i,n.targetId,0,n.lastListenSequenceNumber,e,t,Oi.fromBase64String(n.resumeToken))}function Jv(n,e){const t=Ru(e.snapshotVersion),i=Ru(e.lastLimboFreeSnapshotVersion);let r;r=Ig(e.target)?$v(n.ie,e.target):Fg(n.ie,e.target);const a=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Eu(e.target),readTime:t,resumeToken:a,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function Gg(n){const e=zv({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?ep(e,e.limit,"L"):e}function $g(n,e){return new Ug(e.largestBatchId,op(n.ie,e.overlayMutation))}function eD(n,e){const t=e.path.lastSegment();return[n,Wr(e.path.popLast()),t]}function tD(n,e,t,i){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:Ru(i.readTime),documentKey:Wr(i.documentKey.path),largestBatchId:i.largestBatchId}}class Mx{getBundleMetadata(e,t){return eb(e).get(t).next(i=>{if(i)return{id:(r=i).bundleId,createTime:Jl(r.createTime),version:r.version};var r})}saveBundleMetadata(e,t){return eb(e).put({bundleId:(i=t).id,createTime:Ru(pi(i.createTime)),version:i.version});var i}getNamedQuery(e,t){return KT(e).get(t).next(i=>{if(i)return{name:(r=i).name,query:Gg(r.bundledQuery),readTime:Jl(r.readTime)};var r})}saveNamedQuery(e,t){return KT(e).put({name:(i=t).name,readTime:Ru(pi(i.readTime)),bundledQuery:i.bundledQuery});var i}}function eb(n){return Yi(n,"bundles")}function KT(n){return Yi(n,"namedQueries")}class tb{constructor(e,t){this.yt=e,this.userId=t}static re(e,t){return new tb(e,t.uid||"")}getOverlay(e,t){return zg(e).get(eD(this.userId,t)).next(i=>i?$g(this.yt,i):null)}getOverlays(e,t){const i=sa();return se.forEach(t,r=>this.getOverlay(e,r).next(a=>{null!==a&&i.set(r,a)})).next(()=>i)}saveOverlays(e,t,i){const r=[];return i.forEach((a,u)=>{const f=new Ug(t,u);r.push(this.oe(e,f))}),se.waitFor(r)}removeOverlaysForBatchId(e,t,i){const r=new Set;t.forEach(u=>r.add(Wr(u.getCollectionPath())));const a=[];return r.forEach(u=>{const f=IDBKeyRange.bound([this.userId,u,i],[this.userId,u,i+1],!1,!0);a.push(zg(e).Y("collectionPathOverlayIndex",f))}),se.waitFor(a)}getOverlaysForCollection(e,t,i){const r=sa(),a=Wr(t),u=IDBKeyRange.bound([this.userId,a,i],[this.userId,a,Number.POSITIVE_INFINITY],!0);return zg(e).W("collectionPathOverlayIndex",u).next(f=>{for(const _ of f){const w=$g(this.yt,_);r.set(w.getKey(),w)}return r})}getOverlaysForCollectionGroup(e,t,i,r){const a=sa();let u;const f=IDBKeyRange.bound([this.userId,t,i],[this.userId,t,Number.POSITIVE_INFINITY],!0);return zg(e).Z({index:"collectionGroupOverlayIndex",range:f},(_,w,I)=>{const x=$g(this.yt,w);a.size()<r||x.largestBatchId===u?(a.set(x.getKey(),x),u=x.largestBatchId):I.done()}).next(()=>a)}oe(e,t){return zg(e).put(function(i,r,a){const[u,f,_]=eD(r,a.mutation.key);return{userId:r,collectionPath:f,documentId:_,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:sh(i.ie,a.mutation)}}(this.yt,this.userId,t))}}function zg(n){return Yi(n,"documentOverlays")}class uh{constructor(){}ue(e,t){this.ce(e,t),t.ae()}ce(e,t){if("nullValue"in e)this.he(t,5);else if("booleanValue"in e)this.he(t,10),t.le(e.booleanValue?1:0);else if("integerValue"in e)this.he(t,15),t.le(fi(e.integerValue));else if("doubleValue"in e){const i=fi(e.doubleValue);isNaN(i)?this.he(t,13):(this.he(t,15),qd(i)?t.le(0):t.le(i))}else if("timestampValue"in e){const i=e.timestampValue;this.he(t,20),"string"==typeof i?t.fe(i):(t.fe(`${i.seconds||""}`),t.le(i.nanos||0))}else if("stringValue"in e)this.de(e.stringValue,t),this._e(t);else if("bytesValue"in e)this.he(t,30),t.we(mu(e.bytesValue)),this._e(t);else if("referenceValue"in e)this.me(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.he(t,45),t.le(i.latitude||0),t.le(i.longitude||0)}else"mapValue"in e?bv(e)?this.he(t,Number.MAX_SAFE_INTEGER):(this.ge(e.mapValue,t),this._e(t)):"arrayValue"in e?(this.ye(e.arrayValue,t),this._e(t)):at()}de(e,t){this.he(t,25),this.pe(e,t)}pe(e,t){t.fe(e)}ge(e,t){const i=e.fields||{};this.he(t,55);for(const r of Object.keys(i))this.de(r,t),this.ce(i[r],t)}ye(e,t){const i=e.values||[];this.he(t,50);for(const r of i)this.ce(r,t)}me(e,t){this.he(t,37),Ze.fromName(e).path.forEach(i=>{this.he(t,60),this.pe(i,t)})}he(e,t){e.le(t)}_e(e){e.le(2)}}function xx(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function ZT(n){const e=64-function(t){let i=0;for(let r=0;r<8;++r){const a=xx(255&t[r]);if(i+=a,8!==a)break}return i}(n);return Math.ceil(e/8)}uh.Ie=new uh;class kx{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Te(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Ee(i.value),i=t.next();this.Ae()}Re(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.be(i.value),i=t.next();this.Pe()}ve(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Ee(i);else if(i<2048)this.Ee(960|i>>>6),this.Ee(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Ee(480|i>>>12),this.Ee(128|63&i>>>6),this.Ee(128|63&i);else{const r=t.codePointAt(0);this.Ee(240|r>>>18),this.Ee(128|63&r>>>12),this.Ee(128|63&r>>>6),this.Ee(128|63&r)}}this.Ae()}Ve(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.be(i);else if(i<2048)this.be(960|i>>>6),this.be(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.be(480|i>>>12),this.be(128|63&i>>>6),this.be(128|63&i);else{const r=t.codePointAt(0);this.be(240|r>>>18),this.be(128|63&r>>>12),this.be(128|63&r>>>6),this.be(128|63&r)}}this.Pe()}Se(e){const t=this.De(e),i=ZT(t);this.Ce(1+i),this.buffer[this.position++]=255&i;for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=255&t[r]}xe(e){const t=this.De(e),i=ZT(t);this.Ce(1+i),this.buffer[this.position++]=~(255&i);for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}Ne(){this.ke(255),this.ke(255)}Oe(){this.Me(255),this.Me(255)}reset(){this.position=0}seed(e){this.Ce(e.length),this.buffer.set(e,this.position),this.position+=e.length}Fe(){return this.buffer.slice(0,this.position)}De(e){const t=function(r){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,r,!1),new Uint8Array(a.buffer)}(e),i=0!=(128&t[0]);t[0]^=i?255:128;for(let r=1;r<t.length;++r)t[r]^=i?255:0;return t}Ee(e){const t=255&e;0===t?(this.ke(0),this.ke(255)):255===t?(this.ke(255),this.ke(0)):this.ke(t)}be(e){const t=255&e;0===t?(this.Me(0),this.Me(255)):255===t?(this.Me(255),this.Me(0)):this.Me(e)}Ae(){this.ke(0),this.ke(1)}Pe(){this.Me(0),this.Me(1)}ke(e){this.Ce(1),this.buffer[this.position++]=e}Me(e){this.Ce(1),this.buffer[this.position++]=~e}Ce(e){const t=e+this.position;if(t<=this.buffer.length)return;let i=2*this.buffer.length;i<t&&(i=t);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class Rx{constructor(e){this.$e=e}we(e){this.$e.Te(e)}fe(e){this.$e.ve(e)}le(e){this.$e.Se(e)}ae(){this.$e.Ne()}}class qg{constructor(e){this.$e=e}we(e){this.$e.Re(e)}fe(e){this.$e.Ve(e)}le(e){this.$e.xe(e)}ae(){this.$e.Oe()}}class Wg{constructor(){this.$e=new kx,this.Be=new Rx(this.$e),this.Le=new qg(this.$e)}seed(e){this.$e.seed(e)}qe(e){return 0===e?this.Be:this.Le}Fe(){return this.$e.Fe()}reset(){this.$e.reset()}}class ec{constructor(e,t,i,r){this.indexId=e,this.documentKey=t,this.arrayValue=i,this.directionalValue=r}Ue(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,i=new Uint8Array(t);return i.set(this.directionalValue,0),t!==e?i.set([0],this.directionalValue.length):++i[i.length-1],new ec(this.indexId,this.documentKey,this.arrayValue,i)}}function yo(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=nb(n.arrayValue,e.arrayValue),0!==t?t:(t=nb(n.directionalValue,e.directionalValue),0!==t?t:Ze.comparator(n.documentKey,e.documentKey)))}function nb(n,e){for(let t=0;t<n.length&&t<e.length;++t){const i=n[t]-e[t];if(0!==i)return i}return n.length-e.length}class nD{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ke=e.orderBy,this.Ge=[];for(const t of e.filters){const i=t;i.isInequality()?this.Qe=i:this.Ge.push(i)}}je(e){mt(e.collectionGroup===this.collectionId);const t=uv(e);if(void 0!==t&&!this.We(t))return!1;const i=Zl(e);let r=0,a=0;for(;r<i.length&&this.We(i[r]);++r);if(r===i.length)return!0;if(void 0!==this.Qe){const u=i[r];if(!this.ze(this.Qe,u)||!this.He(this.Ke[a++],u))return!1;++r}for(;r<i.length;++r){const u=i[r];if(a>=this.Ke.length||!this.He(this.Ke[a++],u))return!1}return!0}We(e){for(const t of this.Ge)if(this.ze(t,e))return!0;return!1}ze(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}He(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function YT(n){var e,t;if(mt(n instanceof nn||n instanceof Cn),n instanceof nn){if(n instanceof _E){const r=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(a=>nn.create(n.field,"==",a)))||[];return Cn.create(r,"or")}return n}const i=n.filters.map(r=>YT(r));return Cn.create(i,n.op)}function ib(n){if(0===n.getFilters().length)return[];const e=rD(YT(n));return mt(iD(e)),Kg(e)||rb(e)?[e]:e.getFilters()}function Kg(n){return n instanceof nn}function rb(n){return n instanceof Cn&&Ev(n)}function iD(n){return Kg(n)||rb(n)||function(e){if(e instanceof Cn&&bu(e)){for(const t of e.getFilters())if(!Kg(t)&&!rb(t))return!1;return!0}return!1}(n)}function rD(n){if(mt(n instanceof nn||n instanceof Cn),n instanceof nn)return n;if(1===n.filters.length)return rD(n.filters[0]);const e=n.filters.map(i=>rD(i));let t=Cn.create(e,n.op);return t=Zg(t),iD(t)?t:(mt(t instanceof Cn),mt(vu(t)),mt(t.filters.length>1),t.filters.reduce((i,r)=>sb(i,r)))}function sb(n,e){let t;return mt(n instanceof nn||n instanceof Cn),mt(e instanceof nn||e instanceof Cn),t=n instanceof nn?e instanceof nn?Cn.create([n,e],"and"):QT(n,e):e instanceof nn?QT(e,n):function(i,r){if(mt(i.filters.length>0&&r.filters.length>0),vu(i)&&vu(r))return pE(i,r.getFilters());const a=bu(i)?i:r,u=bu(i)?r:i,f=a.filters.map(_=>sb(_,u));return Cn.create(f,"or")}(n,e),Zg(t)}function QT(n,e){if(vu(e))return pE(e,n.getFilters());{const t=e.filters.map(i=>sb(n,i));return Cn.create(t,"or")}}function Zg(n){if(mt(n instanceof nn||n instanceof Cn),n instanceof nn)return n;const e=n.getFilters();if(1===e.length)return Zg(e[0]);if(hE(n))return n;const t=e.map(r=>Zg(r)),i=[];return t.forEach(r=>{r instanceof nn?i.push(r):r instanceof Cn&&(r.op===n.op?i.push(...r.filters):i.push(r))}),1===i.length?i[0]:Cn.create(i,n.op)}class Yg{constructor(){this.Je=new ob}addToCollectionParentIndex(e,t){return this.Je.add(t),se.resolve()}getCollectionParents(e,t){return se.resolve(this.Je.getEntries(t))}addFieldIndex(e,t){return se.resolve()}deleteFieldIndex(e,t){return se.resolve()}getDocumentsMatchingTarget(e,t){return se.resolve(null)}getIndexType(e,t){return se.resolve(0)}getFieldIndexes(e,t){return se.resolve([])}getNextCollectionGroupToUpdate(e){return se.resolve(null)}getMinOffset(e,t){return se.resolve($r.min())}getMinOffsetFromCollectionGroup(e,t){return se.resolve($r.min())}updateCollectionGroup(e,t,i){return se.resolve()}updateIndexEntries(e,t){return se.resolve()}}class ob{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new In(cn.comparator),a=!r.has(i);return this.index[t]=r.add(i),a}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new In(cn.comparator)).toArray()}}const ab=new Uint8Array(0);class Ox{constructor(e,t){this.user=e,this.databaseId=t,this.Ye=new ob,this.Xe=new Qa(i=>Eu(i),(i,r)=>Xf(i,r)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ye.has(t)){const i=t.lastSegment(),r=t.popLast();e.addOnCommittedListener(()=>{this.Ye.add(t)});const a={collectionId:i,parent:Wr(r)};return XT(e).put(a)}return se.resolve()}getCollectionParents(e,t){const i=[],r=IDBKeyRange.bound([t,""],[rE(t),""],!1,!0);return XT(e).W(r).next(a=>{for(const u of a){if(u.collectionId!==t)break;i.push(_o(u.parent))}return i})}addFieldIndex(e,t){const i=lb(e),r={indexId:(u=t).indexId,collectionGroup:u.collectionGroup,fields:u.fields.map(f=>[f.fieldPath.canonicalString(),f.kind])};var u;delete r.indexId;const a=i.add(r);if(t.indexState){const u=lp(e);return a.next(f=>{u.put(tD(f,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return a.next()}deleteFieldIndex(e,t){const i=lb(e),r=lp(e),a=ap(e);return i.delete(t.indexId).next(()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const i=ap(e);let r=!0;const a=new Map;return se.forEach(this.Ze(t),u=>this.tn(e,u).next(f=>{r&&(r=!!f),a.set(u,f)})).next(()=>{if(r){let u=Zt();const f=[];return se.forEach(a,(_,w)=>{var I;Fe("IndexedDbIndexManager",`Using index ${I=_,`id=${I.indexId}|cg=${I.collectionGroup}|f=${I.fields.map(gt=>`${gt.fieldPath}:${gt.kind}`).join(",")}`} to execute ${Eu(t)}`);const x=function(gt,dt){const Pt=uv(dt);if(void 0===Pt)return null;for(const Ut of Tg(gt,Pt.fieldPath))switch(Ut.op){case"array-contains-any":return Ut.value.arrayValue.values||[];case"array-contains":return[Ut.value]}return null}(w,_),L=function(gt,dt){const Pt=new Map;for(const Ut of Zl(dt))for(const pn of Tg(gt,Ut.fieldPath))switch(pn.op){case"==":case"in":Pt.set(Ut.fieldPath.canonicalString(),pn.value);break;case"not-in":case"!=":return Pt.set(Ut.fieldPath.canonicalString(),pn.value),Array.from(Pt.values())}return null}(w,_),j=function(gt,dt){const Pt=[];let Ut=!0;for(const pn of Zl(dt)){const _s=0===pn.kind?wE(gt,pn.fieldPath,gt.startAt):EE(gt,pn.fieldPath,gt.startAt);Pt.push(_s.value),Ut&&(Ut=_s.inclusive)}return new yu(Pt,Ut)}(w,_),z=function(gt,dt){const Pt=[];let Ut=!0;for(const pn of Zl(dt)){const _s=0===pn.kind?EE(gt,pn.fieldPath,gt.endAt):wE(gt,pn.fieldPath,gt.endAt);Pt.push(_s.value),Ut&&(Ut=_s.inclusive)}return new yu(Pt,Ut)}(w,_),J=this.en(_,w,j),be=this.en(_,w,z),et=this.nn(_,w,L),yt=this.sn(_.indexId,x,J,j.inclusive,be,z.inclusive,et);return se.forEach(yt,gt=>i.J(gt,t.limit).next(dt=>{dt.forEach(Pt=>{const Ut=Ze.fromSegments(Pt.documentKey);u.has(Ut)||(u=u.add(Ut),f.push(Ut))})}))}).next(()=>f)}return se.resolve(null)})}Ze(e){let t=this.Xe.get(e);return t||(t=0===e.filters.length?[e]:ib(Cn.create(e.filters,"and")).map(i=>Iv(e.path,e.collectionGroup,e.orderBy,i.getFilters(),e.limit,e.startAt,e.endAt)),this.Xe.set(e,t),t)}sn(e,t,i,r,a,u,f){const _=(null!=t?t.length:1)*Math.max(i.length,a.length),w=_/(null!=t?t.length:1),I=[];for(let x=0;x<_;++x){const L=t?this.rn(t[x/w]):ab,j=this.on(e,L,i[x%w],r),z=this.un(e,L,a[x%w],u),J=f.map(be=>this.on(e,L,be,!0));I.push(...this.createRange(j,z,J))}return I}on(e,t,i,r){const a=new ec(e,Ze.empty(),t,i);return r?a:a.Ue()}un(e,t,i,r){const a=new ec(e,Ze.empty(),t,i);return r?a.Ue():a}tn(e,t){const i=new nD(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next(a=>{let u=null;for(const f of a)i.je(f)&&(!u||f.fields.length>u.fields.length)&&(u=f);return u})}getIndexType(e,t){let i=2;const r=this.Ze(t);return se.forEach(r,a=>this.tn(e,a).next(u=>{u?0!==i&&u.fields.length<function(f){let _=new In(hi.comparator),w=!1;for(const I of f.filters)for(const x of I.getFlattenedFilters())x.field.isKeyField()||("array-contains"===x.op||"array-contains-any"===x.op?w=!0:_=_.add(x.field));for(const I of f.orderBy)I.field.isKeyField()||(_=_.add(I.field));return _.size+(w?1:0)}(a)&&(i=1):i=0})).next(()=>null!==t.limit&&r.length>1&&2===i?1:i)}cn(e,t){const i=new Wg;for(const r of Zl(e)){const a=t.data.field(r.fieldPath);if(null==a)return null;const u=i.qe(r.kind);uh.Ie.ue(a,u)}return i.Fe()}rn(e){const t=new Wg;return uh.Ie.ue(e,t.qe(0)),t.Fe()}an(e,t){const i=new Wg;return uh.Ie.ue(_u(this.databaseId,t),i.qe(function(r){const a=Zl(r);return 0===a.length?0:a[a.length-1].kind}(e))),i.Fe()}nn(e,t,i){if(null===i)return[];let r=[];r.push(new Wg);let a=0;for(const u of Zl(e)){const f=i[a++];for(const _ of r)if(this.hn(t,u.fieldPath)&&Wf(f))r=this.ln(r,u,f);else{const w=_.qe(u.kind);uh.Ie.ue(f,w)}}return this.fn(r)}en(e,t,i){return this.nn(e,t,i.position)}fn(e){const t=[];for(let i=0;i<e.length;++i)t[i]=e[i].Fe();return t}ln(e,t,i){const r=[...e],a=[];for(const u of i.arrayValue.values||[])for(const f of r){const _=new Wg;_.seed(f.Fe()),uh.Ie.ue(u,_.qe(t.kind)),a.push(_)}return a}hn(e,t){return!!e.filters.find(i=>i instanceof nn&&i.field.isEqual(t)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(e,t){const i=lb(e),r=lp(e);return(t?i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):i.W()).next(a=>{const u=[];return se.forEach(a,f=>r.get([f.indexId,this.uid]).next(_=>{u.push(function(w,I){const x=I?new Gd(I.sequenceNumber,new $r(Jl(I.readTime),new Ze(_o(I.documentKey)),I.largestBatchId)):Gd.empty(),L=w.fields.map(([j,z])=>new $f(hi.fromServerFormat(j),z));return new yg(w.indexId,w.collectionGroup,L,x)}(f,_))})).next(()=>u)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((i,r)=>{const a=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==a?a:zt(i.collectionGroup,r.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,i){const r=lb(e),a=lp(e);return this.dn(e).next(u=>r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(f=>se.forEach(f,_=>a.put(tD(_.indexId,this.user,u,i)))))}updateIndexEntries(e,t){const i=new Map;return se.forEach(t,(r,a)=>{const u=i.get(r.collectionGroup);return(u?se.resolve(u):this.getFieldIndexes(e,r.collectionGroup)).next(f=>(i.set(r.collectionGroup,f),se.forEach(f,_=>this._n(e,r,_).next(w=>{const I=this.wn(a,_);return w.isEqual(I)?se.resolve():this.mn(e,a,_,w,I)}))))})}gn(e,t,i,r){return ap(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.an(i,t.key),documentKey:t.key.path.toArray()})}yn(e,t,i,r){return ap(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.an(i,t.key),t.key.path.toArray()])}_n(e,t,i){const r=ap(e);let a=new In(yo);return r.Z({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.an(i,t)])},(u,f)=>{a=a.add(new ec(i.indexId,t,f.arrayValue,f.directionalValue))}).next(()=>a)}wn(e,t){let i=new In(yo);const r=this.cn(t,e);if(null==r)return i;const a=uv(t);if(null!=a){const u=e.data.field(a.fieldPath);if(Wf(u))for(const f of u.arrayValue.values||[])i=i.add(new ec(t.indexId,e.key,this.rn(f),r))}else i=i.add(new ec(t.indexId,e.key,ab,r));return i}mn(e,t,i,r,a){Fe("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const u=[];return function(f,_,w,I,x){const L=f.getIterator(),j=_.getIterator();let z=Zd(L),J=Zd(j);for(;z||J;){let be=!1,et=!1;if(z&&J){const yt=w(z,J);yt<0?et=!0:yt>0&&(be=!0)}else null!=z?et=!0:be=!0;be?(I(J),J=Zd(j)):et?(x(z),z=Zd(L)):(z=Zd(L),J=Zd(j))}}(r,a,yo,f=>{u.push(this.gn(e,t,i,f))},f=>{u.push(this.yn(e,t,i,f))}),se.waitFor(u)}dn(e){let t=1;return lp(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,a)=>{a.done(),t=r.sequenceNumber+1}).next(()=>t)}createRange(e,t,i){i=i.sort((u,f)=>yo(u,f)).filter((u,f,_)=>!f||0!==yo(u,_[f-1]));const r=[];r.push(e);for(const u of i){const f=yo(u,e),_=yo(u,t);if(0===f)r[0]=e.Ue();else if(f>0&&_<0)r.push(u),r.push(u.Ue());else if(_>0)break}r.push(t);const a=[];for(let u=0;u<r.length;u+=2){if(this.pn(r[u],r[u+1]))return[];a.push(IDBKeyRange.bound([r[u].indexId,this.uid,r[u].arrayValue,r[u].directionalValue,ab,[]],[r[u+1].indexId,this.uid,r[u+1].arrayValue,r[u+1].directionalValue,ab,[]]))}return a}pn(e,t){return yo(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(JT)}getMinOffset(e,t){return se.mapArray(this.Ze(t),i=>this.tn(e,i).next(r=>r||at())).next(JT)}}function XT(n){return Yi(n,"collectionParents")}function ap(n){return Yi(n,"indexEntries")}function lb(n){return Yi(n,"indexConfiguration")}function lp(n){return Yi(n,"indexState")}function JT(n){mt(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;vg(r,e)<0&&(e=r),t<r.largestBatchId&&(t=r.largestBatchId)}return new $r(e.readTime,e.documentKey,t)}const sD={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Sr{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new Sr(e,Sr.DEFAULT_COLLECTION_PERCENTILE,Sr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function cb(n,e,t){const i=n.store("mutations"),r=n.store("documentMutations"),a=[],u=IDBKeyRange.only(t.batchId);let f=0;const _=i.Z({range:u},(I,x,L)=>(f++,L.delete()));a.push(_.next(()=>{mt(1===f)}));const w=[];for(const I of t.mutations){const x=Vg(e,I.key.path,t.batchId);a.push(r.delete(x)),w.push(I.key)}return se.waitFor(a).next(()=>w)}function ub(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw at();e=n.noDocument}return JSON.stringify(e).length}Sr.DEFAULT_COLLECTION_PERCENTILE=10,Sr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Sr.DEFAULT=new Sr(41943040,Sr.DEFAULT_COLLECTION_PERCENTILE,Sr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Sr.DISABLED=new Sr(-1,0,0);class Kr{constructor(e,t,i,r){this.userId=e,this.yt=t,this.indexManager=i,this.referenceDelegate=r,this.In={}}static re(e,t,i,r){mt(""!==e.uid);const a=e.isAuthenticated()?e.uid:"";return new Kr(a,t,i,r)}checkEmpty(e){let t=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return oa(e).Z({index:"userMutationsIndex",range:i},(r,a,u)=>{t=!1,u.done()}).next(()=>t)}addMutationBatch(e,t,i,r){const a=dh(e),u=oa(e);return u.add({}).next(f=>{mt("number"==typeof f);const _=new Yv(f,t,i,r),w=function(L,j,z){const J=z.baseMutations.map(et=>sh(L.ie,et)),be=z.mutations.map(et=>sh(L.ie,et));return{userId:j,batchId:z.batchId,localWriteTimeMs:z.localWriteTime.toMillis(),baseMutations:J,mutations:be}}(this.yt,this.userId,_),I=[];let x=new In((L,j)=>zt(L.canonicalString(),j.canonicalString()));for(const L of r){const j=Vg(this.userId,L.key.path,f);x=x.add(L.key.path.popLast()),I.push(u.put(w)),I.push(a.put(j,UT))}return x.forEach(L=>{I.push(this.indexManager.addToCollectionParentIndex(e,L))}),e.addOnCommittedListener(()=>{this.In[f]=_.keys()}),se.waitFor(I).next(()=>_)})}lookupMutationBatch(e,t){return oa(e).get(t).next(i=>i?(mt(i.userId===this.userId),Ou(this.yt,i)):null)}Tn(e,t){return this.In[t]?se.resolve(this.In[t]):this.lookupMutationBatch(e,t).next(i=>{if(i){const r=i.keys();return this.In[t]=r,r}return null})}getNextMutationBatchAfterBatchId(e,t){const i=t+1,r=IDBKeyRange.lowerBound([this.userId,i]);let a=null;return oa(e).Z({index:"userMutationsIndex",range:r},(u,f,_)=>{f.userId===this.userId&&(mt(f.batchId>=i),a=Ou(this.yt,f)),_.done()}).next(()=>a)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return oa(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(r,a,u)=>{i=a.batchId,u.done()}).next(()=>i)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return oa(e).W("userMutationsIndex",t).next(i=>i.map(r=>Ou(this.yt,r)))}getAllMutationBatchesAffectingDocumentKey(e,t){const i=Lg(this.userId,t.path),r=IDBKeyRange.lowerBound(i),a=[];return dh(e).Z({range:r},(u,f,_)=>{const[w,I,x]=u,L=_o(I);if(w===this.userId&&t.path.isEqual(L))return oa(e).get(x).next(j=>{if(!j)throw at();mt(j.userId===this.userId),a.push(Ou(this.yt,j))});_.done()}).next(()=>a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new In(zt);const r=[];return t.forEach(a=>{const u=Lg(this.userId,a.path),f=IDBKeyRange.lowerBound(u),_=dh(e).Z({range:f},(w,I,x)=>{const[L,j,z]=w,J=_o(j);L===this.userId&&a.path.isEqual(J)?i=i.add(z):x.done()});r.push(_)}),se.waitFor(r).next(()=>this.En(e,i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1,a=Lg(this.userId,i),u=IDBKeyRange.lowerBound(a);let f=new In(zt);return dh(e).Z({range:u},(_,w,I)=>{const[x,L,j]=_,z=_o(L);x===this.userId&&i.isPrefixOf(z)?z.length===r&&(f=f.add(j)):I.done()}).next(()=>this.En(e,f))}En(e,t){const i=[],r=[];return t.forEach(a=>{r.push(oa(e).get(a).next(u=>{if(null===u)throw at();mt(u.userId===this.userId),i.push(Ou(this.yt,u))}))}),se.waitFor(r).next(()=>i)}removeMutationBatch(e,t){return cb(e.se,this.userId,t).next(i=>(e.addOnCommittedListener(()=>{this.An(t.batchId)}),se.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(e,r))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return se.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return dh(e).Z({range:i},(a,u,f)=>{if(a[0]===this.userId){const _=_o(a[1]);r.push(_)}else f.done()}).next(()=>{mt(0===r.length)})})}containsKey(e,t){return oD(e,this.userId,t)}Rn(e){return us(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function oD(n,e,t){const i=Lg(e,t.path),r=i[1],a=IDBKeyRange.lowerBound(i);let u=!1;return dh(n).Z({range:a,X:!0},(f,_,w)=>{const[I,x,L]=f;I===e&&x===r&&(u=!0),w.done()}).next(()=>u)}function oa(n){return Yi(n,"mutations")}function dh(n){return Yi(n,"documentMutations")}function us(n){return Yi(n,"mutationQueues")}class Pu{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new Pu(0)}static vn(){return new Pu(-1)}}class db{constructor(e,t){this.referenceDelegate=e,this.yt=t}allocateTargetId(e){return this.Vn(e).next(t=>{const i=new Pu(t.highestTargetId);return t.highestTargetId=i.next(),this.Sn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(t=>It.fromTimestamp(new qn(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,i){return this.Vn(e).next(r=>(r.highestListenSequenceNumber=t,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.Sn(e,r)))}addTargetData(e,t){return this.Dn(e,t).next(()=>this.Vn(e).next(i=>(i.targetCount+=1,this.Cn(t,i),this.Sn(e,i))))}updateTargetData(e,t){return this.Dn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>hh(e).delete(t.targetId)).next(()=>this.Vn(e)).next(i=>(mt(i.targetCount>0),i.targetCount-=1,this.Sn(e,i)))}removeTargets(e,t,i){let r=0;const a=[];return hh(e).Z((u,f)=>{const _=ch(f);_.sequenceNumber<=t&&null===i.get(_.targetId)&&(r++,a.push(this.removeTargetData(e,_)))}).next(()=>se.waitFor(a)).next(()=>r)}forEachTarget(e,t){return hh(e).Z((i,r)=>{const a=ch(r);t(a)})}Vn(e){return aD(e).get("targetGlobalKey").next(t=>(mt(null!==t),t))}Sn(e,t){return aD(e).put("targetGlobalKey",t)}Dn(e,t){return hh(e).put(Jv(this.yt,t))}Cn(e,t){let i=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,i=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.Vn(e).next(t=>t.targetCount)}getTargetData(e,t){const i=Eu(t),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let a=null;return hh(e).Z({range:r,index:"queryTargetsIndex"},(u,f,_)=>{const w=ch(f);Xf(t,w.target)&&(a=w,_.done())}).next(()=>a)}addMatchingKeys(e,t,i){const r=[],a=aa(e);return t.forEach(u=>{const f=Wr(u.path);r.push(a.put({targetId:i,path:f})),r.push(this.referenceDelegate.addReference(e,i,u))}),se.waitFor(r)}removeMatchingKeys(e,t,i){const r=aa(e);return se.forEach(t,a=>{const u=Wr(a.path);return se.waitFor([r.delete([i,u]),this.referenceDelegate.removeReference(e,i,a)])})}removeMatchingKeysForTargetId(e,t){const i=aa(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(e,t){const i=IDBKeyRange.bound([t],[t+1],!1,!0),r=aa(e);let a=Zt();return r.Z({range:i,X:!0},(u,f,_)=>{const w=_o(u[1]),I=new Ze(w);a=a.add(I)}).next(()=>a)}containsKey(e,t){const i=Wr(t.path),r=IDBKeyRange.bound([i],[rE(i)],!1,!0);let a=0;return aa(e).Z({index:"documentTargetsIndex",X:!0,range:r},([u,f],_,w)=>{0!==u&&(a++,w.done())}).next(()=>a>0)}ne(e,t){return hh(e).get(t).next(i=>i?ch(i):null)}}function hh(n){return Yi(n,"targets")}function aD(n){return Yi(n,"targetGlobal")}function aa(n){return Yi(n,"targetDocuments")}function hb([n,e],[t,i]){const r=zt(n,t);return 0===r?zt(e,i):r}class lD{constructor(e){this.xn=e,this.buffer=new In(hb),this.Nn=0}kn(){return++this.Nn}On(e){const t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();hb(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class eS{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Mn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return null!==this.Mn}Fn(e){var t=this;Fe("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,ye.Z)(function*(){t.Mn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(i){Wa(i)?Fe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield zr(i)}yield t.Fn(3e5)}))}}class cD{constructor(e,t){this.$n=e,this.params=t}calculateTargetCount(e,t){return this.$n.Bn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(0===t)return se.resolve(Ki.at);const i=new lD(t);return this.$n.forEachTarget(e,r=>i.On(r.sequenceNumber)).next(()=>this.$n.Ln(e,r=>i.On(r))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.$n.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.$n.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Fe("LruGarbageCollector","Garbage collection skipped; disabled"),se.resolve(sD)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(Fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),sD):this.qn(e,t))}getCacheSize(e){return this.$n.getCacheSize(e)}qn(e,t){let i,r,a,u,f,_,w;const I=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(x=>(x>this.params.maximumSequenceNumbersToCollect?(Fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),r=this.params.maximumSequenceNumbersToCollect):r=x,u=Date.now(),this.nthSequenceNumber(e,r))).next(x=>(i=x,f=Date.now(),this.removeTargets(e,i,t))).next(x=>(a=x,_=Date.now(),this.removeOrphanedDocuments(e,i))).next(x=>(w=Date.now(),_g()<=tu.in.DEBUG&&Fe("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${u-I}ms\n\tDetermined least recently used ${r} in `+(f-u)+`ms\n\tRemoved ${a} targets in `+(_-f)+`ms\n\tRemoved ${x} documents in `+(w-_)+`ms\nTotal Duration: ${w-I}ms`),se.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:a,documentsRemoved:x})))}}class uD{constructor(e,t){this.db=e,this.garbageCollector=new cD(this,t)}Bn(e){const t=this.Un(e);return this.db.getTargetCache().getTargetCount(e).next(i=>t.next(r=>i+r))}Un(e){let t=0;return this.Ln(e,i=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ln(e,t){return this.Kn(e,(i,r)=>t(r))}addReference(e,t,i){return Qg(e,i)}removeReference(e,t,i){return Qg(e,i)}removeTargets(e,t,i){return this.db.getTargetCache().removeTargets(e,t,i)}markPotentiallyOrphaned(e,t){return Qg(e,t)}Gn(e,t){return function(i,r){let a=!1;return us(i).tt(u=>oD(i,u,r).next(f=>(f&&(a=!0),se.resolve(!f)))).next(()=>a)}(e,t)}removeOrphanedDocuments(e,t){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let a=0;return this.Kn(e,(u,f)=>{if(f<=t){const _=this.Gn(e,u).next(w=>{if(!w)return a++,i.getEntry(e,u).next(()=>(i.removeEntry(u,It.min()),aa(e).delete([0,Wr(u.path)])))});r.push(_)}}).next(()=>se.waitFor(r)).next(()=>i.apply(e)).next(()=>a)}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,t){return Qg(e,t)}Kn(e,t){const i=aa(e);let r,a=Ki.at;return i.Z({index:"documentTargetsIndex"},([u,f],{path:_,sequenceNumber:w})=>{0===u?(a!==Ki.at&&t(new Ze(_o(r)),a),a=w,r=_):a=Ki.at}).next(()=>{a!==Ki.at&&t(new Ze(_o(r)),a)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Qg(n,e){return aa(n).put((i=n.currentSequenceNumber,{targetId:0,path:Wr(e.path),sequenceNumber:i}));var i}class fb{constructor(){this.changes=new Qa(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,On.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?se.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class tS{constructor(e){this.yt=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,i){return Ja(e).put(i)}removeEntry(e,t,i){return Ja(e).delete(function(r,a){const u=r.path.toArray();return[u.slice(0,u.length-2),u[u.length-2],jg(a),u[u.length-1]]}(t,i))}updateMetadata(e,t){return this.getMetadata(e).next(i=>(i.byteSize+=t,this.Qn(e,i)))}getEntry(e,t){let i=On.newInvalidDocument(t);return Ja(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(ds(t))},(r,a)=>{i=this.jn(t,a)}).next(()=>i)}Wn(e,t){let i={size:0,document:On.newInvalidDocument(t)};return Ja(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(ds(t))},(r,a)=>{i={document:this.jn(t,a),size:ub(a)}}).next(()=>i)}getEntries(e,t){let i=Tr();return this.zn(e,t,(r,a)=>{const u=this.jn(r,a);i=i.insert(r,u)}).next(()=>i)}Hn(e,t){let i=Tr(),r=new Wn(Ze.comparator);return this.zn(e,t,(a,u)=>{const f=this.jn(a,u);i=i.insert(a,f),r=r.insert(a,ub(u))}).next(()=>({documents:i,Jn:r}))}zn(e,t,i){if(t.isEmpty())return se.resolve();let r=new In(nS);t.forEach(_=>r=r.add(_));const a=IDBKeyRange.bound(ds(r.first()),ds(r.last())),u=r.getIterator();let f=u.getNext();return Ja(e).Z({index:"documentKeyIndex",range:a},(_,w,I)=>{const x=Ze.fromSegments([...w.prefixPath,w.collectionGroup,w.documentId]);for(;f&&nS(f,x)<0;)i(f,null),f=u.getNext();f&&f.isEqual(x)&&(i(f,w),f=u.hasNext()?u.getNext():null),f?I.j(ds(f)):I.done()}).next(()=>{for(;f;)i(f,null),f=u.hasNext()?u.getNext():null})}getDocumentsMatchingQuery(e,t,i,r){const a=t.path,u=[a.popLast().toArray(),a.lastSegment(),jg(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],f=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Ja(e).W(IDBKeyRange.bound(u,f,!0)).next(_=>{let w=Tr();for(const I of _){const x=this.jn(Ze.fromSegments(I.prefixPath.concat(I.collectionGroup,I.documentId)),I);x.isFoundDocument()&&(Iu(t,x)||r.has(x.key))&&(w=w.insert(x.key,x))}return w})}getAllFromCollectionGroup(e,t,i,r){let a=Tr();const u=dD(t,i),f=dD(t,$r.max());return Ja(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(u,f,!0)},(_,w,I)=>{const x=this.jn(Ze.fromSegments(w.prefixPath.concat(w.collectionGroup,w.documentId)),w);a=a.insert(x.key,x),a.size===r&&I.done()}).next(()=>a)}newChangeBuffer(e){return new tc(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return pb(e).get("remoteDocumentGlobalKey").next(t=>(mt(!!t),t))}Qn(e,t){return pb(e).put("remoteDocumentGlobalKey",t)}jn(e,t){if(t){const i=function JE(n,e){let t;if(e.document)t=BE(n.ie,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const i=Ze.fromSegments(e.noDocument.path),r=Jl(e.noDocument.readTime);t=On.newNoDocument(i,r),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return at();{const i=Ze.fromSegments(e.unknownDocument.path),r=Jl(e.unknownDocument.version);t=On.newUnknownDocument(i,r)}}return e.readTime&&t.setReadTime(function(i){const r=new qn(i[0],i[1]);return It.fromTimestamp(r)}(e.readTime)),t}(this.yt,t);if(!i.isNoDocument()||!i.version.isEqual(It.min()))return i}return On.newInvalidDocument(e)}}function Xg(n){return new tS(n)}class tc extends fb{constructor(e,t){super(),this.Yn=e,this.trackRemovals=t,this.Xn=new Qa(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(e){const t=[];let i=0,r=new In((a,u)=>zt(a.canonicalString(),u.canonicalString()));return this.changes.forEach((a,u)=>{const f=this.Xn.get(a);if(t.push(this.Yn.removeEntry(e,a,f.readTime)),u.isValidDocument()){const _=Xv(this.Yn.yt,u);r=r.add(a.path.popLast()),i+=ub(_)-f.size,t.push(this.Yn.addEntry(e,a,_))}else if(i-=f.size,this.trackRemovals){const _=Xv(this.Yn.yt,u.convertToNoDocument(It.min()));t.push(this.Yn.addEntry(e,a,_))}}),r.forEach(a=>{t.push(this.Yn.indexManager.addToCollectionParentIndex(e,a))}),t.push(this.Yn.updateMetadata(e,i)),se.waitFor(t)}getFromCache(e,t){return this.Yn.Wn(e,t).next(i=>(this.Xn.set(t,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(e,t){return this.Yn.Hn(e,t).next(({documents:i,Jn:r})=>(r.forEach((a,u)=>{this.Xn.set(a,{size:u,readTime:i.get(a).readTime})}),i))}}function pb(n){return Yi(n,"remoteDocumentGlobal")}function Ja(n){return Yi(n,"remoteDocumentsV14")}function ds(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function dD(n,e){const t=e.documentKey.path.toArray();return[n,jg(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function nS(n,e){const t=n.path.toArray(),i=e.path.toArray();let r=0;for(let a=0;a<t.length-2&&a<i.length-2;++a)if(r=zt(t[a],i[a]),r)return r;return r=zt(t.length,i.length),r||(r=zt(t[t.length-2],i[i.length-2]),r||zt(t[t.length-1],i[i.length-1]))}class iS{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class rS{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,t))).next(r=>(null!==i&&xg(i.mutation,r,qr.empty(),qn.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,Zt()).next(()=>i))}getLocalViewOfDocuments(e,t,i=Zt()){const r=sa();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(a=>{let u=nh();return a.forEach((f,_)=>{u=u.insert(f,_.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const i=sa();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,Zt()))}populateOverlays(e,t,i){const r=[];return i.forEach(a=>{t.has(a)||r.push(a)}),this.documentOverlayCache.getOverlays(e,r).next(a=>{a.forEach((u,f)=>{t.set(u,f)})})}computeViews(e,t,i,r){let a=Tr();const u=ih(),f=ih();return t.forEach((_,w)=>{const I=i.get(w.key);r.has(w.key)&&(void 0===I||I.mutation instanceof Ya)?a=a.insert(w.key,w):void 0!==I?(u.set(w.key,I.mutation.getFieldMask()),xg(I.mutation,w,I.mutation.getFieldMask(),qn.now())):u.set(w.key,qr.empty())}),this.recalculateAndSaveOverlays(e,a).next(_=>(_.forEach((w,I)=>u.set(w,I)),t.forEach((w,I)=>{var x;return f.set(w,new iS(I,null!==(x=u.get(w))&&void 0!==x?x:null))}),f))}recalculateAndSaveOverlays(e,t){const i=ih();let r=new Wn((u,f)=>u-f),a=Zt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const f of u)f.keys().forEach(_=>{const w=t.get(_);if(null===w)return;let I=i.get(_)||qr.empty();I=f.applyToLocalView(w,I),i.set(_,I);const x=(r.get(f.batchId)||Zt()).add(_);r=r.insert(f.batchId,x)})}).next(()=>{const u=[],f=r.getReverseIterator();for(;f.hasNext();){const _=f.getNext(),w=_.key,I=_.value,x=MT();I.forEach(L=>{if(!a.has(L)){const j=ME(t.get(L),i.get(L));null!==j&&x.set(L,j),a=a.add(L)}}),u.push(this.documentOverlayCache.saveOverlays(e,w,x))}return se.waitFor(u)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i){return Ze.isDocumentKey((r=t).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):Sv(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i):this.getDocumentsMatchingCollectionQuery(e,t,i);var r}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(a=>{const u=r-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-a.size):se.resolve(sa());let f=-1,_=a;return u.next(w=>se.forEach(w,(I,x)=>(f<x.largestBatchId&&(f=x.largestBatchId),a.get(I)?se.resolve():this.remoteDocumentCache.getEntry(e,I).next(L=>{_=_.insert(I,L)}))).next(()=>this.populateOverlays(e,w,a)).next(()=>this.computeViews(e,_,w,Zt())).next(I=>({batchId:f,changes:Bv(I)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ze(t)).next(i=>{let r=nh();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i){const r=t.collectionGroup;let a=nh();return this.indexManager.getCollectionParents(e,r).next(u=>se.forEach(u,f=>{const _=(w=t,I=f.child(r),new ra(I,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt));var w,I;return this.getDocumentsMatchingCollectionQuery(e,_,i).next(w=>{w.forEach((I,x)=>{a=a.insert(I,x)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,t,i){let r;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(a=>(r=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,r))).next(a=>{r.forEach((f,_)=>{const w=_.getKey();null===a.get(w)&&(a=a.insert(w,On.newInvalidDocument(w)))});let u=nh();return a.forEach((f,_)=>{const w=r.get(f);void 0!==w&&xg(w.mutation,_,qr.empty(),qn.now()),Iu(t,_)&&(u=u.insert(f,_))}),u})}}class sS{constructor(e){this.yt=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return se.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var i;return this.Zn.set(t.id,{id:(i=t).id,version:i.version,createTime:pi(i.createTime)}),se.resolve()}getNamedQuery(e,t){return se.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(i=t).name,query:Gg(i.bundledQuery),readTime:pi(i.readTime)}),se.resolve();var i}}class oS{constructor(){this.overlays=new Wn(Ze.comparator),this.es=new Map}getOverlay(e,t){return se.resolve(this.overlays.get(t))}getOverlays(e,t){const i=sa();return se.forEach(t,r=>this.getOverlay(e,r).next(a=>{null!==a&&i.set(r,a)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,a)=>{this.oe(e,t,a)}),se.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.es.get(i);return void 0!==r&&(r.forEach(a=>this.overlays=this.overlays.remove(a)),this.es.delete(i)),se.resolve()}getOverlaysForCollection(e,t,i){const r=sa(),a=t.length+1,u=new Ze(t.child("")),f=this.overlays.getIteratorFrom(u);for(;f.hasNext();){const _=f.getNext().value,w=_.getKey();if(!t.isPrefixOf(w.path))break;w.path.length===a&&_.largestBatchId>i&&r.set(_.getKey(),_)}return se.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let a=new Wn((w,I)=>w-I);const u=this.overlays.getIterator();for(;u.hasNext();){const w=u.getNext().value;if(w.getKey().getCollectionGroup()===t&&w.largestBatchId>i){let I=a.get(w.largestBatchId);null===I&&(I=sa(),a=a.insert(w.largestBatchId,I)),I.set(w.getKey(),w)}}const f=sa(),_=a.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((w,I)=>f.set(w,I)),!(f.size()>=r)););return se.resolve(f)}oe(e,t,i){const r=this.overlays.get(i.key);if(null!==r){const u=this.es.get(r.largestBatchId).delete(i.key);this.es.set(r.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new Ug(t,i));let a=this.es.get(t);void 0===a&&(a=Zt(),this.es.set(t,a)),this.es.set(t,a.add(i.key))}}class Jg{constructor(){this.ns=new In(hr.ss),this.rs=new In(hr.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const i=new hr(e,t);this.ns=this.ns.add(i),this.rs=this.rs.add(i)}us(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.cs(new hr(e,t))}hs(e,t){e.forEach(i=>this.removeReference(i,t))}ls(e){const t=new Ze(new cn([])),i=new hr(t,e),r=new hr(t,e+1),a=[];return this.rs.forEachInRange([i,r],u=>{this.cs(u),a.push(u.key)}),a}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new Ze(new cn([])),i=new hr(t,e),r=new hr(t,e+1);let a=Zt();return this.rs.forEachInRange([i,r],u=>{a=a.add(u.key)}),a}containsKey(e){const t=new hr(e,0),i=this.ns.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class hr{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return Ze.comparator(e.key,t.key)||zt(e._s,t._s)}static os(e,t){return zt(e._s,t._s)||Ze.comparator(e.key,t.key)}}class hD{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new In(hr.ss)}checkEmpty(e){return se.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,i,r){const a=this.ws;this.ws++;const u=new Yv(a,t,i,r);this.mutationQueue.push(u);for(const f of r)this.gs=this.gs.add(new hr(f.key,a)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return se.resolve(u)}lookupMutationBatch(e,t){return se.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const r=this.ps(t+1),a=r<0?0:r;return se.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return se.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new hr(t,0),r=new hr(t,Number.POSITIVE_INFINITY),a=[];return this.gs.forEachInRange([i,r],u=>{const f=this.ys(u._s);a.push(f)}),se.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new In(zt);return t.forEach(r=>{const a=new hr(r,0),u=new hr(r,Number.POSITIVE_INFINITY);this.gs.forEachInRange([a,u],f=>{i=i.add(f._s)})}),se.resolve(this.Is(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let a=i;Ze.isDocumentKey(a)||(a=a.child(""));const u=new hr(new Ze(a),0);let f=new In(zt);return this.gs.forEachWhile(_=>{const w=_.key.path;return!!i.isPrefixOf(w)&&(w.length===r&&(f=f.add(_._s)),!0)},u),se.resolve(this.Is(f))}Is(e){const t=[];return e.forEach(i=>{const r=this.ys(i);null!==r&&t.push(r)}),t}removeMutationBatch(e,t){mt(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let i=this.gs;return se.forEach(t.mutations,r=>{const a=new hr(r.key,t.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.gs=i})}An(e){}containsKey(e,t){const i=new hr(t,0),r=this.gs.firstAfterOrEqual(i);return se.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return se.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class aS{constructor(e){this.Es=e,this.docs=new Wn(Ze.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),a=r?r.size:0,u=this.Es(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return se.resolve(i?i.document.mutableCopy():On.newInvalidDocument(t))}getEntries(e,t){let i=Tr();return t.forEach(r=>{const a=this.docs.get(r);i=i.insert(r,a?a.document.mutableCopy():On.newInvalidDocument(r))}),se.resolve(i)}getDocumentsMatchingQuery(e,t,i,r){let a=Tr();const u=t.path,f=new Ze(u.child("")),_=this.docs.getIteratorFrom(f);for(;_.hasNext();){const{key:w,value:{document:I}}=_.getNext();if(!u.isPrefixOf(w.path))break;w.path.length>u.length+1||vg(hv(I),i)<=0||(r.has(I.key)||Iu(t,I))&&(a=a.insert(I.key,I.mutableCopy()))}return se.resolve(a)}getAllFromCollectionGroup(e,t,i,r){at()}As(e,t){return se.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new fD(this)}getSize(e){return se.resolve(this.size)}}class fD extends fb{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this.Yn.addEntry(e,r)):this.Yn.removeEntry(i)}),se.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class Px{constructor(e){this.persistence=e,this.Rs=new Qa(t=>Eu(t),Xf),this.lastRemoteSnapshotVersion=It.min(),this.highestTargetId=0,this.bs=0,this.Ps=new Jg,this.targetCount=0,this.vs=Pu.Pn()}forEachTarget(e,t){return this.Rs.forEach((i,r)=>t(r)),se.resolve()}getLastRemoteSnapshotVersion(e){return se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return se.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),se.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.bs&&(this.bs=t),se.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new Pu(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,se.resolve()}updateTargetData(e,t){return this.Dn(t),se.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,se.resolve()}removeTargets(e,t,i){let r=0;const a=[];return this.Rs.forEach((u,f)=>{f.sequenceNumber<=t&&null===i.get(f.targetId)&&(this.Rs.delete(u),a.push(this.removeMatchingKeysForTargetId(e,f.targetId)),r++)}),se.waitFor(a).next(()=>r)}getTargetCount(e){return se.resolve(this.targetCount)}getTargetData(e,t){const i=this.Rs.get(t)||null;return se.resolve(i)}addMatchingKeys(e,t,i){return this.Ps.us(t,i),se.resolve()}removeMatchingKeys(e,t,i){this.Ps.hs(t,i);const r=this.persistence.referenceDelegate,a=[];return r&&t.forEach(u=>{a.push(r.markPotentiallyOrphaned(e,u))}),se.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),se.resolve()}getMatchingKeysForTargetId(e,t){const i=this.Ps.ds(t);return se.resolve(i)}containsKey(e,t){return se.resolve(this.Ps.containsKey(t))}}class e_{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new Ki(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new Px(this),this.indexManager=new Yg,this.remoteDocumentCache=new aS(i=>this.referenceDelegate.xs(i)),this.yt=new XE(t),this.Ns=new sS(this.yt)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new oS,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Vs[e.toKey()];return i||(i=new hD(t,this.referenceDelegate),this.Vs[e.toKey()]=i),i}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,i){Fe("MemoryPersistence","Starting transaction:",e);const r=new pD(this.Ss.next());return this.referenceDelegate.ks(),i(r).next(a=>this.referenceDelegate.Os(r).next(()=>a)).toPromise().then(a=>(r.raiseOnCommittedEvent(),a))}Ms(e,t){return se.or(Object.values(this.Vs).map(i=>()=>i.containsKey(e,t)))}}class pD extends wg{constructor(e){super(),this.currentSequenceNumber=e}}class cp{constructor(e){this.persistence=e,this.Fs=new Jg,this.$s=null}static Bs(e){return new cp(e)}get Ls(){if(this.$s)return this.$s;throw at()}addReference(e,t,i){return this.Fs.addReference(i,t),this.Ls.delete(i.toString()),se.resolve()}removeReference(e,t,i){return this.Fs.removeReference(i,t),this.Ls.add(i.toString()),se.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),se.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(r=>this.Ls.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(a=>this.Ls.add(a.toString()))}).next(()=>i.removeTargetData(e,t))}ks(){this.$s=new Set}Os(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return se.forEach(this.Ls,i=>{const r=Ze.fromPath(i);return this.qs(e,r).next(a=>{a||t.removeEntry(r,It.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.qs(e,t).next(i=>{i?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}qs(e,t){return se.or([()=>se.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ms(e,t)])}}class mD{constructor(e){this.yt=e}$(e,t,i,r){const a=new qa("createOrUpgrade",t);var f;i<1&&r>=1&&(e.createObjectStore("owner"),(f=e).createObjectStore("mutationQueues",{keyPath:"userId"}),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",ah,{unique:!0}),f.createObjectStore("documentMutations"),mb(e),function(f){f.createObjectStore("remoteDocuments")}(e));let u=se.resolve();return i<3&&r>=3&&(0!==i&&(function(f){f.deleteObjectStore("targetDocuments"),f.deleteObjectStore("targets"),f.deleteObjectStore("targetGlobal")}(e),mb(e)),u=u.next(()=>function(f){const _=f.store("targetGlobal"),w={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:It.min().toTimestamp(),targetCount:0};return _.put("targetGlobalKey",w)}(a))),i<4&&r>=4&&(0!==i&&(u=u.next(()=>function(f,_){return _.store("mutations").W().next(w=>{f.deleteObjectStore("mutations"),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",ah,{unique:!0});const I=_.store("mutations"),x=w.map(L=>I.put(L));return se.waitFor(x)})}(e,a))),u=u.next(()=>{!function(f){f.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),i<5&&r>=5&&(u=u.next(()=>this.Us(a))),i<6&&r>=6&&(u=u.next(()=>(function(f){f.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(a)))),i<7&&r>=7&&(u=u.next(()=>this.Gs(a))),i<8&&r>=8&&(u=u.next(()=>this.Qs(e,a))),i<9&&r>=9&&(u=u.next(()=>{!function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")}(e)})),i<10&&r>=10&&(u=u.next(()=>this.js(a))),i<11&&r>=11&&(u=u.next(()=>{(function(f){f.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(f){f.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),i<12&&r>=12&&(u=u.next(()=>{!function(f){const _=f.createObjectStore("documentOverlays",{keyPath:zT});_.createIndex("collectionPathOverlayIndex",KE,{unique:!1}),_.createIndex("collectionGroupOverlayIndex",lh,{unique:!1})}(e)})),i<13&&r>=13&&(u=u.next(()=>function(f){const _=f.createObjectStore("remoteDocumentsV14",{keyPath:$E});_.createIndex("documentKeyIndex",jT),_.createIndex("collectionGroupIndex",GT)}(e)).next(()=>this.Ws(e,a)).next(()=>e.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(u=u.next(()=>this.zs(e,a))),i<15&&r>=15&&(u=u.next(()=>function(f){f.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),f.createObjectStore("indexState",{keyPath:Bg}).createIndex("sequenceNumberIndex",Zv,{unique:!1}),f.createObjectStore("indexEntries",{keyPath:Ax}).createIndex("documentKeyIndex",WE,{unique:!1})}(e))),u}Ks(e){let t=0;return e.store("remoteDocuments").Z((i,r)=>{t+=ub(r)}).next(()=>{const i={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Us(e){const t=e.store("mutationQueues"),i=e.store("mutations");return t.W().next(r=>se.forEach(r,a=>{const u=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return i.W("userMutationsIndex",u).next(f=>se.forEach(f,_=>{mt(_.userId===a.userId);const w=Ou(this.yt,_);return cb(e,a.userId,w).next(()=>{})}))}))}Gs(e){const t=e.store("targetDocuments"),i=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(r=>{const a=[];return i.Z((u,f)=>{const _=new cn(u),w=[0,Wr(_)];a.push(t.get(w).next(I=>I?se.resolve():t.put({targetId:0,path:Wr(_),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>se.waitFor(a))})}Qs(e,t){e.createObjectStore("collectionParents",{keyPath:qE});const i=t.store("collectionParents"),r=new ob,a=u=>{if(r.add(u)){const f=u.lastSegment(),_=u.popLast();return i.put({collectionId:f,parent:Wr(_)})}};return t.store("remoteDocuments").Z({X:!0},(u,f)=>{const _=new cn(u);return a(_.popLast())}).next(()=>t.store("documentMutations").Z({X:!0},([u,f,_],w)=>{const I=_o(f);return a(I.popLast())}))}js(e){const t=e.store("targets");return t.Z((i,r)=>{const a=ch(r),u=Jv(this.yt,a);return t.put(u)})}Ws(e,t){const i=t.store("remoteDocuments"),r=[];return i.Z((a,u)=>{const f=t.store("remoteDocumentsV14"),_=(w=u,w.document?new Ze(cn.fromString(w.document.name).popFirst(5)):w.noDocument?Ze.fromSegments(w.noDocument.path):w.unknownDocument?Ze.fromSegments(w.unknownDocument.path):at()).path.toArray();var w;const I={prefixPath:_.slice(0,_.length-2),collectionGroup:_[_.length-2],documentId:_[_.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};r.push(f.put(I))}).next(()=>se.waitFor(r))}zs(e,t){const i=t.store("mutations"),r=Xg(this.yt),a=new e_(cp.Bs,this.yt.ie);return i.W().next(u=>{const f=new Map;return u.forEach(_=>{var w;let I=null!==(w=f.get(_.userId))&&void 0!==w?w:Zt();Ou(this.yt,_).keys().forEach(x=>I=I.add(x)),f.set(_.userId,I)}),se.forEach(f,(_,w)=>{const I=new ki(w),x=tb.re(this.yt,I),L=a.getIndexManager(I),j=Kr.re(I,this.yt,L,a.referenceDelegate);return new rS(r,j,x,L).recalculateAndSaveOverlaysForDocumentKeys(new QE(t,Ki.at),_).next()})})}}function mb(n){n.createObjectStore("targetDocuments",{keyPath:Kv}).createIndex("documentTargetsIndex",zE,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",$T,{unique:!0}),n.createObjectStore("targetGlobal")}const t_="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class fh{constructor(e,t,i,r,a,u,f,_,w,I,x=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=i,this.Hs=a,this.window=u,this.document=f,this.Js=w,this.Ys=I,this.Xs=x,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=L=>Promise.resolve(),!fh.C())throw new Oe(le.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new uD(this,r),this.ii=t+"main",this.yt=new XE(_),this.ri=new ta(this.ii,this.Xs,new mD(this.yt)),this.Cs=new db(this.referenceDelegate,this.yt),this.remoteDocumentCache=Xg(this.yt),this.Ns=new Mx,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===I&&di("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Oe(le.FAILED_PRECONDITION,t_);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new Ki(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var t=this;return this.si=function(){var i=(0,ye.Z)(function*(r){if(t.started)return e(r)});return function(r){return i.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var t=(0,ye.Z)(function*(i){null===i.newVersion&&(yield e())});return function(i){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,ye.Z)(function*(){t.started&&(yield t.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>up(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(t=>this.isPrimary&&!t?this._i(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(Wa(e))return Fe("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Fe("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return nc(e).get("owner").next(t=>se.resolve(this.mi(t)))}gi(e){return up(e).delete(this.clientId)}yi(){var e=this;return(0,ye.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=Yi(i,"clientMetadata");return r.W().next(a=>{const u=e.Ii(a,18e5),f=a.filter(_=>-1===u.indexOf(_));return se.forEach(f,_=>r.delete(_.clientId)).next(()=>f)})}).catch(()=>[]);if(e.oi)for(const i of t)e.oi.removeItem(e.Ti(i.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?se.resolve(!0):nc(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)){if(this.mi(t)&&this.networkEnabled)return!0;if(!this.mi(t)){if(!t.allowTabSynchronization)throw new Oe(le.FAILED_PRECONDITION,t_);return!1}}return!(!this.networkEnabled||!this.inForeground)||up(e).W().next(i=>void 0===this.Ii(i,5e3).find(r=>{if(this.clientId!==r.clientId){const u=!this.inForeground&&r.inForeground,f=this.networkEnabled===r.networkEnabled;if(!this.networkEnabled&&r.networkEnabled||u&&f)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Fe("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,ye.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const i=new QE(t,Ki.at);return e._i(i).next(()=>e.gi(i))}),e.ri.close(),e.Pi()})()}Ii(e,t){return e.filter(i=>this.pi(i.updateTimeMs,t)&&!this.Ei(i.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>up(e).W().next(t=>this.Ii(t,18e5).map(i=>i.clientId)))}get started(){return this.Ds}getMutationQueue(e,t){return Kr.re(e,this.yt,t,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Ox(e,this.yt.ie.databaseId)}getDocumentOverlayCache(e){return tb.re(this.yt,e)}getBundleCache(){return this.Ns}runTransaction(e,t,i){Fe("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",a=15===(u=this.Xs)?WT:14===u?qT:13===u?Hg:12===u?YE:11===u?ZE:void at();var u;let f;return this.ri.runTransaction(e,r,a,_=>(f=new QE(_,this.Ss?this.Ss.next():Ki.at),"readwrite-primary"===t?this.fi(f).next(w=>!!w||this.di(f)).next(w=>{if(!w)throw di(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new Oe(le.FAILED_PRECONDITION,bg);return i(f)}).next(w=>this.wi(f).next(()=>w)):this.Vi(f).next(()=>i(f)))).then(_=>(f.raiseOnCommittedEvent(),_))}Vi(e){return nc(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)&&!this.mi(t)&&!(this.Ys||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Oe(le.FAILED_PRECONDITION,t_)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return nc(e).put("owner",t)}static C(){return ta.C()}_i(e){const t=nc(e);return t.get("owner").next(i=>this.mi(i)?(Fe("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):se.resolve())}pi(e,t){const i=Date.now();return!(e<i-t||e>i&&(di(`Detected an update time that is in the future: ${e} > ${i}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,on.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var t;try{const i=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return Fe("IndexedDbPersistence",`Client '${e}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return di("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){di("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function nc(n){return Yi(n,"owner")}function up(n){return Yi(n,"clientMetadata")}function gb(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class n_{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.Si=i,this.Di=r}static Ci(e,t){let i=Zt(),r=Zt();for(const a of t.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:r=r.add(a.doc.key)}return new n_(e,t.fromCache,i,r)}}class _b{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,i,r){return this.ki(e,t).next(a=>a||this.Oi(e,t,r,i)).next(a=>a||this.Mi(e,t))}ki(e,t){if(DE(t))return se.resolve(null);let i=dr(t);return this.indexManager.getIndexType(e,i).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=ep(t,null,"F"),i=dr(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(a=>{const u=Zt(...a);return this.Ni.getDocuments(e,u).next(f=>this.indexManager.getMinOffset(e,i).next(_=>{const w=this.Fi(t,f);return this.$i(t,w,u,_.readTime)?this.ki(e,ep(t,null,"F")):this.Bi(e,w,t,_)}))})))}Oi(e,t,i,r){return DE(t)||r.isEqual(It.min())?this.Mi(e,t):this.Ni.getDocuments(e,i).next(a=>{const u=this.Fi(t,a);return this.$i(t,u,i,r)?this.Mi(e,t):(_g()<=tu.in.DEBUG&&Fe("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Av(t)),this.Bi(e,u,t,dv(r,-1)))})}Fi(e,t){let i=new In(Mv(e));return t.forEach((r,a)=>{Iu(e,a)&&(i=i.add(a))}),i}$i(e,t,i,r){if(null===e.limit)return!1;if(i.size!==t.size)return!0;const a="F"===e.limitType?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(r)>0)}Mi(e,t){return _g()<=tu.in.DEBUG&&Fe("QueryEngine","Using full collection scan to execute query:",Av(t)),this.Ni.getDocumentsMatchingQuery(e,t,$r.min())}Bi(e,t,i,r){return this.Ni.getDocumentsMatchingQuery(e,i,r).next(a=>(t.forEach(u=>{a=a.insert(u.key,u)}),a))}}class lS{constructor(e,t,i,r){this.persistence=e,this.Li=t,this.yt=r,this.qi=new Wn(zt),this.Ui=new Qa(a=>Eu(a),Xf),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(i)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new rS(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.qi))}}function gD(n,e,t,i){return new lS(n,e,t,i)}function cS(n,e){return _D.apply(this,arguments)}function _D(){return _D=(0,ye.Z)(function*(n,e){const t=We(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(a=>(r=a,t.Qi(e),t.mutationQueue.getAllMutationBatches(i))).next(a=>{const u=[],f=[];let _=Zt();for(const w of r){u.push(w.batchId);for(const I of w.mutations)_=_.add(I.key)}for(const w of a){f.push(w.batchId);for(const I of w.mutations)_=_.add(I.key)}return t.localDocuments.getDocuments(i,_).next(w=>({ji:w,removedBatchIds:u,addedBatchIds:f}))})})}),_D.apply(this,arguments)}function yD(n,e){const t=We(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),a=t.Gi.newChangeBuffer({trackRemovals:!0});return function(u,f,_,w){const I=_.batch,x=I.keys();let L=se.resolve();return x.forEach(j=>{L=L.next(()=>w.getEntry(f,j)).next(z=>{const J=_.docVersions.get(j);mt(null!==J),z.version.compareTo(J)<0&&(I.applyToRemoteDocument(z,_),z.isValidDocument()&&(z.setReadTime(_.commitVersion),w.addEntry(z)))})}),L.next(()=>u.mutationQueue.removeMutationBatch(f,I))}(t,i,e,a).next(()=>a.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(u){let f=Zt();for(let _=0;_<u.mutationResults.length;++_)u.mutationResults[_].transformResults.length>0&&(f=f.add(u.batch.mutations[_].key));return f}(e))).next(()=>t.localDocuments.getDocuments(i,r))})}function vD(n){const e=We(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function uS(n,e){const t=We(n),i=e.snapshotVersion;let r=t.qi;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const u=t.Gi.newChangeBuffer({trackRemovals:!0});r=t.qi;const f=[];e.targetChanges.forEach((I,x)=>{const L=r.get(x);if(!L)return;f.push(t.Cs.removeMatchingKeys(a,I.removedDocuments,x).next(()=>t.Cs.addMatchingKeys(a,I.addedDocuments,x)));let j=L.withSequenceNumber(a.currentSequenceNumber);var z,J,be;e.targetMismatches.has(x)?j=j.withResumeToken(Oi.EMPTY_BYTE_STRING,It.min()).withLastLimboFreeSnapshotVersion(It.min()):I.resumeToken.approximateByteSize()>0&&(j=j.withResumeToken(I.resumeToken,i)),r=r.insert(x,j),J=j,be=I,(0===(z=L).resumeToken.approximateByteSize()||J.snapshotVersion.toMicroseconds()-z.snapshotVersion.toMicroseconds()>=3e8||be.addedDocuments.size+be.modifiedDocuments.size+be.removedDocuments.size>0)&&f.push(t.Cs.updateTargetData(a,j))});let _=Tr(),w=Zt();if(e.documentUpdates.forEach(I=>{e.resolvedLimboDocuments.has(I)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(a,I))}),f.push(bD(a,u,e.documentUpdates).next(I=>{_=I.Wi,w=I.zi})),!i.isEqual(It.min())){const I=t.Cs.getLastRemoteSnapshotVersion(a).next(x=>t.Cs.setTargetsMetadata(a,a.currentSequenceNumber,i));f.push(I)}return se.waitFor(f).next(()=>u.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,_,w)).next(()=>_)}).then(a=>(t.qi=r,a))}function bD(n,e,t){let i=Zt(),r=Zt();return t.forEach(a=>i=i.add(a)),e.getEntries(n,i).next(a=>{let u=Tr();return t.forEach((f,_)=>{const w=a.get(f);_.isFoundDocument()!==w.isFoundDocument()&&(r=r.add(f)),_.isNoDocument()&&_.version.isEqual(It.min())?(e.removeEntry(f,_.readTime),u=u.insert(f,_)):!w.isValidDocument()||_.version.compareTo(w.version)>0||0===_.version.compareTo(w.version)&&w.hasPendingWrites?(e.addEntry(_),u=u.insert(f,_)):Fe("LocalStore","Ignoring outdated watch update for ",f,". Current version:",w.version," Watch version:",_.version)}),{Wi:u,zi:r}})}function Nx(n,e){const t=We(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function dp(n,e){const t=We(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.Cs.getTargetData(i,e).next(a=>a?(r=a,se.resolve(r)):t.Cs.allocateTargetId(i).next(u=>(r=new Xa(e,u,0,i.currentSequenceNumber),t.Cs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=t.qi.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.qi=t.qi.insert(i.targetId,i),t.Ui.set(e,i.targetId)),i})}function hp(n,e,t){return wD.apply(this,arguments)}function wD(){return wD=(0,ye.Z)(function*(n,e,t){const i=We(n),r=i.qi.get(e),a=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",a,u=>i.persistence.referenceDelegate.removeTarget(u,r)))}catch(u){if(!Wa(u))throw u;Fe("LocalStore",`Failed to update sequence numbers for target ${e}: ${u}`)}i.qi=i.qi.remove(e),i.Ui.delete(r.target)}),wD.apply(this,arguments)}function yb(n,e,t){const i=We(n);let r=It.min(),a=Zt();return i.persistence.runTransaction("Execute query","readonly",u=>function(f,_,w){const I=We(f),x=I.Ui.get(w);return void 0!==x?se.resolve(I.qi.get(x)):I.Cs.getTargetData(_,w)}(i,u,dr(e)).next(f=>{if(f)return r=f.lastLimboFreeSnapshotVersion,i.Cs.getMatchingKeysForTargetId(u,f.targetId).next(_=>{a=_})}).next(()=>i.Li.getDocumentsMatchingQuery(u,e,t?r:It.min(),t?a:Zt())).next(f=>(DD(i,IE(e),f),{documents:f,Hi:a})))}function ED(n,e){const t=We(n),i=We(t.Cs),r=t.qi.get(e);return r?Promise.resolve(r.target):t.persistence.runTransaction("Get target data","readonly",a=>i.ne(a,e).next(u=>u?u.target:null))}function fp(n,e){const t=We(n),i=t.Ki.get(e)||It.min();return t.persistence.runTransaction("Get new document changes","readonly",r=>t.Gi.getAllFromCollectionGroup(r,e,dv(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(DD(t,e,r),r))}function DD(n,e,t){let i=n.Ki.get(e)||It.min();t.forEach((r,a)=>{a.readTime.compareTo(i)>0&&(i=a.readTime)}),n.Ki.set(e,i)}function i_(){return i_=(0,ye.Z)(function*(n,e,t,i){const r=We(n);let a=Zt(),u=Tr();for(const w of t){const I=e.Ji(w.metadata.name);w.document&&(a=a.add(I));const x=e.Yi(w);x.setReadTime(e.Xi(w.metadata.readTime)),u=u.insert(I,x)}const f=r.Gi.newChangeBuffer({trackRemovals:!0}),_=yield dp(r,(w=i,dr(Yd(cn.fromString(`__bundle__/docs/${w}`)))));var w;return r.persistence.runTransaction("Apply bundle documents","readwrite",w=>bD(w,f,u).next(I=>(f.apply(w),I)).next(I=>r.Cs.removeMatchingKeysForTargetId(w,_.targetId).next(()=>r.Cs.addMatchingKeys(w,a,_.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(w,I.Wi,I.zi)).next(()=>I.Wi)))}),i_.apply(this,arguments)}function Nu(n,e){return r_.apply(this,arguments)}function r_(){return r_=(0,ye.Z)(function*(n,e,t=Zt()){const i=yield dp(n,dr(Gg(e.bundledQuery))),r=We(n);return r.persistence.runTransaction("Save named query","readwrite",a=>{const u=pi(e.readTime);if(i.snapshotVersion.compareTo(u)>=0)return r.Ns.saveNamedQuery(a,e);const f=i.withResumeToken(Oi.EMPTY_BYTE_STRING,u);return r.qi=r.qi.insert(f.targetId,f),r.Cs.updateTargetData(a,f).next(()=>r.Cs.removeMatchingKeysForTargetId(a,i.targetId)).next(()=>r.Cs.addMatchingKeys(a,t,i.targetId)).next(()=>r.Ns.saveNamedQuery(a,e))})}),r_.apply(this,arguments)}function s_(n,e){return`firestore_clients_${n}_${e}`}function o_(n,e,t){let i=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(i+=`_${e.uid}`),i}function vb(n,e){return`firestore_targets_${n}_${e}`}class ph{constructor(e,t,i,r){this.user=e,this.batchId=t,this.state=i,this.error=r}static Zi(e,t,i){const r=JSON.parse(i);let a,u="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return u&&r.error&&(u="string"==typeof r.error.message&&"string"==typeof r.error.code,u&&(a=new Oe(r.error.code,r.error.message))),u?new ph(e,t,r.state,a):(di("SharedClientState",`Failed to parse mutation state for ID '${t}': ${i}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Fu{constructor(e,t,i){this.targetId=e,this.state=t,this.error=i}static Zi(e,t){const i=JSON.parse(t);let r,a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&(a="string"==typeof i.error.message&&"string"==typeof i.error.code,a&&(r=new Oe(i.error.code,i.error.message))),a?new Fu(e,i.state,r):(di("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Lu{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const i=JSON.parse(t);let r="object"==typeof i&&i.activeTargetIds instanceof Array,a=Xl();for(let u=0;r&&u<i.activeTargetIds.length;++u)r=lE(i.activeTargetIds[u]),a=a.add(i.activeTargetIds[u]);return r?new Lu(e,a):(di("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class CD{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new CD(t.clientId,t.onlineState):(di("SharedClientState",`Failed to parse online state: ${e}`),null)}}class ID{constructor(){this.activeTargetIds=Xl()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class TD{constructor(e,t,i,r,a){this.window=e,this.Hs=t,this.persistenceKey=i,this.sr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new Wn(zt),this.started=!1,this.cr=[];const u=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.ar=s_(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new ID),this.lr=new RegExp(`^firestore_clients_${u}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${u}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${u}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(f){return`firestore_bundle_loaded_v2_${f}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,ye.Z)(function*(){const t=yield e.syncEngine.vi();for(const r of t){if(r===e.sr)continue;const a=e.getItem(s_(e.persistenceKey,r));if(a){const u=Lu.Zi(r,a);u&&(e.ur=e.ur.insert(u.clientId,u))}}e.gr();const i=e.storage.getItem(e.wr);if(i){const r=e.yr(i);r&&e.pr(r)}for(const r of e.cr)e.rr(r);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let t=!1;return this.ur.forEach((i,r)=>{r.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,t,i){this.Tr(e,t,i),this.Er(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(vb(this.persistenceKey,e));if(i){const r=Fu.Zi(e,i);r&&(t=r.state)}}return this.Ar.er(e),this.gr(),t}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(vb(this.persistenceKey,e))}updateQueryState(e,t,i){this.Rr(e,t,i)}handleUserChange(e,t,i){t.forEach(r=>{this.Er(r)}),this.currentUser=e,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Fe("SharedClientState","READ",e,t),t}setItem(e,t){Fe("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Fe("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){var t=this;const i=e;if(i.storageArea===this.storage){if(Fe("SharedClientState","EVENT",i.key,i.newValue),i.key===this.ar)return void di("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,ye.Z)(function*(){if(t.started){if(null!==i.key)if(t.lr.test(i.key)){if(null==i.newValue){const r=t.vr(i.key);return t.Vr(r,null)}{const r=t.Sr(i.key,i.newValue);if(r)return t.Vr(r.clientId,r)}}else if(t.dr.test(i.key)){if(null!==i.newValue){const r=t.Dr(i.key,i.newValue);if(r)return t.Cr(r)}}else if(t._r.test(i.key)){if(null!==i.newValue){const r=t.Nr(i.key,i.newValue);if(r)return t.kr(r)}}else if(i.key===t.wr){if(null!==i.newValue){const r=t.yr(i.newValue);if(r)return t.pr(r)}}else if(i.key===t.hr){const r=function(a){let u=Ki.at;if(null!=a)try{const f=JSON.parse(a);mt("number"==typeof f),u=f}catch(f){di("SharedClientState","Failed to read sequence number from WebStorage",f)}return u}(i.newValue);r!==Ki.at&&t.sequenceNumberHandler(r)}else if(i.key===t.mr){const r=t.Or(i.newValue);yield Promise.all(r.map(a=>t.syncEngine.Mr(a)))}}else t.cr.push(i)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,t,i){const r=new ph(this.currentUser,e,t,i),a=o_(this.persistenceKey,this.currentUser,e);this.setItem(a,r.tr())}Er(e){const t=o_(this.persistenceKey,this.currentUser,e);this.removeItem(t)}br(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:e}))}Rr(e,t,i){const r=vb(this.persistenceKey,e),a=new Fu(e,t,i);this.setItem(r,a.tr())}Pr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}vr(e){const t=this.lr.exec(e);return t?t[1]:null}Sr(e,t){const i=this.vr(e);return Lu.Zi(i,t)}Dr(e,t){const i=this.dr.exec(e),r=Number(i[1]);return ph.Zi(new ki(void 0!==i[2]?i[2]:null),r,t)}Nr(e,t){const i=this._r.exec(e),r=Number(i[1]);return Fu.Zi(r,t)}yr(e){return CD.Zi(e)}Or(e){return JSON.parse(e)}Cr(e){var t=this;return(0,ye.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Fr(e.batchId,e.state,e.error);Fe("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,t){const i=t?this.ur.insert(e,t):this.ur.remove(e),r=this.Ir(this.ur),a=this.Ir(i),u=[],f=[];return a.forEach(_=>{r.has(_)||u.push(_)}),r.forEach(_=>{a.has(_)||f.push(_)}),this.syncEngine.Br(u,f).then(()=>{this.ur=i})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let t=Xl();return e.forEach((i,r)=>{t=t.unionWith(r.activeTargetIds)}),t}}class hS{constructor(){this.Lr=new ID,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.Lr.er(e),this.qr[e]||"not-current"}updateQueryState(e,t,i){this.qr[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new ID,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class SD{Ur(e){}shutdown(){}}class AD{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}Ur(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){Fe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){Fe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const fS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class pS{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class mS extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,t,i,r,a){const u=this.ho(e,t);Fe("RestConnection","Sending: ",u,i);const f={};return this.lo(f,r,a),this.fo(e,u,f,i).then(_=>(Fe("RestConnection","Received: ",_),_),_=>{throw ea("RestConnection",`${e} failed with error: `,_,"url: ",u,"request:",i),_})}_o(e,t,i,r,a,u){return this.ao(e,t,i,r,a)}lo(e,t,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+Jo,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((r,a)=>e[a]=r),i&&i.headers.forEach((r,a)=>e[a]=r)}ho(e,t){return`${this.oo}/v1/${t}:${fS[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,i,r){return new Promise((a,u)=>{const f=new iT;f.setWithCredentials(!0),f.listenOnce(po.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case ls.NO_ERROR:const w=f.getResponseJson();Fe("Connection","XHR received:",JSON.stringify(w)),a(w);break;case ls.TIMEOUT:Fe("Connection",'RPC "'+e+'" timed out'),u(new Oe(le.DEADLINE_EXCEEDED,"Request time out"));break;case ls.HTTP_ERROR:const I=f.getStatus();if(Fe("Connection",'RPC "'+e+'" failed with status:',I,"response text:",f.getResponseText()),I>0){let x=f.getResponseJson();Array.isArray(x)&&(x=x[0]);const L=x?.error;if(L&&L.status&&L.message){const j=function(z){const J=z.toLowerCase().replace(/_/g,"-");return Object.values(le).indexOf(J)>=0?J:le.UNKNOWN}(L.status);u(new Oe(j,L.message))}else u(new Oe(le.UNKNOWN,"Server responded with status "+f.getStatus()))}else u(new Oe(le.UNAVAILABLE,"Connection failed."));break;default:at()}}finally{Fe("Connection",'RPC "'+e+'" completed.')}});const _=JSON.stringify(r);f.send(t,"POST",_,i,15)})}wo(e,t,i){const r=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=tT(),u=Xo(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(f.xmlHttpFactory=new nT({})),this.lo(f.initMessageHeaders,t,i),f.encodeInitMessageHeaders=!0;const _=r.join("");Fe("Connection","Creating WebChannel: "+_,f);const w=a.createWebChannel(_,f);let I=!1,x=!1;const L=new pS({Hr:z=>{x?Fe("Connection","Not sending because WebChannel is closed:",z):(I||(Fe("Connection","Opening WebChannel transport."),w.open(),I=!0),Fe("Connection","WebChannel sending:",z),w.send(z))},Jr:()=>w.close()}),j=(z,J,be)=>{z.listen(J,et=>{try{be(et)}catch(yt){setTimeout(()=>{throw yt},0)}})};return j(w,gg.EventType.OPEN,()=>{x||Fe("Connection","WebChannel transport opened.")}),j(w,gg.EventType.CLOSE,()=>{x||(x=!0,Fe("Connection","WebChannel transport closed"),L.io())}),j(w,gg.EventType.ERROR,z=>{x||(x=!0,ea("Connection","WebChannel transport errored:",z),L.io(new Oe(le.UNAVAILABLE,"The operation could not be completed")))}),j(w,gg.EventType.MESSAGE,z=>{var J;if(!x){const be=z.data[0];mt(!!be);const et=be,yt=et.error||(null===(J=et[0])||void 0===J?void 0:J.error);if(yt){Fe("Connection","WebChannel received error:",yt);const gt=yt.status;let dt=function(Ut){const pn=Pi[Ut];if(void 0!==pn)return th(pn)}(gt),Pt=yt.message;void 0===dt&&(dt=le.INTERNAL,Pt="Unknown error status: "+gt+" with message "+yt.message),x=!0,L.io(new Oe(dt,Pt)),w.close()}else Fe("Connection","WebChannel received:",be),L.ro(be)}}),j(u,Y0.STAT_EVENT,z=>{z.stat===ov.PROXY?Fe("Connection","Detected buffering proxy"):z.stat===ov.NOPROXY&&Fe("Connection","Detected no buffering proxy")}),setTimeout(()=>{L.so()},0),L}}function bb(){return typeof window<"u"?window:null}function pp(){return typeof document<"u"?document:null}function mh(n){return new NT(n,!0)}class wb{constructor(e,t,i=1e3,r=1.5,a=6e4){this.Hs=e,this.timerId=t,this.mo=i,this.yo=r,this.po=a,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),i=Math.max(0,Date.now()-this.Eo),r=Math.max(0,t-i);r>0&&Fe("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,r,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class MD{constructor(e,t,i,r,a,u,f,_){this.Hs=e,this.vo=i,this.Vo=r,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=f,this.listener=_,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new wb(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return(0,ye.Z)(function*(){e.No()&&(yield e.close(0))})()}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return(0,ye.Z)(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}qo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,t){var i=this;return(0,ye.Z)(function*(){i.Lo(),i.qo(),i.xo.cancel(),i.So++,4!==e?i.xo.reset():t&&t.code===le.RESOURCE_EXHAUSTED?(di(t.toString()),di("Using maximum backoff delay to prevent overloading the backend."),i.xo.Ao()):t&&t.code===le.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Uo(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.Zr(t)})()}Uo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.So===t&&this.Go(i,r)},i=>{e(()=>{const r=new Oe(le.UNKNOWN,"Fetching auth token failed: "+i.message);return this.Qo(r)})})}Go(e,t){const i=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{i(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(r=>{i(()=>this.Qo(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Oo(){var e=this;this.state=5,this.xo.Ro((0,ye.Z)(function*(){e.state=0,e.start()}))}Qo(e){return Fe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(Fe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class xD extends MD{constructor(e,t,i,r,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,u),this.yt=a}jo(e,t){return this.connection.wo("Listen",e,t)}onMessage(e){this.xo.reset();const t=function LT(n,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(_=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===_?1:"REMOVE"===_?2:"CURRENT"===_?3:"RESET"===_?4:at(),r=e.targetChange.targetIds||[],a=function(_,w){return _.wt?(mt(void 0===w||"string"==typeof w),Oi.fromBase64String(w||"")):(mt(void 0===w||w instanceof Uint8Array),Oi.fromUint8Array(w||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,f=u&&function(_){const w=void 0===_.code?le.UNKNOWN:th(_.code);return new Oe(w,_.message||"")}(u);t=new kg(i,r,a,f||null)}else if("documentChange"in e){const i=e.documentChange,r=Bs(n,i.document.name),a=pi(i.document.updateTime),u=i.document.createTime?pi(i.document.createTime):It.min(),f=new Ui({mapValue:{fields:i.document.fields}}),_=On.newFoundDocument(r,a,u,f);t=new cs(i.targetIds||[],i.removedTargetIds||[],_.key,_)}else if("documentDelete"in e){const i=e.documentDelete,r=Bs(n,i.document),a=i.readTime?pi(i.readTime):It.min(),u=On.newNoDocument(r,a);t=new cs([],i.removedTargetIds||[],u.key,u)}else if("documentRemove"in e){const i=e.documentRemove,r=Bs(n,i.document);t=new cs([],i.removedTargetIds||[],r,null)}else{if(!("filter"in e))return at();{const i=e.filter,a=new AT(i.count||0);t=new PE(i.targetId,a)}}var _;return t}(this.yt,e),i=function(r){if(!("targetChange"in r))return It.min();const a=r.targetChange;return a.targetIds&&a.targetIds.length?It.min():a.readTime?pi(a.readTime):It.min()}(e);return this.listener.Wo(t,i)}zo(e){const t={};t.database=xu(this.yt),t.addTarget=function(r,a){let u;const f=a.target;return u=Ig(f)?{documents:$v(r,f)}:{query:Fg(r,f)},u.targetId=a.targetId,a.resumeToken.approximateByteSize()>0?u.resumeToken=Hv(r,a.resumeToken):a.snapshotVersion.compareTo(It.min())>0&&(u.readTime=Mu(r,a.snapshotVersion.toTimestamp())),u}(this.yt,e);const i=function VT(n,e){const t=function(i,r){switch(r){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return at()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.Bo(t)}Ho(e){const t={};t.database=xu(this.yt),t.removeTarget=e,this.Bo(t)}}class Eb extends MD{constructor(e,t,i,r,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,u),this.yt=a,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}Uo(){this.Jo&&this.Xo([])}jo(e,t){return this.connection.wo("Write",e,t)}onMessage(e){if(mt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function HE(n,e){return n&&n.length>0?(mt(void 0!==e),n.map(t=>function(i,r){let a=pi(i.updateTime?i.updateTime:r);return a.isEqual(It.min())&&(a=pi(r)),new TT(a,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=pi(e.commitTime);return this.listener.Zo(i,t)}return mt(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=xu(this.yt),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>sh(this.yt,i))};this.Bo(t)}}class Fx extends class{}{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.yt=r,this.nu=!1}su(){if(this.nu)throw new Oe(le.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,t,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,a])=>this.connection.ao(e,t,i,r,a)).catch(r=>{throw"FirebaseError"===r.name?(r.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Oe(le.UNKNOWN,r.toString())})}_o(e,t,i,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.connection._o(e,t,i,a,u,r)).catch(a=>{throw"FirebaseError"===a.name?(a.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Oe(le.UNKNOWN,a.toString())})}terminate(){this.nu=!0}}class gS{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(di(t),this.ou=!1):Fe("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class _S{constructor(e,t,i,r,a){var u=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=a,this.mu.Ur(f=>{i.enqueueAndForget((0,ye.Z)(function*(){var _;el(u)&&(Fe("RemoteStore","Restarting streams for network reachability change."),yield(_=(0,ye.Z)(function*(w){const I=We(w);I._u.add(4),yield gh(I),I.gu.set("Unknown"),I._u.delete(4),yield a_(I)}),function(w){return _.apply(this,arguments)})(u))}))}),this.gu=new gS(i,r)}}function a_(n){return RD.apply(this,arguments)}function RD(){return RD=(0,ye.Z)(function*(n){if(el(n))for(const e of n.wu)yield e(!0)}),RD.apply(this,arguments)}function gh(n){return Db.apply(this,arguments)}function Db(){return Db=(0,ye.Z)(function*(n){for(const e of n.wu)yield e(!1)}),Db.apply(this,arguments)}function l_(n,e){const t=We(n);t.du.has(e.targetId)||(t.du.set(e.targetId,e),ND(t)?PD(t):Tn(t).ko()&&OD(t,e))}function c_(n,e){const t=We(n),i=Tn(t);t.du.delete(e),i.ko()&&yS(t,e),0===t.du.size&&(i.ko()?i.Fo():el(t)&&t.gu.set("Unknown"))}function OD(n,e){n.yu.Ot(e.targetId),Tn(n).zo(e)}function yS(n,e){n.yu.Ot(e),Tn(n).Ho(e)}function PD(n){n.yu=new OT({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ne:e=>n.du.get(e)||null}),Tn(n).start(),n.gu.uu()}function ND(n){return el(n)&&!Tn(n).No()&&n.du.size>0}function el(n){return 0===We(n)._u.size}function vS(n){n.yu=void 0}function Lx(n){return FD.apply(this,arguments)}function FD(){return FD=(0,ye.Z)(function*(n){n.du.forEach((e,t)=>{OD(n,e)})}),FD.apply(this,arguments)}function Vx(n,e){return LD.apply(this,arguments)}function LD(){return LD=(0,ye.Z)(function*(n,e){vS(n),ND(n)?(n.gu.hu(e),PD(n)):n.gu.set("Unknown")}),LD.apply(this,arguments)}function Bx(n,e,t){return s.apply(this,arguments)}function s(){return s=(0,ye.Z)(function*(n,e,t){if(n.gu.set("Online"),e instanceof kg&&2===e.state&&e.cause)try{yield(i=(0,ye.Z)(function*(r,a){const u=a.cause;for(const f of a.targetIds)r.du.has(f)&&(yield r.remoteSyncer.rejectListen(f,u),r.du.delete(f),r.yu.removeTarget(f))}),function(r,a){return i.apply(this,arguments)})(n,e)}catch(i){Fe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield o(n,i)}else if(e instanceof cs?n.yu.Kt(e):e instanceof PE?n.yu.Jt(e):n.yu.jt(e),!t.isEqual(It.min()))try{const i=yield vD(n.localStore);t.compareTo(i)>=0&&(yield function(r,a){const u=r.yu.Zt(a);return u.targetChanges.forEach((f,_)=>{if(f.resumeToken.approximateByteSize()>0){const w=r.du.get(_);w&&r.du.set(_,w.withResumeToken(f.resumeToken,a))}}),u.targetMismatches.forEach(f=>{const _=r.du.get(f);if(!_)return;r.du.set(f,_.withResumeToken(Oi.EMPTY_BYTE_STRING,_.snapshotVersion)),yS(r,f);const w=new Xa(_.target,f,1,_.sequenceNumber);OD(r,w)}),r.remoteSyncer.applyRemoteEvent(u)}(n,t))}catch(i){Fe("RemoteStore","Failed to raise snapshot:",i),yield o(n,i)}var i}),s.apply(this,arguments)}function o(n,e,t){return l.apply(this,arguments)}function l(){return l=(0,ye.Z)(function*(n,e,t){if(!Wa(e))throw e;n._u.add(1),yield gh(n),n.gu.set("Offline"),t||(t=()=>vD(n.localStore)),n.asyncQueue.enqueueRetryable((0,ye.Z)(function*(){Fe("RemoteStore","Retrying IndexedDB access"),yield t(),n._u.delete(1),yield a_(n)}))}),l.apply(this,arguments)}function c(n,e){return e().catch(t=>o(n,t,e))}function h(n){return m.apply(this,arguments)}function m(){return m=(0,ye.Z)(function*(n){const e=We(n),t=Zr(e);let i=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;v(e);)try{const r=yield Nx(e.localStore,i);if(null===r){0===e.fu.length&&t.Fo();break}i=r.batchId,E(e,r)}catch(r){yield o(e,r)}D(e)&&S(e)}),m.apply(this,arguments)}function v(n){return el(n)&&n.fu.length<10}function E(n,e){n.fu.push(e);const t=Zr(n);t.ko()&&t.Yo&&t.Xo(e.mutations)}function D(n){return el(n)&&!Zr(n).No()&&n.fu.length>0}function S(n){Zr(n).start()}function R(n){return F.apply(this,arguments)}function F(){return F=(0,ye.Z)(function*(n){Zr(n).eu()}),F.apply(this,arguments)}function q(n){return ee.apply(this,arguments)}function ee(){return ee=(0,ye.Z)(function*(n){const e=Zr(n);for(const t of n.fu)e.Xo(t.mutations)}),ee.apply(this,arguments)}function we(n,e,t){return Le.apply(this,arguments)}function Le(){return Le=(0,ye.Z)(function*(n,e,t){const i=n.fu.shift(),r=Qv.from(i,e,t);yield c(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield h(n)}),Le.apply(this,arguments)}function Ke(n,e){return ut.apply(this,arguments)}function ut(){return ut=(0,ye.Z)(function*(n,e){var t;e&&Zr(n).Yo&&(yield(t=(0,ye.Z)(function*(i,r){if(RE(a=r.code)&&a!==le.ABORTED){const u=i.fu.shift();Zr(i).Mo(),yield c(i,()=>i.remoteSyncer.rejectFailedWrite(u.batchId,r)),yield h(i)}var a}),function(i,r){return t.apply(this,arguments)})(n,e)),D(n)&&S(n)}),ut.apply(this,arguments)}function St(n,e){return xe.apply(this,arguments)}function xe(){return xe=(0,ye.Z)(function*(n,e){const t=We(n);t.asyncQueue.verifyOperationInProgress(),Fe("RemoteStore","RemoteStore received new credentials");const i=el(t);t._u.add(3),yield gh(t),i&&t.gu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),yield a_(t)}),xe.apply(this,arguments)}function kt(n,e){return fn.apply(this,arguments)}function fn(){return fn=(0,ye.Z)(function*(n,e){const t=We(n);e?(t._u.delete(2),yield a_(t)):e||(t._u.add(2),yield gh(t),t.gu.set("Unknown"))}),fn.apply(this,arguments)}function Tn(n){return n.pu||(n.pu=function(e,t,i){const r=We(e);return r.su(),new xD(t,r.connection,r.authCredentials,r.appCheckCredentials,r.yt,i)}(n.datastore,n.asyncQueue,{Yr:Lx.bind(null,n),Zr:Vx.bind(null,n),Wo:Bx.bind(null,n)}),n.wu.push(function(){var e=(0,ye.Z)(function*(t){t?(n.pu.Mo(),ND(n)?PD(n):n.gu.set("Unknown")):(yield n.pu.stop(),vS(n))});return function(t){return e.apply(this,arguments)}}())),n.pu}function Zr(n){return n.Iu||(n.Iu=function(e,t,i){const r=We(e);return r.su(),new Eb(t,r.connection,r.authCredentials,r.appCheckCredentials,r.yt,i)}(n.datastore,n.asyncQueue,{Yr:R.bind(null,n),Zr:Ke.bind(null,n),tu:q.bind(null,n),Zo:we.bind(null,n)}),n.wu.push(function(){var e=(0,ye.Z)(function*(t){t?(n.Iu.Mo(),yield h(n)):(yield n.Iu.stop(),n.fu.length>0&&(Fe("RemoteStore",`Stopping write stream with ${n.fu.length} pending writes`),n.fu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Iu}class gp{constructor(e,t,i,r,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=a,this.deferred=new Ri,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}static createAndSchedule(e,t,i,r,a){const u=Date.now()+i,f=new gp(e,t,u,r,a);return f.start(i),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Oe(le.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ic(n,e){if(di("AsyncQueue",`${e}: ${n}`),Wa(n))return new Oe(le.UNAVAILABLE,`${e}: ${n}`);throw n}class rc{constructor(e){this.comparator=e?(t,i)=>e(t,i)||Ze.comparator(t.key,i.key):(t,i)=>Ze.comparator(t.key,i.key),this.keyedMap=nh(),this.sortedSet=new Wn(this.comparator)}static emptySet(e){return new rc(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof rc)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,a=i.getNext().key;if(!r.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new rc;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class u_{constructor(){this.Tu=new Wn(Ze.comparator)}track(e){const t=e.doc.key,i=this.Tu.get(t);i?0!==e.type&&3===i.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==i.type?this.Tu=this.Tu.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.Tu=this.Tu.remove(t):1===e.type&&2===i.type?this.Tu=this.Tu.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):at():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,i)=>{e.push(i)}),e}}class sc{constructor(e,t,i,r,a,u,f,_,w){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=f,this.excludesMetadataChanges=_,this.hasCachedResults=w}static fromInitialDocuments(e,t,i,r,a){const u=[];return t.forEach(f=>{u.push({type:0,doc:f})}),new sc(e,t,rc.emptySet(t),u,i,r,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Cu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}class Cb{constructor(){this.Au=void 0,this.listeners=[]}}class Ib{constructor(){this.queries=new Qa(e=>CE(e),Cu),this.onlineState="Unknown",this.Ru=new Set}}function _p(n,e){return yp.apply(this,arguments)}function yp(){return yp=(0,ye.Z)(function*(n,e){const t=We(n),i=e.query;let r=!1,a=t.queries.get(i);if(a||(r=!0,a=new Cb),r)try{a.Au=yield t.onListen(i)}catch(u){const f=ic(u,`Initialization of query '${Av(e.query)}' failed`);return void e.onError(f)}t.queries.set(i,a),a.listeners.push(e),e.bu(t.onlineState),a.Au&&e.Pu(a.Au)&&ES(t)}),yp.apply(this,arguments)}function bS(n,e){return wS.apply(this,arguments)}function wS(){return wS=(0,ye.Z)(function*(n,e){const t=We(n),i=e.query;let r=!1;const a=t.queries.get(i);if(a){const u=a.listeners.indexOf(e);u>=0&&(a.listeners.splice(u,1),r=0===a.listeners.length)}if(r)return t.queries.delete(i),t.onUnlisten(i)}),wS.apply(this,arguments)}function BN(n,e){const t=We(n);let i=!1;for(const r of e){const u=t.queries.get(r.query);if(u){for(const f of u.listeners)f.Pu(r)&&(i=!0);u.Au=r}}i&&ES(t)}function HN(n,e,t){const i=We(n),r=i.queries.get(e);if(r)for(const a of r.listeners)a.onError(t);i.queries.delete(e)}function ES(n){n.Ru.forEach(e=>{e.next()})}class DS{constructor(e,t,i){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=i||{}}Pu(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)3!==r.type&&i.push(r);e=new sc(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){return!e.fromCache||(!this.options.Nu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=sc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}class UN{constructor(e,t){this.ku=e,this.byteLength=t}Ou(){return"metadata"in this.ku}}class Hx{constructor(e){this.yt=e}Ji(e){return Bs(this.yt,e)}Yi(e){return e.metadata.exists?BE(this.yt,e.document,!1):On.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return pi(e)}}class jN{constructor(e,t,i){this.Mu=e,this.localStore=t,this.yt=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Ux(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.ku.namedQuery)this.queries.push(e.ku.namedQuery);else if(e.ku.documentMetadata){this.documents.push({metadata:e.ku.documentMetadata}),e.ku.documentMetadata.exists||++t;const i=cn.fromString(e.ku.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else e.ku.document&&(this.documents[this.documents.length-1].document=e.ku.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}$u(e){const t=new Map,i=new Hx(this.yt);for(const r of e)if(r.metadata.queries){const a=i.Ji(r.metadata.name);for(const u of r.metadata.queries){const f=(t.get(u)||Zt()).add(a);t.set(u,f)}}return t}complete(){var e=this;return(0,ye.Z)(function*(){const t=yield function dS(n,e,t,i){return i_.apply(this,arguments)}(e.localStore,new Hx(e.yt),e.documents,e.Mu.id),i=e.$u(e.documents);for(const r of e.queries)yield Nu(e.localStore,r,i.get(r.name));return e.progress.taskState="Success",{progress:e.progress,Bu:e.collectionGroups,Lu:t}})()}}function Ux(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class jx{constructor(e){this.key=e}}class Gx{constructor(e){this.key=e}}class $x{constructor(e,t){this.query=e,this.qu=t,this.Uu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=Zt(),this.mutatedKeys=Zt(),this.Gu=Mv(e),this.Qu=new rc(this.Gu)}get ju(){return this.qu}Wu(e,t){const i=t?t.zu:new u_,r=t?t.Qu:this.Qu;let a=t?t.mutatedKeys:this.mutatedKeys,u=r,f=!1;const _="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,w="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((I,x)=>{const L=r.get(I),j=Iu(this.query,x)?x:null,z=!!L&&this.mutatedKeys.has(L.key),J=!!j&&(j.hasLocalMutations||this.mutatedKeys.has(j.key)&&j.hasCommittedMutations);let be=!1;L&&j?L.data.isEqual(j.data)?z!==J&&(i.track({type:3,doc:j}),be=!0):this.Hu(L,j)||(i.track({type:2,doc:j}),be=!0,(_&&this.Gu(j,_)>0||w&&this.Gu(j,w)<0)&&(f=!0)):!L&&j?(i.track({type:0,doc:j}),be=!0):L&&!j&&(i.track({type:1,doc:L}),be=!0,(_||w)&&(f=!0)),be&&(j?(u=u.add(j),a=J?a.add(I):a.delete(I)):(u=u.delete(I),a=a.delete(I)))}),null!==this.query.limit)for(;u.size>this.query.limit;){const I="F"===this.query.limitType?u.last():u.first();u=u.delete(I.key),a=a.delete(I.key),i.track({type:1,doc:I})}return{Qu:u,zu:i,$i:f,mutatedKeys:a}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i){const r=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const a=e.zu.Eu();a.sort((w,I)=>function(x,L){const j=z=>{switch(z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return at()}};return j(x)-j(L)}(w.type,I.type)||this.Gu(w.doc,I.doc)),this.Ju(i);const u=t?this.Yu():[],f=0===this.Ku.size&&this.current?1:0,_=f!==this.Uu;return this.Uu=f,0!==a.length||_?{snapshot:new sc(this.query,e.Qu,r,a,e.mutatedKeys,0===f,_,!1,!!i&&i.resumeToken.approximateByteSize()>0),Xu:u}:{Xu:u}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new u_,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.qu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.qu=this.qu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.qu=this.qu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=Zt(),this.Qu.forEach(i=>{this.Zu(i.key)&&(this.Ku=this.Ku.add(i.key))});const t=[];return e.forEach(i=>{this.Ku.has(i)||t.push(new Gx(i))}),this.Ku.forEach(i=>{e.has(i)||t.push(new jx(i))}),t}tc(e){this.qu=e.Hi,this.Ku=Zt();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ec(){return sc.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.Uu,this.hasCachedResults)}}class GN{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class $N{constructor(e){this.key=e,this.nc=!1}}class zN{constructor(e,t,i,r,a,u){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.sc={},this.ic=new Qa(f=>CE(f),Cu),this.rc=new Map,this.oc=new Set,this.uc=new Wn(Ze.comparator),this.cc=new Map,this.ac=new Jg,this.hc={},this.lc=new Map,this.fc=Pu.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function qN(n,e){return CS.apply(this,arguments)}function CS(){return CS=(0,ye.Z)(function*(n,e){const t=WS(n);let i,r;const a=t.ic.get(e);if(a)i=a.targetId,t.sharedClientState.addLocalQueryTarget(i),r=a.view.ec();else{const u=yield dp(t.localStore,dr(e));t.isPrimaryClient&&l_(t.remoteStore,u);const f=t.sharedClientState.addLocalQueryTarget(u.targetId);i=u.targetId,r=yield IS(t,e,i,"current"===f,u.resumeToken)}return r}),CS.apply(this,arguments)}function IS(n,e,t,i,r){return TS.apply(this,arguments)}function TS(){return TS=(0,ye.Z)(function*(n,e,t,i,r){n._c=(x,L,j)=>{return(z=(0,ye.Z)(function*(J,be,et,yt){let gt=be.view.Wu(et);gt.$i&&(gt=yield yb(J.localStore,be.query,!1).then(({documents:Ut})=>be.view.Wu(Ut,gt)));const dt=yt&&yt.targetChanges.get(be.targetId),Pt=be.view.applyChanges(gt,J.isPrimaryClient,dt);return FS(J,be.targetId,Pt.Xu),Pt.snapshot}),function(J,be,et,yt){return z.apply(this,arguments)})(n,x,L,j);var z};const a=yield yb(n.localStore,e,!0),u=new $x(e,a.Hi),f=u.Wu(a.documents),_=Au.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==n.onlineState,r),w=u.applyChanges(f,n.isPrimaryClient,_);FS(n,t,w.Xu);const I=new GN(e,t,u);return n.ic.set(e,I),n.rc.has(t)?n.rc.get(t).push(e):n.rc.set(t,[e]),w.snapshot}),TS.apply(this,arguments)}function WN(n,e){return SS.apply(this,arguments)}function SS(){return SS=(0,ye.Z)(function*(n,e){const t=We(n),i=t.ic.get(e),r=t.rc.get(i.targetId);if(r.length>1)return t.rc.set(i.targetId,r.filter(a=>!Cu(a,e))),void t.ic.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(i.targetId),t.sharedClientState.isActiveQueryTarget(i.targetId)||(yield hp(t.localStore,i.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(i.targetId),c_(t.remoteStore,i.targetId),d_(t,i.targetId)}).catch(zr))):(d_(t,i.targetId),yield hp(t.localStore,i.targetId,!0))}),SS.apply(this,arguments)}function AS(){return AS=(0,ye.Z)(function*(n,e,t){const i=KS(n);try{const r=yield function(a,u){const f=We(a),_=qn.now(),w=u.reduce((L,j)=>L.add(j.key),Zt());let I,x;return f.persistence.runTransaction("Locally write mutations","readwrite",L=>{let j=Tr(),z=Zt();return f.Gi.getEntries(L,w).next(J=>{j=J,j.forEach((be,et)=>{et.isValidDocument()||(z=z.add(be))})}).next(()=>f.localDocuments.getOverlayedDocuments(L,j)).next(J=>{I=J;const be=[];for(const et of u){const yt=Tx(et,I.get(et.key).overlayedDocument);null!=yt&&be.push(new Ya(et.key,yt,bE(yt.value.mapValue),Hn.exists(!0)))}return f.mutationQueue.addMutationBatch(L,_,be,u)}).next(J=>{x=J;const be=J.applyToLocalDocumentSet(I,z);return f.documentOverlayCache.saveOverlays(L,J.batchId,be)})}).then(()=>({batchId:x.batchId,changes:Bv(I)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(a,u,f){let _=a.hc[a.currentUser.toKey()];_||(_=new Wn(zt)),_=_.insert(u,f),a.hc[a.currentUser.toKey()]=_}(i,r.batchId,t),yield Vu(i,r.changes),yield h(i.remoteStore)}catch(r){const a=ic(r,"Failed to persist write");t.reject(a)}}),AS.apply(this,arguments)}function zx(n,e){return MS.apply(this,arguments)}function MS(){return MS=(0,ye.Z)(function*(n,e){const t=We(n);try{const i=yield uS(t.localStore,e);e.targetChanges.forEach((r,a)=>{const u=t.cc.get(a);u&&(mt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?u.nc=!0:r.modifiedDocuments.size>0?mt(u.nc):r.removedDocuments.size>0&&(mt(u.nc),u.nc=!1))}),yield Vu(t,i,e)}catch(i){yield zr(i)}}),MS.apply(this,arguments)}function qx(n,e,t){const i=We(n);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const r=[];i.ic.forEach((a,u)=>{const f=u.view.bu(e);f.snapshot&&r.push(f.snapshot)}),function(a,u){const f=We(a);f.onlineState=u;let _=!1;f.queries.forEach((w,I)=>{for(const x of I.listeners)x.bu(u)&&(_=!0)}),_&&ES(f)}(i.eventManager,e),r.length&&i.sc.Wo(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function ZN(n,e,t){return xS.apply(this,arguments)}function xS(){return xS=(0,ye.Z)(function*(n,e,t){const i=We(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i.cc.get(e),a=r&&r.key;if(a){let u=new Wn(Ze.comparator);u=u.insert(a,On.newNoDocument(a,It.min()));const f=Zt().add(a),_=new rp(It.min(),new Map,new In(zt),u,f);yield zx(i,_),i.uc=i.uc.remove(a),i.cc.delete(e),LS(i)}else yield hp(i.localStore,e,!1).then(()=>d_(i,e,t)).catch(zr)}),xS.apply(this,arguments)}function YN(n,e){return kS.apply(this,arguments)}function kS(){return kS=(0,ye.Z)(function*(n,e){const t=We(n),i=e.batch.batchId;try{const r=yield yD(t.localStore,e);NS(t,i,null),PS(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield Vu(t,r)}catch(r){yield zr(r)}}),kS.apply(this,arguments)}function QN(n,e,t){return RS.apply(this,arguments)}function RS(){return RS=(0,ye.Z)(function*(n,e,t){const i=We(n);try{const r=yield function(a,u){const f=We(a);return f.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let w;return f.mutationQueue.lookupMutationBatch(_,u).next(I=>(mt(null!==I),w=I.keys(),f.mutationQueue.removeMutationBatch(_,I))).next(()=>f.mutationQueue.performConsistencyCheck(_)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(_,w,u)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,w)).next(()=>f.localDocuments.getDocuments(_,w))})}(i.localStore,e);NS(i,e,t),PS(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield Vu(i,r)}catch(r){yield zr(r)}}),RS.apply(this,arguments)}function OS(){return OS=(0,ye.Z)(function*(n,e){const t=We(n);el(t.remoteStore)||Fe("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(a){const u=We(a);return u.persistence.runTransaction("Get highest unacknowledged batch id","readonly",f=>u.mutationQueue.getHighestUnacknowledgedBatchId(f))}(t.localStore);if(-1===i)return void e.resolve();const r=t.lc.get(i)||[];r.push(e),t.lc.set(i,r)}catch(i){const r=ic(i,"Initialization of waitForPendingWrites() operation failed");e.reject(r)}}),OS.apply(this,arguments)}function PS(n,e){(n.lc.get(e)||[]).forEach(t=>{t.resolve()}),n.lc.delete(e)}function NS(n,e,t){const i=We(n);let r=i.hc[i.currentUser.toKey()];if(r){const a=r.get(e);a&&(t?a.reject(t):a.resolve(),r=r.remove(e)),i.hc[i.currentUser.toKey()]=r}}function d_(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.rc.get(e))n.ic.delete(i),t&&n.sc.wc(i,t);n.rc.delete(e),n.isPrimaryClient&&n.ac.ls(e).forEach(i=>{n.ac.containsKey(i)||Wx(n,i)})}function Wx(n,e){n.oc.delete(e.path.canonicalString());const t=n.uc.get(e);null!==t&&(c_(n.remoteStore,t),n.uc=n.uc.remove(e),n.cc.delete(t),LS(n))}function FS(n,e,t){for(const i of t)i instanceof jx?(n.ac.addReference(i.key,e),JN(n,i)):i instanceof Gx?(Fe("SyncEngine","Document no longer in limbo: "+i.key),n.ac.removeReference(i.key,e),n.ac.containsKey(i.key)||Wx(n,i.key)):at()}function JN(n,e){const t=e.key,i=t.path.canonicalString();n.uc.get(t)||n.oc.has(i)||(Fe("SyncEngine","New document in limbo: "+t),n.oc.add(i),LS(n))}function LS(n){for(;n.oc.size>0&&n.uc.size<n.maxConcurrentLimboResolutions;){const e=n.oc.values().next().value;n.oc.delete(e);const t=new Ze(cn.fromString(e)),i=n.fc.next();n.cc.set(i,new $N(t)),n.uc=n.uc.insert(t,i),l_(n.remoteStore,new Xa(dr(Yd(t.path)),i,2,Ki.at))}}function Vu(n,e,t){return VS.apply(this,arguments)}function VS(){return VS=(0,ye.Z)(function*(n,e,t){const i=We(n),r=[],a=[],u=[];var f;i.ic.isEmpty()||(i.ic.forEach((f,_)=>{u.push(i._c(_,e,t).then(w=>{if((w||t)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(_.targetId,w?.fromCache?"not-current":"current"),w){r.push(w);const I=n_.Ci(_.targetId,w);a.push(I)}}))}),yield Promise.all(u),i.sc.Wo(r),yield(f=(0,ye.Z)(function*(_,w){const I=We(_);try{yield I.persistence.runTransaction("notifyLocalViewChanges","readwrite",x=>se.forEach(w,L=>se.forEach(L.Si,j=>I.persistence.referenceDelegate.addReference(x,L.targetId,j)).next(()=>se.forEach(L.Di,j=>I.persistence.referenceDelegate.removeReference(x,L.targetId,j)))))}catch(x){if(!Wa(x))throw x;Fe("LocalStore","Failed to update sequence numbers: "+x)}for(const x of w){const L=x.targetId;if(!x.fromCache){const j=I.qi.get(L),J=j.withLastLimboFreeSnapshotVersion(j.snapshotVersion);I.qi=I.qi.insert(L,J)}}}),function(_,w){return f.apply(this,arguments)})(i.localStore,a))}),VS.apply(this,arguments)}function eF(n,e){return BS.apply(this,arguments)}function BS(){return BS=(0,ye.Z)(function*(n,e){const t=We(n);if(!t.currentUser.isEqual(e)){Fe("SyncEngine","User change. New user:",e.toKey());const i=yield cS(t.localStore,e);t.currentUser=e,(r=t).lc.forEach(u=>{u.forEach(f=>{f.reject(new Oe(le.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.lc.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield Vu(t,i.ji)}var r}),BS.apply(this,arguments)}function tF(n,e){const t=We(n),i=t.cc.get(e);if(i&&i.nc)return Zt().add(i.key);{let r=Zt();const a=t.rc.get(e);if(!a)return r;for(const u of a){const f=t.ic.get(u);r=r.unionWith(f.view.ju)}return r}}function nF(n,e){return HS.apply(this,arguments)}function HS(){return HS=(0,ye.Z)(function*(n,e){const t=We(n),i=yield yb(t.localStore,e.query,!0),r=e.view.tc(i);return t.isPrimaryClient&&FS(t,e.targetId,r.Xu),r}),HS.apply(this,arguments)}function iF(n,e){return US.apply(this,arguments)}function US(){return US=(0,ye.Z)(function*(n,e){const t=We(n);return fp(t.localStore,e).then(i=>Vu(t,i))}),US.apply(this,arguments)}function rF(n,e,t,i){return jS.apply(this,arguments)}function jS(){return jS=(0,ye.Z)(function*(n,e,t,i){const r=We(n),a=yield function(u,f){const _=We(u),w=We(_.mutationQueue);return _.persistence.runTransaction("Lookup mutation documents","readonly",I=>w.Tn(I,f).next(x=>x?_.localDocuments.getDocuments(I,x):se.resolve(null)))}(r.localStore,e);var f;null!==a?("pending"===t?yield h(r.remoteStore):"acknowledged"===t||"rejected"===t?(NS(r,e,i||null),PS(r,e),f=e,We(We(r.localStore).mutationQueue).An(f)):at(),yield Vu(r,a)):Fe("SyncEngine","Cannot apply mutation batch with id: "+e)}),jS.apply(this,arguments)}function GS(){return GS=(0,ye.Z)(function*(n,e){const t=We(n);if(WS(t),KS(t),!0===e&&!0!==t.dc){const i=t.sharedClientState.getAllActiveQueryTargets(),r=yield Kx(t,i.toArray());t.dc=!0,yield kt(t.remoteStore,!0);for(const a of r)l_(t.remoteStore,a)}else if(!1===e&&!1!==t.dc){const i=[];let r=Promise.resolve();t.rc.forEach((a,u)=>{t.sharedClientState.isLocalQueryTarget(u)?i.push(u):r=r.then(()=>(d_(t,u),hp(t.localStore,u,!0))),c_(t.remoteStore,u)}),yield r,yield Kx(t,i),function(a){const u=We(a);u.cc.forEach((f,_)=>{c_(u.remoteStore,_)}),u.ac.fs(),u.cc=new Map,u.uc=new Wn(Ze.comparator)}(t),t.dc=!1,yield kt(t.remoteStore,!1)}}),GS.apply(this,arguments)}function Kx(n,e,t){return $S.apply(this,arguments)}function $S(){return $S=(0,ye.Z)(function*(n,e,t){const i=We(n),r=[],a=[];for(const u of e){let f;const _=i.rc.get(u);if(_&&0!==_.length){f=yield dp(i.localStore,dr(_[0]));for(const w of _){const I=i.ic.get(w),x=yield nF(i,I);x.snapshot&&a.push(x.snapshot)}}else{const w=yield ED(i.localStore,u);f=yield dp(i.localStore,w),yield IS(i,Zx(w),u,!1,f.resumeToken)}r.push(f)}return i.sc.Wo(a),r}),$S.apply(this,arguments)}function Zx(n){return Tv(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function oF(n){const e=We(n);return We(We(e.localStore).persistence).vi()}function aF(n,e,t,i){return zS.apply(this,arguments)}function zS(){return zS=(0,ye.Z)(function*(n,e,t,i){const r=We(n);if(r.dc)return void Fe("SyncEngine","Ignoring unexpected query state notification.");const a=r.rc.get(e);if(a&&a.length>0)switch(t){case"current":case"not-current":{const u=yield fp(r.localStore,IE(a[0])),f=rp.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,Oi.EMPTY_BYTE_STRING);yield Vu(r,u,f);break}case"rejected":yield hp(r.localStore,e,!0),d_(r,e,i);break;default:at()}}),zS.apply(this,arguments)}function lF(n,e,t){return qS.apply(this,arguments)}function qS(){return qS=(0,ye.Z)(function*(n,e,t){const i=WS(n);if(i.dc){for(const r of e){if(i.rc.has(r)){Fe("SyncEngine","Adding an already active target "+r);continue}const a=yield ED(i.localStore,r),u=yield dp(i.localStore,a);yield IS(i,Zx(a),u.targetId,!1,u.resumeToken),l_(i.remoteStore,u)}for(const r of t)i.rc.has(r)&&(yield hp(i.localStore,r,!1).then(()=>{c_(i.remoteStore,r),d_(i,r)}).catch(zr))}}),qS.apply(this,arguments)}function WS(n){const e=We(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=zx.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=tF.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ZN.bind(null,e),e.sc.Wo=BN.bind(null,e.eventManager),e.sc.wc=HN.bind(null,e.eventManager),e}function KS(n){const e=We(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=YN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=QN.bind(null,e),e}class Yx{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,ye.Z)(function*(){t.yt=mh(e.databaseInfo.databaseId),t.sharedClientState=t.gc(e),t.persistence=t.yc(e),yield t.persistence.start(),t.localStore=t.Ic(e),t.gcScheduler=t.Tc(e,t.localStore),t.indexBackfillerScheduler=t.Ec(e,t.localStore)})()}Tc(e,t){return null}Ec(e,t){return null}Ic(e){return gD(this.persistence,new _b,e.initialUser,this.yt)}yc(e){return new e_(cp.Bs,this.yt)}gc(e){return new hS}terminate(){var e=this;return(0,ye.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Qx extends Yx{constructor(e,t,i){super(),this.Ac=e,this.cacheSizeBytes=t,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,i=this;return(0,ye.Z)(function*(){yield t().call(i,e),yield i.Ac.initialize(i,e),yield KS(i.Ac.syncEngine),yield h(i.Ac.remoteStore),yield i.persistence.li(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ic(e){return gD(this.persistence,new _b,e.initialUser,this.yt)}Tc(e,t){return new eS(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Ec(e,t){const i=new uT(t,this.persistence);return new cT(e.asyncQueue,i)}yc(e){const t=gb(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?Sr.withCacheSize(this.cacheSizeBytes):Sr.DEFAULT;return new fh(this.synchronizeTabs,t,e.clientId,i,e.asyncQueue,bb(),pp(),this.yt,this.sharedClientState,!!this.forceOwnership)}gc(e){return new hS}}class uF extends Qx{constructor(e,t){super(e,t,!1),this.Ac=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,i=this;return(0,ye.Z)(function*(){yield t().call(i,e);const r=i.Ac.syncEngine;i.sharedClientState instanceof TD&&(i.sharedClientState.syncEngine={Fr:rF.bind(null,r),$r:aF.bind(null,r),Br:lF.bind(null,r),vi:oF.bind(null,r),Mr:iF.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.li(function(){var a=(0,ye.Z)(function*(u){yield function sF(n,e){return GS.apply(this,arguments)}(i.Ac.syncEngine,u),i.gcScheduler&&(u&&!i.gcScheduler.started?i.gcScheduler.start():u||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(u&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():u||i.indexBackfillerScheduler.stop())});return function(u){return a.apply(this,arguments)}}())})()}gc(e){const t=bb();if(!TD.C(t))throw new Oe(le.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=gb(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new TD(t,e.asyncQueue,i,e.clientId,e.initialUser)}}class ZS{initialize(e,t){var i=this;return(0,ye.Z)(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>qx(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=eF.bind(null,i.syncEngine),yield kt(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Ib}createDatastore(e){const t=mh(e.databaseInfo.databaseId),i=new mS(e.databaseInfo);return new Fx(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return t=this.localStore,i=this.datastore,r=e.asyncQueue,a=f=>qx(this.syncEngine,f,0),u=AD.C()?new AD:new SD,new _S(t,i,r,a,u);var t,i,r,a,u}createSyncEngine(e,t){return function(i,r,a,u,f,_,w){const I=new zN(i,r,a,u,f,_);return w&&(I.dc=!0),I}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,ye.Z)(function*(t){const i=We(t);Fe("RemoteStore","RemoteStore shutting down."),i._u.add(5),yield gh(i),i.mu.shutdown(),i.gu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function YS(n,e,t){if(!t)throw new Oe(le.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Xx(n,e,t,i){if(!0===e&&!0===i)throw new Oe(le.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Jx(n){if(!Ze.isDocumentKey(n))throw new Oe(le.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function ek(n){if(Ze.isDocumentKey(n))throw new Oe(le.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function VD(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":at()}function dn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Oe(le.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=VD(n);throw new Oe(le.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function tk(n,e){if(e<=0)throw new Oe(le.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}const nk=new Map;class ik{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Oe(le.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Oe(le.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,Xx("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Tb{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ik({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Oe(le.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Oe(le.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ik(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new X0;switch(t.type){case"gapi":return new sT(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Oe(le.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=nk.get(e);t&&(Fe("ComponentProvider","Removing Datastore"),nk.delete(e),t.terminate())}(this),Promise.resolve()}}class ti{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new oc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ti(this.firestore,e,this._key)}}class Ar{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Ar(this.firestore,e,this._query)}}class oc extends Ar{constructor(e,t,i){super(e,t,Yd(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ti(this.firestore,null,new Ze(e))}withConverter(e){return new oc(this.firestore,e,this._path)}}function sk(n,e,...t){if(n=(0,on.m9)(n),YS("collection","path",e),n instanceof Tb){const i=cn.fromString(e,...t);return ek(i),new oc(n,null,i)}{if(!(n instanceof ti||n instanceof oc))throw new Oe(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(cn.fromString(e,...t));return ek(i),new oc(n.firestore,null,i)}}function BD(n,e,...t){if(n=(0,on.m9)(n),1===arguments.length&&(e=iE.R()),YS("doc","path",e),n instanceof Tb){const i=cn.fromString(e,...t);return Jx(i),new ti(n,null,new Ze(i))}{if(!(n instanceof ti||n instanceof oc))throw new Oe(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(cn.fromString(e,...t));return Jx(i),new ti(n.firestore,n instanceof oc?n.converter:null,new Ze(i))}}function ok(n,e){return n=(0,on.m9)(n),e=(0,on.m9)(e),(n instanceof ti||n instanceof oc)&&(e instanceof ti||e instanceof oc)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function QS(n,e){return n=(0,on.m9)(n),e=(0,on.m9)(e),n instanceof Ar&&e instanceof Ar&&n.firestore===e.firestore&&Cu(n._query,e._query)&&n.converter===e.converter}function ak(n,e=10240){let t=0;return{read:()=>(0,ye.Z)(function*(){if(t<n.byteLength){const i={value:n.slice(t,t+e),done:!1};return t+=e,i}return{done:!0}})(),cancel:()=>(0,ye.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class HD{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):di("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}Rc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class hF{constructor(e,t){this.Pc=e,this.yt=t,this.metadata=new Ri,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then(i=>{i&&i.Ou()?this.metadata.resolve(i.ku.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.ku)}`))},i=>this.metadata.reject(i))}close(){return this.Pc.cancel()}getMetadata(){var e=this;return(0,ye.Z)(function*(){return e.metadata.promise})()}mc(){var e=this;return(0,ye.Z)(function*(){return yield e.getMetadata(),e.Vc()})()}Vc(){var e=this;return(0,ye.Z)(function*(){const t=yield e.Sc();if(null===t)return null;const i=e.vc.decode(t),r=Number(i);isNaN(r)&&e.Dc(`length string (${i}) is not valid number`);const a=yield e.Cc(r);return new UN(JSON.parse(a),t.length+r)})()}xc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Sc(){var e=this;return(0,ye.Z)(function*(){for(;e.xc()<0&&!(yield e.Nc()););if(0===e.buffer.length)return null;const t=e.xc();t<0&&e.Dc("Reached the end of bundle when a length string is expected.");const i=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),i})()}Cc(e){var t=this;return(0,ye.Z)(function*(){for(;t.buffer.length<e;)(yield t.Nc())&&t.Dc("Reached the end of bundle when more is expected.");const i=t.vc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),i})()}Dc(e){throw this.Pc.cancel(),new Error(`Invalid bundle format: ${e}`)}Nc(){var e=this;return(0,ye.Z)(function*(){const t=yield e.Pc.read();if(!t.done){const i=new Uint8Array(e.buffer.length+t.value.length);i.set(e.buffer),i.set(t.value,e.buffer.length),e.buffer=i}return t.done})()}}class mF{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,ye.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Oe(le.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,ye.Z)(function*(a,u){const f=We(a),_=xu(f.yt)+"/documents",w={documents:u.map(j=>Pg(f.yt,j))},I=yield f._o("BatchGetDocuments",_,w,u.length),x=new Map;I.forEach(j=>{const z=function FT(n,e){return"found"in e?function(t,i){mt(!!i.found);const r=Bs(t,i.found.name),a=pi(i.found.updateTime),u=i.found.createTime?pi(i.found.createTime):It.min(),f=new Ui({mapValue:{fields:i.found.fields}});return On.newFoundDocument(r,a,u,f)}(n,e):"missing"in e?function(t,i){mt(!!i.missing),mt(!!i.readTime);const r=Bs(t,i.missing),a=pi(i.readTime);return On.newNoDocument(r,a)}(n,e):at()}(f.yt,j);x.set(z.key.toString(),z)});const L=[];return u.forEach(j=>{const z=x.get(j.toString());mt(!!z),L.push(z)}),L}),function(a,u){return r.apply(this,arguments)})(t.datastore,e);var r;return i.forEach(r=>t.recordVersion(r)),i})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new eh(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,ye.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var i;e.mutations.forEach(i=>{t.delete(i.key.toString())}),t.forEach((i,r)=>{const a=Ze.fromPath(r);e.mutations.push(new Lv(a,e.precondition(a)))}),yield(i=(0,ye.Z)(function*(r,a){const u=We(r),f=xu(u.yt)+"/documents",_={writes:a.map(w=>sh(u.yt,w))};yield u.ao("Commit",f,_)}),function(r,a){return i.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw at();t=It.min()}const i=this.readVersions.get(e.key.toString());if(i){if(!t.isEqual(i))throw new Oe(le.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(It.min())?Hn.exists(!1):Hn.updateTime(t):Hn.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(It.min()))throw new Oe(le.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Hn.updateTime(t)}return Hn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class gF{constructor(e,t,i,r,a){this.asyncQueue=e,this.datastore=t,this.options=i,this.updateFunction=r,this.deferred=a,this.kc=i.maxAttempts,this.xo=new wb(this.asyncQueue,"transaction_retry")}run(){this.kc-=1,this.Oc()}Oc(){var e=this;this.xo.Ro((0,ye.Z)(function*(){const t=new mF(e.datastore),i=e.Mc(t);i&&i.then(r=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(r)}).catch(a=>{e.Fc(a)}))}).catch(r=>{e.Fc(r)})}))}Mc(e){try{const t=this.updateFunction(e);return!zd(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Fc(e){this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Oc(),Promise.resolve()))):this.deferred.reject(e)}$c(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!RE(t)}return!1}}class _F{constructor(e,t,i,r){var a=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=ki.UNAUTHENTICATED,this.clientId=iE.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var u=(0,ye.Z)(function*(f){Fe("FirestoreClient","Received user=",f.uid),yield a.authCredentialListener(f),a.user=f});return function(f){return u.apply(this,arguments)}}()),this.appCheckCredentials.start(i,u=>(Fe("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}getConfiguration(){var e=this;return(0,ye.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Oe(le.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Ri;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ye.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=ic(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}function lk(n,e){return XS.apply(this,arguments)}function XS(){return XS=(0,ye.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Fe("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(function(){var r=(0,ye.Z)(function*(a){i.isEqual(a)||(yield cS(e.localStore,a),i=a)});return function(a){return r.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),XS.apply(this,arguments)}function ck(n,e){return JS.apply(this,arguments)}function JS(){return JS=(0,ye.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield eA(n);Fe("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield e.initialize(t,i),n.setCredentialChangeListener(r=>St(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,a)=>St(e.remoteStore,a)),n.onlineComponents=e}),JS.apply(this,arguments)}function eA(n){return tA.apply(this,arguments)}function tA(){return tA=(0,ye.Z)(function*(n){return n.offlineComponents||(Fe("FirestoreClient","Using default OfflineComponentProvider"),yield lk(n,new Yx)),n.offlineComponents}),tA.apply(this,arguments)}function UD(n){return nA.apply(this,arguments)}function nA(){return nA=(0,ye.Z)(function*(n){return n.onlineComponents||(Fe("FirestoreClient","Using default OnlineComponentProvider"),yield ck(n,new ZS)),n.onlineComponents}),nA.apply(this,arguments)}function uk(n){return eA(n).then(e=>e.persistence)}function jD(n){return eA(n).then(e=>e.localStore)}function iA(n){return UD(n).then(e=>e.remoteStore)}function rA(n){return UD(n).then(e=>e.syncEngine)}function h_(n){return sA.apply(this,arguments)}function sA(){return sA=(0,ye.Z)(function*(n){const e=yield UD(n),t=e.eventManager;return t.onListen=qN.bind(null,e.syncEngine),t.onUnlisten=WN.bind(null,e.syncEngine),t}),sA.apply(this,arguments)}function hk(n,e,t={}){const i=new Ri;return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return function(r,a,u,f,_){const w=new HD({next:x=>{a.enqueueAndForget(()=>bS(r,I));const L=x.docs.has(u);!L&&x.fromCache?_.reject(new Oe(le.UNAVAILABLE,"Failed to get document because the client is offline.")):L&&x.fromCache&&f&&"server"===f.source?_.reject(new Oe(le.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(x)},error:x=>_.reject(x)}),I=new DS(Yd(u.path),w,{includeMetadataChanges:!0,Nu:!0});return _p(r,I)}(yield h_(n),n.asyncQueue,e,t,i)})),i.promise}function fk(n,e,t={}){const i=new Ri;return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return function(r,a,u,f,_){const w=new HD({next:x=>{a.enqueueAndForget(()=>bS(r,I)),x.fromCache&&"server"===f.source?_.reject(new Oe(le.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(x)},error:x=>_.reject(x)}),I=new DS(u,w,{includeMetadataChanges:!0,Nu:!0});return _p(r,I)}(yield h_(n),n.asyncQueue,e,t,i)})),i.promise}class IF{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new wb(this,"async_queue_retry"),this.Wc=()=>{const t=pp();t&&Fe("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.Po()};const e=pp();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.qc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.qc){this.qc=!0,this.Qc=e||!1;const t=pp();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.qc)return new Promise(()=>{});const t=new Ri;return this.Hc(()=>this.qc&&this.Qc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}Jc(){var e=this;return(0,ye.Z)(function*(){if(0!==e.Lc.length){try{yield e.Lc[0](),e.Lc.shift(),e.xo.reset()}catch(t){if(!Wa(t))throw t;Fe("AsyncQueue","Operation failed with retryable error: "+t)}e.Lc.length>0&&e.xo.Ro(()=>e.Jc())}})()}Hc(e){const t=this.Bc.then(()=>(this.Gc=!0,e().catch(i=>{throw this.Kc=i,this.Gc=!1,di("INTERNAL UNHANDLED ERROR: ",function(a){let u=a.message||"";return a.stack&&(u=a.stack.includes(a.message)?a.stack:a.message+"\n"+a.stack),u}(i)),i}).then(i=>(this.Gc=!1,i))));return this.Bc=t,t}enqueueAfterDelay(e,t,i){this.zc(),this.jc.indexOf(e)>-1&&(t=0);const r=gp.createAndSchedule(this,e,t,i,a=>this.Yc(a));return this.Uc.push(r),r}zc(){this.Kc&&at()}verifyOperationInProgress(){}Xc(){var e=this;return(0,ye.Z)(function*(){let t;do{t=e.Bc,yield t}while(t!==e.Bc)})()}Zc(e){for(const t of this.Uc)if(t.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.Uc.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.Uc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}function oA(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const i=e;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class TF{constructor(){this._progressObserver={},this._taskCompletionResolver=new Ri,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,i){this._progressObserver={next:e,error:t,complete:i}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class ni extends Tb{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=new IF,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||pk(this),this._firestoreClient.terminate()}}function ji(n){return n._firestoreClient||pk(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function pk(n){var e;const t=n._freezeSettings(),i=(a=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new dT(n._databaseId,a,n._persistenceKey,(f=t).host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,f.useFetchStreams));var a,f;n._firestoreClient=new _F(n._authCredentials,n._appCheckCredentials,n._queue,i)}function mk(n,e,t){const i=new Ri;return n.asyncQueue.enqueue((0,ye.Z)(function*(){try{yield lk(n,t),yield ck(n,e),i.resolve()}catch(r){const a=r;if(!("FirebaseError"===(u=a).name?u.code===le.FAILED_PRECONDITION||u.code===le.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||22===u.code||20===u.code||11===u.code))throw a;ea("Error enabling offline persistence. Falling back to persistence disabled: "+a),i.reject(a)}var u})).then(()=>i.promise)}function gk(n){if(n._initialized||n._terminated)throw new Oe(le.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class ac{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ac(Oi.fromBase64String(e))}catch(t){throw new Oe(le.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ac(Oi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Bu{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Oe(le.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new hi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class vp{constructor(e){this._methodName=e}}class GD{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Oe(le.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Oe(le.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return zt(this._lat,e._lat)||zt(this._long,e._long)}}const FF=/^__.*__$/;class LF{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new Ya(e,this.data,this.fieldMask,t,this.fieldTransforms):new Jd(e,this.data,t,this.fieldTransforms)}}class _k{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Ya(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function yk(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw at()}}class $D{constructor(e,t,i,r,a,u){this.settings=e,this.databaseId=t,this.yt=i,this.ignoreUndefinedProperties=r,void 0===a&&this.na(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new $D(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.yt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ia({path:i,oa:!1});return r.ua(e),r}ca(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ia({path:i,oa:!1});return r.na(),r}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return WD(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(yk(this.sa)&&FF.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class VF{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.yt=i||mh(e)}da(e,t,i,r=!1){return new $D({sa:e,methodName:t,fa:i,path:hi.emptyPath(),oa:!1,la:r},this.databaseId,this.yt,this.ignoreUndefinedProperties)}}function bp(n){const e=n._freezeSettings(),t=mh(n._databaseId);return new VF(n._databaseId,!!e.ignoreUndefinedProperties,t)}function zD(n,e,t,i,r,a={}){const u=n.da(a.merge||a.mergeFields?2:0,e,t,r);uA("Data must be an object, but it was:",u,i);const f=wk(i,u);let _,w;if(a.merge)_=new qr(u.fieldMask),w=u.fieldTransforms;else if(a.mergeFields){const I=[];for(const x of a.mergeFields){const L=dA(e,x,t);if(!u.contains(L))throw new Oe(le.INVALID_ARGUMENT,`Field '${L}' is specified in your field mask but missing from your input data.`);Dk(I,L)||I.push(L)}_=new qr(I),w=u.fieldTransforms.filter(x=>_.covers(x.field))}else _=null,w=u.fieldTransforms;return new LF(new Ui(f),_,w)}class Sb extends vp{_toFieldTransform(e){if(2!==e.sa)throw e.ha(1===e.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Sb}}function vk(n,e,t){return new $D({sa:3,fa:e.settings.fa,methodName:n._methodName,oa:t},e.databaseId,e.yt,e.ignoreUndefinedProperties)}class aA extends vp{_toFieldTransform(e){return new np(e.path,new Xd)}isEqual(e){return e instanceof aA}}class BF extends vp{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=vk(this,e,!0),i=this._a.map(a=>wp(a,t)),r=new Tu(i);return new np(e.path,r)}isEqual(e){return this===e}}class HF extends vp{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=vk(this,e,!0),i=this._a.map(a=>wp(a,t)),r=new Ql(i);return new np(e.path,r)}isEqual(e){return this===e}}class UF extends vp{constructor(e,t){super(e),this.wa=t}_toFieldTransform(e){const t=new Su(e.yt,DT(e.yt,this.wa));return new np(e.path,t)}isEqual(e){return this===e}}function lA(n,e,t,i){const r=n.da(1,e,t);uA("Data must be an object, but it was:",r,i);const a=[],u=Ui.empty();An(i,(_,w)=>{const I=qD(e,_,t);w=(0,on.m9)(w);const x=r.ca(I);if(w instanceof Sb)a.push(I);else{const L=wp(w,x);null!=L&&(a.push(I),u.set(I,L))}});const f=new qr(a);return new _k(u,f,r.fieldTransforms)}function cA(n,e,t,i,r,a){const u=n.da(1,e,t),f=[dA(e,i,t)],_=[r];if(a.length%2!=0)throw new Oe(le.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let L=0;L<a.length;L+=2)f.push(dA(e,a[L])),_.push(a[L+1]);const w=[],I=Ui.empty();for(let L=f.length-1;L>=0;--L)if(!Dk(w,f[L])){const j=f[L];let z=_[L];z=(0,on.m9)(z);const J=u.ca(j);if(z instanceof Sb)w.push(j);else{const be=wp(z,J);null!=be&&(w.push(j),I.set(j,be))}}const x=new qr(w);return new _k(I,x,u.fieldTransforms)}function bk(n,e,t,i=!1){return wp(t,n.da(i?4:3,e))}function wp(n,e){if(Ek(n=(0,on.m9)(n)))return uA("Unsupported field value:",e,n),wk(n,e);if(n instanceof vp)return function(t,i){if(!yk(i.sa))throw i.ha(`${t._methodName}() can only be used with update() and set()`);if(!i.path)throw i.ha(`${t._methodName}() is not currently supported inside arrays`);const r=t._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(t,i){const r=[];let a=0;for(const u of t){let f=wp(u,i.aa(a));null==f&&(f={nullValue:"NULL_VALUE"}),r.push(f),a++}return{arrayValue:{values:r}}}(n,e)}return function(t,i){if(null===(t=(0,on.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return DT(i.yt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const r=qn.fromDate(t);return{timestampValue:Mu(i.yt,r)}}if(t instanceof qn){const r=new qn(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Mu(i.yt,r)}}if(t instanceof GD)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof ac)return{bytesValue:Hv(i.yt,t._byteString)};if(t instanceof ti){const r=i.databaseId,a=t.firestore._databaseId;if(!a.isEqual(r))throw i.ha(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:jv(t.firestore._databaseId||i.databaseId,t._key.path)}}throw i.ha(`Unsupported field value: ${VD(t)}`)}(n,e)}function wk(n,e){const t={};return hT(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):An(n,(i,r)=>{const a=wp(r,e.ra(i));null!=a&&(t[i]=a)}),{mapValue:{fields:t}}}function Ek(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof qn||n instanceof GD||n instanceof ac||n instanceof ti||n instanceof vp)}function uA(n,e,t){if(!Ek(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=VD(t);throw e.ha("an object"===i?n+" a custom object":n+" "+i)}var i}function dA(n,e,t){if((e=(0,on.m9)(e))instanceof Bu)return e._internalPath;if("string"==typeof e)return qD(n,e);throw WD("Field path arguments must be of type string or ",n,!1,void 0,t)}const jF=new RegExp("[~\\*/\\[\\]]");function qD(n,e,t){if(e.search(jF)>=0)throw WD(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Bu(...e.split("."))._internalPath}catch{throw WD(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function WD(n,e,t,i,r){const a=i&&!i.isEmpty(),u=void 0!==r;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let _="";return(a||u)&&(_+=" (found",a&&(_+=` in field ${i}`),u&&(_+=` in document ${r}`),_+=")"),new Oe(le.INVALID_ARGUMENT,f+n+_)}function Dk(n,e){return n.some(t=>t.isEqual(e))}class Ab{constructor(e,t,i,r,a){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new ti(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new GF(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(KD("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class GF extends Ab{data(){return super.data()}}function KD(n,e){return"string"==typeof e?qD(n,e):e instanceof Bu?e._internalPath:e._delegate._internalPath}function Ck(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Oe(le.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class hA{}class Mb extends hA{}function _h(n,e,...t){let i=[];e instanceof hA&&i.push(e),i=i.concat(t),function(r){const a=r.filter(f=>f instanceof f_).length,u=r.filter(f=>f instanceof xb).length;if(a>1||a>0&&u>0)throw new Oe(le.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class xb extends Mb{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new xb(e,t,i)}_apply(e){const t=this._parse(e);return Ak(e._query,t),new Ar(e.firestore,e.converter,Jf(e._query,t))}_parse(e){const t=bp(e.firestore);return function(r,a,u,f,_,w,I){let x;if(_.isKeyField()){if("array-contains"===w||"array-contains-any"===w)throw new Oe(le.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if("in"===w||"not-in"===w){Sk(I,w);const L=[];for(const j of I)L.push(Tk(f,r,j));x={arrayValue:{values:L}}}else x=Tk(f,r,I)}else"in"!==w&&"not-in"!==w&&"array-contains-any"!==w||Sk(I,w),x=bk(u,"where",I,"in"===w||"not-in"===w);return nn.create(_,w,x)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class f_ extends hA{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new f_(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return 1===t.length?t[0]:Cn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(i,r){let a=i;const u=r.getFlattenedFilters();for(const f of u)Ak(a,f),a=Jf(a,f)}(e._query,t),new Ar(e.firestore,e.converter,Jf(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class fA extends Mb{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new fA(e,t)}_apply(e){const t=function(i,r,a){if(null!==i.startAt)throw new Oe(le.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new Oe(le.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const u=new wu(r,a);return function(f,_){if(null===Sg(f)){const w=Ag(f);null!==w&&Mk(0,w,_.field)}}(i,u),u}(e._query,this._field,this._direction);return new Ar(e.firestore,e.converter,function(i,r){const a=i.explicitOrderBy.concat([r]);return new ra(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}class ZD extends Mb{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new ZD(e,t,i)}_apply(e){return new Ar(e.firestore,e.converter,ep(e._query,this._limit,this._limitType))}}class YD extends Mb{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new YD(e,t,i)}_apply(e){const t=Ik(e,this.type,this._docOrFields,this._inclusive);return new Ar(e.firestore,e.converter,(r=t,new ra((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class QD extends Mb{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new QD(e,t,i)}_apply(e){const t=Ik(e,this.type,this._docOrFields,this._inclusive);return new Ar(e.firestore,e.converter,(r=t,new ra((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function Ik(n,e,t,i){if(t[0]=(0,on.m9)(t[0]),t[0]instanceof Ab)return function(r,a,u,f,_){if(!f)throw new Oe(le.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${u}().`);const w=[];for(const I of Du(r))if(I.field.isKeyField())w.push(_u(a,f.key));else{const x=f.data.field(I.field);if(gv(x))throw new Oe(le.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+I.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===x){const L=I.field.canonicalString();throw new Oe(le.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${L}' (used as the orderBy) does not exist.`)}w.push(x)}return new yu(w,_)}(n._query,n.firestore._databaseId,e,t[0]._document,i);{const r=bp(n.firestore);return function(a,u,f,_,w,I){const x=a.explicitOrderBy;if(w.length>x.length)throw new Oe(le.INVALID_ARGUMENT,`Too many arguments provided to ${_}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const L=[];for(let j=0;j<w.length;j++){const z=w[j];if(x[j].field.isKeyField()){if("string"!=typeof z)throw new Oe(le.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${_}(), but got a ${typeof z}`);if(!Sv(a)&&-1!==z.indexOf("/"))throw new Oe(le.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${_}() must be a plain document ID, but '${z}' contains a slash.`);const J=a.path.child(cn.fromString(z));if(!Ze.isDocumentKey(J))throw new Oe(le.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${_}() must result in a valid document path, but '${J}' is not because it contains an odd number of segments.`);const be=new Ze(J);L.push(_u(u,be))}else{const J=bk(f,_,z);L.push(J)}}return new yu(L,I)}(n._query,n.firestore._databaseId,r,e,t,i)}}function Tk(n,e,t){if("string"==typeof(t=(0,on.m9)(t))){if(""===t)throw new Oe(le.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Sv(e)&&-1!==t.indexOf("/"))throw new Oe(le.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(cn.fromString(t));if(!Ze.isDocumentKey(i))throw new Oe(le.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return _u(n,new Ze(i))}if(t instanceof ti)return _u(n,t._key);throw new Oe(le.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${VD(t)}.`)}function Sk(n,e){if(!Array.isArray(n)||0===n.length)throw new Oe(le.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Oe(le.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function Ak(n,e){if(e.isInequality()){const i=Ag(n),r=e.field;if(null!==i&&!i.isEqual(r))throw new Oe(le.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${i.toString()}' and '${r.toString()}'`);const a=Sg(n);null!==a&&Mk(0,r,a)}const t=function(i,r){for(const a of i)for(const u of a.getFlattenedFilters())if(r.indexOf(u.op)>=0)return u.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Oe(le.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function Mk(n,e,t){if(!t.isEqual(e))throw new Oe(le.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class pA{convertValue(e,t="none"){switch(na(e)){case 0:return null;case 1:return e.booleanValue;case 2:return fi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(mu(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw at()}}convertObject(e,t){const i={};return An(e.fields,(r,a)=>{i[r]=this.convertValue(a,t)}),i}convertGeoPoint(e){return new GD(fi(e.latitude),fi(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Wd(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(qf(e));default:return null}}convertTimestamp(e){const t=Ka(e);return new qn(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=cn.fromString(e);mt(GE(i));const r=new mo(i.get(1),i.get(3)),a=new Ze(i.popFirst(5));return r.isEqual(t)||di(`Document ${a} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}function XD(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class XF extends pA{constructor(e){super(),this.firestore=e}convertBytes(e){return new ac(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ti(this.firestore,null,t)}}class Ep{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Hu extends Ab{constructor(e,t,i,r,a,u){super(e,t,i,r,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new kb(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(KD("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class kb extends Hu{data(e={}){return super.data(e)}}class yh{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Ep(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new kb(this._firestore,this._userDataWriter,i.key,i,new Ep(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Oe(le.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(u=>({type:"added",doc:new kb(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Ep(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:a++}))}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>r||3!==u.type).map(u=>{const f=new kb(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Ep(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let _=-1,w=-1;return 0!==u.type&&(_=a.indexOf(u.doc.key),a=a.delete(u.doc.key)),1!==u.type&&(a=a.add(u.doc),w=a.indexOf(u.doc.key)),{type:JF(u.type),doc:f,oldIndex:_,newIndex:w}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function JF(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return at()}}function kk(n,e){return n instanceof Hu&&e instanceof Hu?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof yh&&e instanceof yh&&n._firestore===e._firestore&&QS(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class vh extends pA{constructor(e){super(),this.firestore=e}convertBytes(e){return new ac(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ti(this.firestore,null,t)}}function Rk(n,e,t){n=dn(n,ti);const i=dn(n.firestore,ni),r=XD(n.converter,e,t);return p_(i,[zD(bp(i),"setDoc",n._key,r,null!==n.converter,t).toMutation(n._key,Hn.none())])}function Ok(n,e,t,...i){n=dn(n,ti);const r=dn(n.firestore,ni),a=bp(r);let u;return u="string"==typeof(e=(0,on.m9)(e))||e instanceof Bu?cA(a,"updateDoc",n._key,e,t,i):lA(a,"updateDoc",n._key,e),p_(r,[u.toMutation(n._key,Hn.exists(!0))])}function Pk(n,...e){var t,i,r;n=(0,on.m9)(n);let a={includeMetadataChanges:!1},u=0;"object"!=typeof e[u]||oA(e[u])||(a=e[u],u++);const f={includeMetadataChanges:a.includeMetadataChanges};if(oA(e[u])){const x=e[u];e[u]=null===(t=x.next)||void 0===t?void 0:t.bind(x),e[u+1]=null===(i=x.error)||void 0===i?void 0:i.bind(x),e[u+2]=null===(r=x.complete)||void 0===r?void 0:r.bind(x)}let _,w,I;if(n instanceof ti)w=dn(n.firestore,ni),I=Yd(n._key.path),_={next:x=>{e[u]&&e[u](mA(w,n,x))},error:e[u+1],complete:e[u+2]};else{const x=dn(n,Ar);w=dn(x.firestore,ni),I=x._query;const L=new vh(w);_={next:j=>{e[u]&&e[u](new yh(w,L,x,j))},error:e[u+1],complete:e[u+2]},Ck(n._query)}return function(x,L,j,z){const J=new HD(z),be=new DS(L,J,j);return x.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return _p(yield h_(x),be)})),()=>{J.bc(),x.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return bS(yield h_(x),be)}))}}(ji(w),I,f,_)}function p_(n,e){return function(t,i){const r=new Ri;return t.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return function KN(n,e,t){return AS.apply(this,arguments)}(yield rA(t),i,r)})),r.promise}(ji(n),e)}function mA(n,e,t){const i=t.docs.get(e._key),r=new vh(n);return new Hu(n,r,e._key,i,new Ep(t.hasPendingWrites,t.fromCache),e.converter)}const u1={maxAttempts:5};class Nk{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=bp(e)}set(e,t,i){this._verifyNotCommitted();const r=bh(e,this._firestore),a=XD(r.converter,t,i),u=zD(this._dataReader,"WriteBatch.set",r._key,a,null!==r.converter,i);return this._mutations.push(u.toMutation(r._key,Hn.none())),this}update(e,t,i,...r){this._verifyNotCommitted();const a=bh(e,this._firestore);let u;return u="string"==typeof(t=(0,on.m9)(t))||t instanceof Bu?cA(this._dataReader,"WriteBatch.update",a._key,t,i,r):lA(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(u.toMutation(a._key,Hn.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=bh(e,this._firestore);return this._mutations=this._mutations.concat(new eh(t._key,Hn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Oe(le.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function bh(n,e){if((n=(0,on.m9)(n)).firestore!==e)throw new Oe(le.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class d1 extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=bp(e)}get(e){const t=bh(e,this._firestore),i=new XF(this._firestore);return this._transaction.lookup([t._key]).then(r=>{if(!r||1!==r.length)return at();const a=r[0];if(a.isFoundDocument())return new Ab(this._firestore,i,a.key,a,t.converter);if(a.isNoDocument())return new Ab(this._firestore,i,t._key,null,t.converter);throw at()})}set(e,t,i){const r=bh(e,this._firestore),a=XD(r.converter,t,i),u=zD(this._dataReader,"Transaction.set",r._key,a,null!==r.converter,i);return this._transaction.set(r._key,u),this}update(e,t,i,...r){const a=bh(e,this._firestore);let u;return u="string"==typeof(t=(0,on.m9)(t))||t instanceof Bu?cA(this._dataReader,"Transaction.update",a._key,t,i,r):lA(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,u),this}delete(e){const t=bh(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=bh(e,this._firestore),i=new vh(this._firestore);return super.get(e).then(r=>new Hu(this._firestore,i,t._key,r._document,new Ep(!1,!1),t.converter))}}function gA(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Oe("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function Lk(){if(typeof Uint8Array>"u")throw new Oe("unimplemented","Uint8Arrays are not available in this environment.")}function Vk(){if(!function cE(){return typeof atob<"u"}())throw new Oe("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){Jo=Td.SDK_VERSION,(0,Td._registerComponent)(new Df.wA("firestore",(t,{instanceIdentifier:i,options:r})=>{const a=t.getProvider("app").getImmediate(),u=new ni(new eE(t.getProvider("auth-internal")),new oT(t.getProvider("app-check-internal")),function(f,_){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new Oe(le.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new mo(f.options.projectId,_)}(a,i),a);return r=Object.assign({useFetchStreams:e},r),u._setSettings(r),u},"PUBLIC").setMultipleInstances(!0)),(0,Td.registerVersion)(Q0,"3.8.3",n),(0,Td.registerVersion)(Q0,"3.8.3","esm2017")}();class Rb{constructor(e){this._delegate=e}static fromBase64String(e){return Vk(),new Rb(ac.fromBase64String(e))}static fromUint8Array(e){return Lk(),new Rb(ac.fromUint8Array(e))}toBase64(){return Vk(),this._delegate.toBase64()}toUint8Array(){return Lk(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function _A(n){return function b1(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const i of e)if(i in t&&"function"==typeof t[i])return!0;return!1}(n,["next","error","complete"])}class w1{enableIndexedDbPersistence(e,t){return function AF(n,e){gk(n=dn(n,ni));const t=ji(n),i=n._freezeSettings(),r=new ZS;return mk(t,r,new Qx(r,i.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function MF(n){gk(n=dn(n,ni));const e=ji(n),t=n._freezeSettings(),i=new ZS;return mk(e,i,new uF(i,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function xF(n){if(n._initialized&&!n._terminated)throw new Oe(le.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Ri;return n._queue.enqueueAndForgetEvenWhileRestricted((0,ye.Z)(function*(){try{yield(t=(0,ye.Z)(function*(i){if(!ta.C())return Promise.resolve();const r=i+"main";yield ta.delete(r)}),function(i){return t.apply(this,arguments)})(gb(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class Bk{constructor(e,t,i){this._delegate=t,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},e instanceof mo||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&ea("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,i={}){!function rk(n,e,t,i={}){var r;const a=(n=dn(n,Tb))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==e&&ea("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},a),{host:`${e}:${t}`,ssl:!1})),i.mockUserToken){let u,f;if("string"==typeof i.mockUserToken)u=i.mockUserToken,f=ki.MOCK_USER;else{u=(0,on.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const _=i.mockUserToken.sub||i.mockUserToken.user_id;if(!_)throw new Oe(le.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new ki(_)}n._authCredentials=new J0(new cv(u,f))}}(this._delegate,e,t,i)}enableNetwork(){return function RF(n){return function yF(n){return n.asyncQueue.enqueue((0,ye.Z)(function*(){const e=yield uk(n),t=yield iA(n);return e.setNetworkEnabled(!0),function(i){const r=We(i);return r._u.delete(0),a_(r)}(t)}))}(ji(n=dn(n,ni)))}(this._delegate)}disableNetwork(){return function OF(n){return function vF(n){return n.asyncQueue.enqueue((0,ye.Z)(function*(){const e=yield uk(n),t=yield iA(n);return e.setNetworkEnabled(!1),(i=(0,ye.Z)(function*(r){const a=We(r);a._u.add(0),yield gh(a),a.gu.set("Offline")}),function(r){return i.apply(this,arguments)})(t);var i}))}(ji(n=dn(n,ni)))}(this._delegate)}enablePersistence(e){let t=!1,i=!1;return e&&(t=!!e.synchronizeTabs,i=!!e.experimentalForceOwningTab,Xx("synchronizeTabs",t,"experimentalForceOwningTab",i)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function kF(n){return function(e){const t=new Ri;return e.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return function XN(n,e){return OS.apply(this,arguments)}(yield rA(e),t)})),t.promise}(ji(n=dn(n,ni)))}(this._delegate)}onSnapshotsInSync(e){return function c1(n,e){return function EF(n,e){const t=new HD(e);return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return i=yield h_(n),r=t,We(i).Ru.add(r),void r.next();var i,r})),()=>{t.bc(),n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return i=yield h_(n),r=t,void We(i).Ru.delete(r);var i,r}))}}(ji(n=dn(n,ni)),oA(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Oe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new m_(this,sk(this._delegate,e))}catch(t){throw hs(t,"collection()","Firestore.collection()")}}doc(e){try{return new la(this,BD(this._delegate,e))}catch(t){throw hs(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new fs(this,function dF(n,e){if(n=dn(n,Tb),YS("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Oe(le.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Ar(n,null,(t=e,new ra(cn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw hs(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function h1(n,e,t){n=dn(n,ni);const i=Object.assign(Object.assign({},u1),t);return function(r){if(r.maxAttempts<1)throw new Oe(le.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(r,a,u){const f=new Ri;return r.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){const _=yield function dk(n){return UD(n).then(e=>e.datastore)}(r);new gF(r.asyncQueue,_,u,a,f).run()})),f.promise}(ji(n),r=>e(new d1(n,r)),i)}(this._delegate,t=>e(new Hk(this,t)))}batch(){return ji(this._delegate),new Uk(new Nk(this._delegate,e=>p_(this._delegate,e)))}loadBundle(e){return function PF(n,e){const t=ji(n=dn(n,ni)),i=new TF;return function DF(n,e,t,i){const r=function(a,u){let f;return f="string"==typeof a?(new TextEncoder).encode(a):a,_=function(_,w){if(_ instanceof Uint8Array)return ak(_,w);if(_ instanceof ArrayBuffer)return ak(new Uint8Array(_),w);if(_ instanceof ReadableStream)return _.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(f),new hF(_,u);var _}(t,mh(e));n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){!function cF(n,e,t){const i=We(n);var r;(r=(0,ye.Z)(function*(a,u,f){try{const _=yield u.getMetadata();if(yield function(L,j){const z=We(L),J=pi(j.createTime);return z.persistence.runTransaction("hasNewerBundle","readonly",be=>z.Ns.getBundleMetadata(be,j.id)).then(be=>!!be&&be.createTime.compareTo(J)>=0)}(a.localStore,_))return yield u.close(),f._completeWith({taskState:"Success",documentsLoaded:(L=_).totalDocuments,bytesLoaded:L.totalBytes,totalDocuments:L.totalDocuments,totalBytes:L.totalBytes}),Promise.resolve(new Set);f._updateProgress(Ux(_));const w=new jN(_,a.localStore,u.yt);let I=yield u.mc();for(;I;){const L=yield w.Fu(I);L&&f._updateProgress(L),I=yield u.mc()}const x=yield w.complete();return yield Vu(a,x.Lu,void 0),yield function(L,j){const z=We(L);return z.persistence.runTransaction("Save bundle","readwrite",J=>z.Ns.saveBundleMetadata(J,j))}(a.localStore,_),f._completeWith(x.progress),Promise.resolve(x.Bu)}catch(_){return ea("SyncEngine",`Loading bundle failed with ${_}`),f._failWith(_),Promise.resolve(new Set)}var L}),function(a,u,f){return r.apply(this,arguments)})(i,e,t).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield rA(n),r,i)}))}(t,n._databaseId,e,i),i}(this._delegate,e)}namedQuery(e){return function NF(n,e){return function CF(n,e){return n.asyncQueue.enqueue((0,ye.Z)(function*(){return function(t,i){const r=We(t);return r.persistence.runTransaction("Get named query","readonly",a=>r.Ns.getNamedQuery(a,i))}(yield jD(n),e)}))}(ji(n=dn(n,ni)),e).then(t=>t?new Ar(n,null,t.query):null)}(this._delegate,e).then(t=>t?new fs(this,t):null)}}class JD extends pA{constructor(e){super(),this.firestore=e}convertBytes(e){return new Rb(new ac(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return la.forKey(t,this.firestore,null)}}class Hk{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new JD(e)}get(e){const t=Cp(e);return this._delegate.get(t).then(i=>new Ob(this._firestore,new Hu(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,t.converter)))}set(e,t,i){const r=Cp(e);return i?(gA("Transaction.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const a=Cp(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,i,...r),this}delete(e){const t=Cp(e);return this._delegate.delete(t),this}}class Uk{constructor(e){this._delegate=e}set(e,t,i){const r=Cp(e);return i?(gA("WriteBatch.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const a=Cp(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,i,...r),this}delete(e){const t=Cp(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Dp{constructor(e,t,i){this._firestore=e,this._userDataWriter=t,this._delegate=i}fromFirestore(e,t){const i=new kb(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Pb(this._firestore,i),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const i=Dp.INSTANCES;let r=i.get(e);r||(r=new WeakMap,i.set(e,r));let a=r.get(t);return a||(a=new Dp(e,new JD(e),t),r.set(t,a)),a}}Dp.INSTANCES=new WeakMap;class la{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new JD(e)}static forPath(e,t,i){if(e.length%2!=0)throw new Oe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new la(t,new ti(t._delegate,i,new Ze(e)))}static forKey(e,t,i){return new la(t,new ti(t._delegate,i,e))}get id(){return this._delegate.id}get parent(){return new m_(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new m_(this.firestore,sk(this._delegate,e))}catch(t){throw hs(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,on.m9)(e))instanceof ti&&ok(this._delegate,e)}set(e,t){t=gA("DocumentReference.set",t);try{return t?Rk(this._delegate,e,t):Rk(this._delegate,e)}catch(i){throw hs(i,"setDoc()","DocumentReference.set()")}}update(e,t,...i){try{return 1===arguments.length?Ok(this._delegate,e):Ok(this._delegate,e,t,...i)}catch(r){throw hs(r,"updateDoc()","DocumentReference.update()")}}delete(){return function a1(n){return p_(dn(n.firestore,ni),[new eh(n._key,Hn.none())])}(this._delegate)}onSnapshot(...e){const t=jk(e),i=Gk(e,r=>new Ob(this.firestore,new Hu(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return Pk(this._delegate,t,i)}get(e){let t;return t="cache"===e?.source?function t1(n){n=dn(n,ti);const e=dn(n.firestore,ni),t=ji(e),i=new vh(e);return function bF(n,e){const t=new Ri;return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return(i=(0,ye.Z)(function*(r,a,u){try{const f=yield function(_,w){const I=We(_);return I.persistence.runTransaction("read document","readonly",x=>I.localDocuments.getDocument(x,w))}(r,a);f.isFoundDocument()?u.resolve(f):f.isNoDocument()?u.resolve(null):u.reject(new Oe(le.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(f){const _=ic(f,`Failed to get document '${a} from cache`);u.reject(_)}}),function(r,a,u){return i.apply(this,arguments)})(yield jD(n),e,t);var i})),t.promise}(t,n._key).then(r=>new Hu(e,i,n._key,r,new Ep(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function n1(n){n=dn(n,ti);const e=dn(n.firestore,ni);return hk(ji(e),n._key,{source:"server"}).then(t=>mA(e,n,t))}(this._delegate):function e1(n){n=dn(n,ti);const e=dn(n.firestore,ni);return hk(ji(e),n._key).then(t=>mA(e,n,t))}(this._delegate),t.then(i=>new Ob(this.firestore,new Hu(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(e){return new la(this.firestore,this._delegate.withConverter(e?Dp.getInstance(this.firestore,e):null))}}function hs(n,e,t){return n.message=n.message.replace(e,t),n}function jk(n){for(const e of n)if("object"==typeof e&&!_A(e))return e;return{}}function Gk(n,e){var t,i;let r;return r=_A(n[0])?n[0]:_A(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:a=>{r.next&&r.next(e(a))},error:null===(t=r.error)||void 0===t?void 0:t.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class Ob{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new la(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return kk(this._delegate,e._delegate)}}class Pb extends Ob{data(e){const t=this._delegate.data(e);return function lv(n,e){n||at()}(void 0!==t),t}}class fs{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new JD(e)}where(e,t,i){try{return new fs(this.firestore,_h(this._delegate,function $F(n,e,t){const i=e,r=KD("where",n);return xb._create(r,i,t)}(e,t,i)))}catch(r){throw hs(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new fs(this.firestore,_h(this._delegate,function zF(n,e="asc"){const t=e,i=KD("orderBy",n);return fA._create(i,t)}(e,t)))}catch(i){throw hs(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new fs(this.firestore,_h(this._delegate,function qF(n){return tk("limit",n),ZD._create("limit",n,"F")}(e)))}catch(t){throw hs(t,"limit()","Query.limit()")}}limitToLast(e){try{return new fs(this.firestore,_h(this._delegate,function WF(n){return tk("limitToLast",n),ZD._create("limitToLast",n,"L")}(e)))}catch(t){throw hs(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new fs(this.firestore,_h(this._delegate,function KF(...n){return YD._create("startAt",n,!0)}(...e)))}catch(t){throw hs(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new fs(this.firestore,_h(this._delegate,function ZF(...n){return YD._create("startAfter",n,!1)}(...e)))}catch(t){throw hs(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new fs(this.firestore,_h(this._delegate,function YF(...n){return QD._create("endBefore",n,!1)}(...e)))}catch(t){throw hs(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new fs(this.firestore,_h(this._delegate,function QF(...n){return QD._create("endAt",n,!0)}(...e)))}catch(t){throw hs(t,"endAt()","Query.endAt()")}}isEqual(e){return QS(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function s1(n){n=dn(n,Ar);const e=dn(n.firestore,ni),t=ji(e),i=new vh(e);return function wF(n,e){const t=new Ri;return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return(i=(0,ye.Z)(function*(r,a,u){try{const f=yield yb(r,a,!0),_=new $x(a,f.Hi),w=_.Wu(f.documents),I=_.applyChanges(w,!1);u.resolve(I.snapshot)}catch(f){const _=ic(f,`Failed to execute query '${a} against cache`);u.reject(_)}}),function(r,a,u){return i.apply(this,arguments)})(yield jD(n),e,t);var i})),t.promise}(t,n._query).then(r=>new yh(e,i,n,r))}(this._delegate):"server"===e?.source?function o1(n){n=dn(n,Ar);const e=dn(n.firestore,ni),t=ji(e),i=new vh(e);return fk(t,n._query,{source:"server"}).then(r=>new yh(e,i,n,r))}(this._delegate):function r1(n){n=dn(n,Ar);const e=dn(n.firestore,ni),t=ji(e),i=new vh(e);return Ck(n._query),fk(t,n._query).then(r=>new yh(e,i,n,r))}(this._delegate),t.then(i=>new yA(this.firestore,new yh(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...e){const t=jk(e),i=Gk(e,r=>new yA(this.firestore,new yh(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return Pk(this._delegate,t,i)}withConverter(e){return new fs(this.firestore,this._delegate.withConverter(e?Dp.getInstance(this.firestore,e):null))}}class D1{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Pb(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class yA{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new fs(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Pb(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new D1(this._firestore,t))}forEach(e,t){this._delegate.forEach(i=>{e.call(t,new Pb(this._firestore,i))})}isEqual(e){return kk(this._delegate,e._delegate)}}class m_ extends fs{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new la(this.firestore,e):null}doc(e){try{return new la(this.firestore,void 0===e?BD(this._delegate):BD(this._delegate,e))}catch(t){throw hs(t,"doc()","CollectionReference.doc()")}}add(e){return function l1(n,e){const t=dn(n.firestore,ni),i=BD(n),r=XD(n.converter,e);return p_(t,[zD(bp(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,Hn.exists(!1))]).then(()=>i)}(this._delegate,e).then(t=>new la(this.firestore,t))}isEqual(e){return ok(this._delegate,e._delegate)}withConverter(e){return new m_(this.firestore,this._delegate.withConverter(e?Dp.getInstance(this.firestore,e):null))}}function Cp(n){return dn(n,ti)}class vA{constructor(...e){this._delegate=new Bu(...e)}static documentId(){return new vA(hi.keyField().canonicalString())}isEqual(e){return(e=(0,on.m9)(e))instanceof Bu&&this._delegate._internalPath.isEqual(e._internalPath)}}class Ip{constructor(e){this._delegate=e}static serverTimestamp(){const e=function p1(){return new aA("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Ip(e)}static delete(){const e=function f1(){return new Sb("deleteField")}();return e._methodName="FieldValue.delete",new Ip(e)}static arrayUnion(...e){const t=function m1(...n){return new BF("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Ip(t)}static arrayRemove(...e){const t=function g1(...n){return new HF("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Ip(t)}static increment(e){const t=function _1(n){return new UF("increment",n)}(e);return t._methodName="FieldValue.increment",new Ip(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const C1={Firestore:Bk,GeoPoint:GD,Timestamp:qn,Blob:Rb,Transaction:Hk,WriteBatch:Uk,DocumentReference:la,DocumentSnapshot:Ob,Query:fs,QueryDocumentSnapshot:Pb,QuerySnapshot:yA,CollectionReference:m_,FieldPath:vA,FieldValue:Ip,setLogLevel:function E1(n){!function rT(n){Kl.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function T1(n){(function I1(n,e){n.INTERNAL.registerComponent(new Df.wA("firestore-compat",t=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("firestore").getImmediate();return e(i,r)},"PUBLIC").setServiceProps(Object.assign({},C1)))})(n,(e,t)=>new Bk(e,t,new w1)),n.registerVersion("@firebase/firestore-compat","0.3.3")}(m0.Z);var eC=N(5363),S1=N(6063);class A1 extends At.x{constructor(e=1/0,t=1/0,i=S1.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:a,_windowTime:u}=this;t||(i.push(e),!r&&i.push(a.now()+u)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:r}=this,a=r.slice();for(let u=0;u<a.length&&!e.closed;u+=i?1:2)e.next(a[u]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:i,_infiniteTimeWindow:r}=this,a=(r?1:2)*e;if(e<1/0&&a<i.length&&i.splice(0,i.length-a),!r){const u=t.now();let f=0;for(let _=1;_<i.length&&i[_]<=u;_+=2)f=_;f&&i.splice(0,f+1)}}}var $k=N(3099);function zk(n,e,t){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:e=1/0,refCount:r=!1,scheduler:t}=n):i=n??1/0,(0,$k.B)({connector:()=>new A1(i,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}const qk=(0,N(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function x1(n){return(0,Ye.e)((e,t)=>{let i=!1;e.subscribe((0,Ct.x)(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function k1(n=R1){return(0,Ye.e)((e,t)=>{let i=!1;e.subscribe((0,Ct.x)(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function R1(){return new qk}function Wk(n,e){return(0,Rn.m)(e)?Ha(()=>n,e):Ha(()=>n)}var bA=N(9468);N(259);const EA=new Map,Zk={activated:!1,tokenObservers:[]},V1={initialized:!1,enabled:!1};function Mr(n){return EA.get(n)||Object.assign({},Zk)}function nC(){return V1}class $1{constructor(e,t,i,r,a){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=a,this.pending=null,this.nextErrorWaitInterval=r,r>a)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,ye.Z)(function*(){t.stop();try{t.pending=new on.BH,yield function z1(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new on.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(i){t.retryPolicy(i)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const ps=new on.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Qk(n){if(!Mr(n).activated)throw ps.create("use-before-activation",{appName:n.name})}function IA(n,e){return TA.apply(this,arguments)}function TA(){return TA=(0,ye.Z)(function*({url:n,body:e},t){const i={"Content-Type":"application/json"},r=t.getImmediate({optional:!0});if(r){const x=yield r.getHeartbeatsHeader();x&&(i["X-Firebase-Client"]=x)}const a={method:"POST",body:JSON.stringify(e),headers:i};let u,f;try{u=yield fetch(n,a)}catch(x){throw ps.create("fetch-network-error",{originalErrorMessage:x?.message})}if(200!==u.status)throw ps.create("fetch-status-error",{httpStatus:u.status});try{f=yield u.json()}catch(x){throw ps.create("fetch-parse-error",{originalErrorMessage:x?.message})}const _=f.ttl.match(/^([\d.]+)(s)$/);if(!_||!_[2]||isNaN(Number(_[1])))throw ps.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${f.ttl}`});const w=1e3*Number(_[1]),I=Date.now();return{token:f.token,expireTimeMillis:I+w,issuedAtTimeMillis:I}}),TA.apply(this,arguments)}function Z1(n,e){const{projectId:t,appId:i,apiKey:r}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${i}:exchangeDebugToken?key=${r}`,body:{debug_token:e}}}const Nb="firebase-app-check-store";let sC=null;function Jk(){return sC||(sC=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=i=>{n(i.target.result)},t.onerror=i=>{var r;e(ps.create("storage-open",{originalErrorMessage:null===(r=i.target.error)||void 0===r?void 0:r.message}))},t.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(Nb,{keyPath:"compositeKey"})}}catch(t){e(ps.create("storage-open",{originalErrorMessage:t?.message}))}}),sC)}function SA(){return SA=(0,ye.Z)(function*(n,e){const i=(yield Jk()).transaction(Nb,"readwrite"),a=i.objectStore(Nb).put({compositeKey:n,value:e});return new Promise((u,f)=>{a.onsuccess=_=>{u()},i.onerror=_=>{var w;f(ps.create("storage-set",{originalErrorMessage:null===(w=_.target.error)||void 0===w?void 0:w.message}))}})}),SA.apply(this,arguments)}const Fb=new tu.Yd("@firebase/app-check");function xA(n,e){return(0,on.hl)()?function J1(n,e){return function eR(n,e){return SA.apply(this,arguments)}(function nR(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Fb.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function iR(){return nC().enabled}function rR(){return RA.apply(this,arguments)}function RA(){return RA=(0,ye.Z)(function*(){const n=nC();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),RA.apply(this,arguments)}const sL={error:"UNKNOWN_ERROR"};function oL(n){return on.US.encodeString(JSON.stringify(n),!1)}function oC(n){return OA.apply(this,arguments)}function OA(){return OA=(0,ye.Z)(function*(n,e=!1){const t=n.app;Qk(t);const i=Mr(t);let a,r=i.token;if(r&&!g_(r)&&(i.token=void 0,r=void 0),!r){const _=yield i.cachedTokenPromise;_&&(g_(_)?r=_:yield xA(t,void 0))}if(!e&&r&&g_(r))return{token:r.token};let f,u=!1;if(iR()){i.exchangeTokenPromise||(i.exchangeTokenPromise=IA(Z1(t,yield rR()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),u=!0);const _=yield i.exchangeTokenPromise;return yield xA(t,_),i.token=_,{token:_.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),u=!0),r=yield Mr(t).exchangeTokenPromise}catch(_){"appCheck/throttled"===_.code?Fb.warn(_.message):Fb.error(_),a=_}return r?a?f=g_(r)?{token:r.token,internalError:a}:aR(a):(f={token:r.token},i.token=r,yield xA(t,r)):f=aR(a),u&&oR(t,f),f}),OA.apply(this,arguments)}function NA(n,e){const t=Mr(n),i=t.tokenObservers.filter(r=>r.next!==e);0===i.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=i}function sR(n){const{app:e}=n,t=Mr(e);let i=t.tokenRefresher;i||(i=function aL(n){const{app:e}=n;return new $1((0,ye.Z)(function*(){let i;if(i=Mr(e).token?yield oC(n,!0):yield oC(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const t=Mr(e);if(t.token){let i=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,t.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),t.tokenRefresher=i),!i.isRunning()&&t.isTokenAutoRefreshEnabled&&i.start()}function oR(n,e){const t=Mr(n).tokenObservers;for(const i of t)try{"EXTERNAL"===i.type&&null!=e.error?i.error(e.error):i.next(e)}catch{}}function g_(n){return n.expireTimeMillis-Date.now()>0}function aR(n){return{token:oL(sL),error:n}}class lL{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Mr(this.app);for(const t of e)NA(this.app,t.next);return Promise.resolve()}}const mR="app-check-internal";!function EL(){(0,Td._registerComponent)(new Df.wA("app-check",n=>function cL(n,e){return new lL(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(mR).initialize()})),(0,Td._registerComponent)(new Df.wA(mR,n=>function uL(n){return{getToken:e=>oC(n,e),addTokenListener:e=>function PA(n,e,t,i){const{app:r}=n,a=Mr(r);if(a.tokenObservers=[...a.tokenObservers,{next:t,error:i,type:e}],a.token&&g_(a.token)){const f=a.token;Promise.resolve().then(()=>{t({token:f.token}),sR(n)}).catch(()=>{})}a.cachedTokenPromise.then(()=>sR(n))}(n,"INTERNAL",e),removeTokenListener:e=>NA(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Td.registerVersion)("@firebase/app-check","0.6.3")}();class BA{constructor(){return(0,Wi.vb)("app-check")}}typeof window<"u"&&window;var SL=N(9260);const _R=new d.OlP("angularfire2.auth.use-emulator"),yR=new d.OlP("angularfire2.auth.settings"),vR=new d.OlP("angularfire2.auth.tenant-id"),bR=new d.OlP("angularfire2.auth.langugage-code"),wR=new d.OlP("angularfire2.auth.use-device-language"),ER=new d.OlP("angularfire.auth.persistence"),DR=(n,e,t,i,r,a,u,f)=>(0,bi.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const _=e.runOutsideAngular(()=>n.auth());if(t&&_.useEmulator(...t),i&&(_.tenantId=i),_.languageCode=r,a&&_.useDeviceLanguage(),u)for(const[w,I]of Object.entries(u))_.settings[w]=I;return f&&_.setPersistence(f),_},[t,i,r,a,u,f]);let CR=(()=>{class n{constructor(t,i,r,a,u,f,_,w,I,x,L,j){const z=new At.x,J=qi(void 0).pipe((0,eC.Q)(u.outsideAngular),Ha(()=>a.runOutsideAngular(()=>Promise.resolve().then(N.bind(N,407)))),(0,sn.U)(()=>(0,bi.on)(t,a,i)),(0,sn.U)(be=>DR(be,a,f,w,I,x,_,L)),zk({bufferSize:1,refCount:!1}));if(Ci(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=qi(null);else{J.pipe(function O1(n,e){const t=arguments.length>=2;return i=>i.pipe(n?Ti((r,a)=>n(r,a,i)):df.y,Vs(1),t?x1(e):k1(()=>new qk))}()).subscribe();const et=J.pipe(Ha(dt=>dt.getRedirectResult().then(Pt=>Pt,()=>null)),Wi.iC,zk({bufferSize:1,refCount:!1})),yt=J.pipe(Ha(dt=>new Ii.y(Pt=>({unsubscribe:a.runOutsideAngular(()=>dt.onAuthStateChanged(Ut=>Pt.next(Ut),Ut=>Pt.error(Ut),()=>Pt.complete()))})))),gt=J.pipe(Ha(dt=>new Ii.y(Pt=>({unsubscribe:a.runOutsideAngular(()=>dt.onIdTokenChanged(Ut=>Pt.next(Ut),Ut=>Pt.error(Ut),()=>Pt.complete()))}))));this.authState=et.pipe(Wk(yt),(0,bA.R)(u.outsideAngular),(0,eC.Q)(u.insideAngular)),this.user=et.pipe(Wk(gt),(0,bA.R)(u.outsideAngular),(0,eC.Q)(u.insideAngular)),this.idToken=this.user.pipe(Ha(dt=>dt?(0,zi.D)(dt.getIdToken()):qi(null))),this.idTokenResult=this.user.pipe(Ha(dt=>dt?(0,zi.D)(dt.getIdTokenResult()):qi(null))),this.credential=(0,Cd.T)(et,z,this.authState.pipe(Ti(dt=>!dt))).pipe((0,sn.U)(dt=>dt?.user?dt:null),(0,bA.R)(u.outsideAngular),(0,eC.Q)(u.insideAngular))}return(0,bi.pX)(this,J,a,{spy:{apply:(be,et,yt)=>{(be.startsWith("signIn")||be.startsWith("createUser"))&&yt.then(gt=>z.next(gt))}}})}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(bi.Dh),d.LFG(bi.xv,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(Wi.HU),d.LFG(_R,8),d.LFG(yR,8),d.LFG(vR,8),d.LFG(bR,8),d.LFG(wR,8),d.LFG(ER,8),d.LFG(BA,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function IR(n,e){return function ML(n,e=ct.z){return new Ii.y(t=>{let i;return null!=e?e.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},t)}):i=n.onSnapshot({includeMetadataChanges:!0},t),()=>{i?.()}})}(n,e)}function UA(n,e){return IR(n,e).pipe((0,sn.U)(t=>({payload:t,type:"query"})))}function lC(n,e){return UA(n,e).pipe(lo(void 0),dy(),(0,sn.U)(([t,i])=>{const r=i.payload.docChanges(),a=r.map(u=>({type:u.type,payload:u}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((u,f)=>{const _=r.find(I=>I.doc.ref.isEqual(u.ref)),w=t?.payload.docs.find(I=>I.ref.isEqual(u.ref));_&&JSON.stringify(_.doc.metadata)===JSON.stringify(u.metadata)||!_&&w&&JSON.stringify(w.metadata)===JSON.stringify(u.metadata)||a.push({type:"modified",payload:{oldIndex:f,newIndex:f,type:"modified",doc:u}})}),a}))}function TR(n,e,t){return lC(n,t).pipe(co((i,r)=>function kL(n,e,t){return e.forEach(i=>{t.indexOf(i.type)>-1&&(n=function RL(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return jA(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return jA(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return jA(n,e.oldIndex,1)}return n}(n,i))}),n}(i,r.map(a=>a.payload),e),[]),Tm(),(0,sn.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function jA(n,e,t,...i){const r=n.slice();return r.splice(e,t,...i),r}function SR(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class AR{constructor(e,t,i){this.ref=e,this.query=t,this.afs=i}stateChanges(e){let t=lC(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,sn.U)(i=>i.filter(r=>e.indexOf(r.type)>-1)))),t.pipe(lo(void 0),dy(),Ti(([i,r])=>r.length>0||!i),(0,sn.U)(([i,r])=>r),Wi.iC)}auditTrail(e){return this.stateChanges(e).pipe(co((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=SR(e);return TR(this.query,t,this.afs.schedulers.outsideAngular).pipe(Wi.iC)}valueChanges(e={}){return UA(this.query,this.afs.schedulers.outsideAngular).pipe((0,sn.U)(t=>t.payload.docs.map(i=>e.idField?Object.assign(Object.assign({},i.data()),{[e.idField]:i.id}):i.data())),Wi.iC)}get(e){return(0,zi.D)(this.query.get(e)).pipe(Wi.iC)}add(e){return this.ref.add(e)}doc(e){return new MR(this.ref.doc(e),this.afs)}}class MR{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const i=this.ref.collection(e),{ref:r,query:a}=RR(i,t);return new AR(r,a,this.afs)}snapshotChanges(){return function xL(n,e){return IR(n,e).pipe(lo(void 0),dy(),(0,sn.U)(([t,i])=>i.exists?t?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Wi.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,sn.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,zi.D)(this.ref.get(e)).pipe(Wi.iC)}}class OL{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?lC(this.query,this.afs.schedulers.outsideAngular).pipe((0,sn.U)(t=>t.filter(i=>e.indexOf(i.type)>-1)),Ti(t=>t.length>0),Wi.iC):lC(this.query,this.afs.schedulers.outsideAngular).pipe(Wi.iC)}auditTrail(e){return this.stateChanges(e).pipe(co((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=SR(e);return TR(this.query,t,this.afs.schedulers.outsideAngular).pipe(Wi.iC)}valueChanges(e={}){return UA(this.query,this.afs.schedulers.outsideAngular).pipe((0,sn.U)(i=>i.payload.docs.map(r=>e.idField?Object.assign({[e.idField]:r.id},r.data()):r.data())),Wi.iC)}get(e){return(0,zi.D)(this.query.get(e)).pipe(Wi.iC)}}const xR=new d.OlP("angularfire2.enableFirestorePersistence"),kR=new d.OlP("angularfire2.firestore.persistenceSettings"),PL=new d.OlP("angularfire2.firestore.settings"),NL=new d.OlP("angularfire2.firestore.use-emulator");function RR(n,e=(t=>t)){return{query:e(n),ref:n}}let OR=(()=>{class n{constructor(t,i,r,a,u,f,_,w,I,x,L,j,z,J,be,et,yt){this.schedulers=_;const gt=(0,bi.on)(t,f,i),dt=I;x&&DR(gt,f,L,z,J,be,j,et),[this.firestore,this.persistenceEnabled$]=(0,bi.cc)(`${gt.name}.firestore`,"AngularFirestore",gt.name,()=>{const Pt=f.runOutsideAngular(()=>gt.firestore());if(a&&Pt.settings(a),dt&&Pt.useEmulator(...dt),r&&!Ci(u)){const Ut=()=>{try{return(0,zi.D)(Pt.enablePersistence(w||void 0).then(()=>!0,()=>!1))}catch(pn){return typeof console<"u"&&console.warn(pn),qi(!1)}};return[Pt,f.runOutsideAngular(Ut)]}return[Pt,qi(!1)]},[a,dt,r])}collection(t,i){let r;r="string"==typeof t?this.firestore.collection(t):t;const{ref:a,query:u}=RR(r,i),f=this.schedulers.ngZone.run(()=>a);return new AR(f,u,this)}collectionGroup(t,i){const r=i||(u=>u),a=this.firestore.collectionGroup(t);return new OL(r(a),this)}doc(t){let i;i="string"==typeof t?this.firestore.doc(t):t;const r=this.schedulers.ngZone.run(()=>i);return new MR(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(bi.Dh),d.LFG(bi.xv,8),d.LFG(xR,8),d.LFG(PL,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(Wi.HU),d.LFG(kR,8),d.LFG(NL,8),d.LFG(CR,8),d.LFG(_R,8),d.LFG(yR,8),d.LFG(vR,8),d.LFG(bR,8),d.LFG(wR,8),d.LFG(ER,8),d.LFG(BA,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),FL=(()=>{class n{constructor(){SL.Z.registerVersion("angularfire",Wi.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:xR,useValue:!0},{provide:kR,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[OR]}),n})();function PR(...n){const e=(0,ir.jO)(n),{args:t,keys:i}=aI(n),r=new Ii.y(a=>{const{length:u}=t;if(!u)return void a.complete();const f=new Array(u);let _=u,w=u;for(let I=0;I<u;I++){let x=!1;(0,Lr.Xf)(t[I]).subscribe((0,Ct.x)(a,L=>{x||(x=!0,w--),f[I]=L},()=>_--,void 0,()=>{(!_||!x)&&(w||a.next(i?z_(i,f):f),a.complete())}))}});return e?r.pipe(io(e)):r}let NR=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.Qsj),d.Y36(d.SBq))},n.\u0275dir=d.lG2({type:n}),n})(),Tp=(()=>{class n extends NR{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=d.n5z(n)))(i||n)}}(),n.\u0275dir=d.lG2({type:n,features:[d.qOj]}),n})();const lc=new d.OlP("NgValueAccessor"),VL={provide:lc,useExisting:(0,d.Gpc)(()=>cC),multi:!0},HL=new d.OlP("CompositionEventMode");let cC=(()=>{class n extends NR{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function BL(){const n=P()?P().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.Qsj),d.Y36(d.SBq),d.Y36(HL,8))},n.\u0275dir=d.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,i){1&t&&d.NdJ("input",function(a){return i._handleInput(a.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(a){return i._compositionEnd(a.target.value)})},features:[d._Bn([VL]),d.qOj]}),n})();function wh(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function LR(n){return null!=n&&"number"==typeof n.length}const Yr=new d.OlP("NgValidators"),Eh=new d.OlP("NgAsyncValidators"),jL=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class GL{static min(e){return function VR(n){return e=>{if(wh(e.value)||wh(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function BR(n){return e=>{if(wh(e.value)||wh(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function HR(n){return wh(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function UR(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function jR(n){return wh(n.value)||jL.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function GR(n){return e=>wh(e.value)||!LR(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function $R(n){return e=>LR(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function zR(n){if(!n)return uC;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),i=>{if(wh(i.value))return null;const r=i.value;return e.test(r)?null:{pattern:{requiredPattern:t,actualValue:r}}}}(e)}static nullValidator(e){return null}static compose(e){return QR(e)}static composeAsync(e){return XR(e)}}function uC(n){return null}function qR(n){return null!=n}function WR(n){return(0,d.QGY)(n)?(0,zi.D)(n):n}function KR(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function ZR(n,e){return e.map(t=>t(n))}function YR(n){return n.map(e=>function $L(n){return!n.validate}(e)?e:t=>e.validate(t))}function QR(n){if(!n)return null;const e=n.filter(qR);return 0==e.length?null:function(t){return KR(ZR(t,e))}}function GA(n){return null!=n?QR(YR(n)):null}function XR(n){if(!n)return null;const e=n.filter(qR);return 0==e.length?null:function(t){return PR(ZR(t,e).map(WR)).pipe((0,sn.U)(KR))}}function $A(n){return null!=n?XR(YR(n)):null}function JR(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function eO(n){return n._rawValidators}function tO(n){return n._rawAsyncValidators}function zA(n){return n?Array.isArray(n)?n:[n]:[]}function dC(n,e){return Array.isArray(n)?n.includes(e):n===e}function nO(n,e){const t=zA(e);return zA(n).forEach(r=>{dC(t,r)||t.push(r)}),t}function iO(n,e){return zA(e).filter(t=>!dC(n,t))}class rO{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=GA(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=$A(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class ms extends rO{get formDirective(){return null}get path(){return null}}class Uu extends rO{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}let oO=(()=>{class n extends class sO{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(Uu,2))},n.\u0275dir=d.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,i){2&t&&d.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[d.qOj]}),n})();const Lb="VALID",fC="INVALID",__="PENDING",Vb="DISABLED";function ZA(n){return(pC(n)?n.validators:n)||null}function lO(n){return Array.isArray(n)?GA(n):n||null}function YA(n,e){return(pC(e)?e.asyncValidators:n)||null}function cO(n){return Array.isArray(n)?$A(n):n||null}function pC(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class hO{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=lO(this._rawValidators),this._composedAsyncValidatorFn=cO(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Lb}get invalid(){return this.status===fC}get pending(){return this.status==__}get disabled(){return this.status===Vb}get enabled(){return this.status!==Vb}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=lO(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=cO(e)}addValidators(e){this.setValidators(nO(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(nO(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(iO(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(iO(e,this._rawAsyncValidators))}hasValidator(e){return dC(this._rawValidators,e)}hasAsyncValidator(e){return dC(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=__,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Vb,this.errors=null,this._forEachChild(i=>{i.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Lb,this._forEachChild(i=>{i.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Lb||this.status===__)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Vb:Lb}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=__,this._hasOwnPendingAsyncValidator=!0;const t=WR(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new d.vpe,this.statusChanges=new d.vpe}_calculateStatus(){return this._allControlsDisabled()?Vb:this.errors?fC:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(__)?__:this._anyControlsHaveStatus(fC)?fC:Lb}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){pC(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}}class QA extends hO{constructor(e,t,i){super(ZA(t),YA(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function dO(n,e,t){n._forEachChild((i,r)=>{if(void 0===t[r])throw new d.vHH(1002,"")})})(this,0,e),Object.keys(e).forEach(i=>{(function uO(n,e,t){const i=n.controls;if(!(e?Object.keys(i):i).length)throw new d.vHH(1e3,"");if(!i[t])throw new d.vHH(1001,"")})(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(i=>{const r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>!!i._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,i]of Object.entries(this.controls))if(this.contains(t)&&e(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,i,r)=>((i.enabled||this.disabled)&&(t[r]=i.value),t))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,a)=>{i=t(i,r,a)}),i}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}function Bb(n,e){XA(n,e),e.valueAccessor.writeValue(n.value),n.disabled&&e.valueAccessor.setDisabledState?.(!0),function eV(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&fO(n,e)})}(n,e),function nV(n,e){const t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function tV(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&fO(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function JL(n,e){if(e.valueAccessor.setDisabledState){const t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function gC(n,e,t=!0){const i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),yC(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function _C(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function XA(n,e){const t=eO(n);null!==e.validator?n.setValidators(JR(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const i=tO(n);null!==e.asyncValidator?n.setAsyncValidators(JR(i,e.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();_C(e._rawValidators,r),_C(e._rawAsyncValidators,r)}function yC(n,e){let t=!1;if(null!==n){if(null!==e.validator){const r=eO(n);if(Array.isArray(r)&&r.length>0){const a=r.filter(u=>u!==e.validator);a.length!==r.length&&(t=!0,n.setValidators(a))}}if(null!==e.asyncValidator){const r=tO(n);if(Array.isArray(r)&&r.length>0){const a=r.filter(u=>u!==e.asyncValidator);a.length!==r.length&&(t=!0,n.setAsyncValidators(a))}}}const i=()=>{};return _C(e._rawValidators,i),_C(e._rawAsyncValidators,i),t}function fO(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function pO(n,e){XA(n,e)}function gO(n,e){n._syncPendingControls(),e.forEach(t=>{const i=t.control;"submit"===i.updateOn&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}const aV={provide:ms,useExisting:(0,d.Gpc)(()=>vC)},Hb=(()=>Promise.resolve())();let vC=(()=>{class n extends ms{constructor(t,i){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new d.vpe,this.form=new QA({},GA(t),$A(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Hb.then(()=>{const i=this._findContainer(t.path);t.control=i.registerControl(t.name,t.control),Bb(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Hb.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Hb.then(()=>{const i=this._findContainer(t.path),r=new QA({});pO(r,t),i.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Hb.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,i){Hb.then(()=>{this.form.get(t.path).setValue(i)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,gO(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(Yr,10),d.Y36(Eh,10))},n.\u0275dir=d.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,i){1&t&&d.NdJ("submit",function(a){return i.onSubmit(a)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[d._Bn([aV]),d.qOj]}),n})();function _O(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function yO(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const vO=class extends hO{constructor(e=null,t,i){super(ZA(t),YA(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),pC(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=yO(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){_O(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){_O(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){yO(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},uV={provide:Uu,useExisting:(0,d.Gpc)(()=>tM)},EO=(()=>Promise.resolve())();let tM=(()=>{class n extends Uu{constructor(t,i,r,a,u){super(),this._changeDetectorRef=u,this.control=new vO,this._registered=!1,this.update=new d.vpe,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function eM(n,e){if(!e)return null;let t,i,r;return Array.isArray(e),e.forEach(a=>{a.constructor===cC?t=a:function sV(n){return Object.getPrototypeOf(n.constructor)===Tp}(a)?i=a:r=a}),r||i||t||null}(0,a)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function JA(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Bb(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){EO.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const i=t.isDisabled.currentValue,r=0!==i&&(0,d.D6c)(i);EO.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function mC(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(ms,9),d.Y36(Yr,10),d.Y36(Eh,10),d.Y36(lc,10),d.Y36(d.sBO,8))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[d._Bn([uV]),d.qOj,d.TTD]}),n})(),CO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})();const _V={provide:ms,useExisting:(0,d.Gpc)(()=>bC)};let bC=(()=>{class n extends ms{constructor(t,i){super(),this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new d.vpe,this._setValidators(t),this._setAsyncValidators(i)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(yC(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const i=this.form.get(t.path);return Bb(i,t),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),i}getControl(t){return this.form.get(t.path)}removeControl(t){gC(t.control||null,t,!1),function oV(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,i){this.form.get(t.path).setValue(i)}onSubmit(t){return this.submitted=!0,gO(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const i=t.control,r=this.form.get(t.path);i!==r&&(gC(i||null,t),(n=>n instanceof vO)(r)&&(Bb(r,t),t.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const i=this.form.get(t.path);pO(i,t),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const i=this.form.get(t.path);i&&function iV(n,e){return yC(n,e)}(i,t)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){XA(this.form,this),this._oldForm&&yC(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(Yr,10),d.Y36(Eh,10))},n.\u0275dir=d.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,i){1&t&&d.NdJ("submit",function(a){return i.onSubmit(a)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[d._Bn([_V]),d.qOj,d.TTD]}),n})(),NV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[CO]}),n})(),FV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[NV]}),n})();const BV=new d.OlP("mat-sanity-checks",{providedIn:"root",factory:function VV(){return!0}});let gs=(()=>{class n{constructor(t,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!Gh()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Zw),d.LFG(BV,8),d.LFG(ne))},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[hd,hd]}),n})();function HV(n){return class extends n{constructor(...e){super(...e),this._disabled=!1}get disabled(){return this._disabled}set disabled(e){this._disabled=Bi(e)}}}function wC(n,e){return class extends n{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const i=t||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}}}function UV(n){return class extends n{constructor(...e){super(...e),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=Bi(e)}}}function jV(n){return class extends n{constructor(...e){super(...e),this.errorState=!1}updateErrorState(){const e=this.errorState,a=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);a!==e&&(this.errorState=a,this.stateChanges.next())}}}let $O=(()=>{class n{isErrorState(t,i){return!!(t&&t.invalid&&(t.touched||i&&i.submitted))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class $V{constructor(e,t,i,r=!1){this._renderer=e,this.element=t,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const zO={enterDuration:225,exitDuration:150},aM=La({passive:!0}),qO=["mousedown","touchstart"],WO=["mouseup","mouseleave","touchend","touchcancel"];class qV{constructor(e,t,i,r){this._target=e,this._ngZone=t,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=tn(i))}fadeInRipple(e,t,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),a={...zO,...i.animation};i.centered&&(e=r.left+r.width/2,t=r.top+r.height/2);const u=i.radius||function WV(n,e,t){const i=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),r=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(i*i+r*r)}(e,t,r),f=e-r.left,_=t-r.top,w=a.enterDuration,I=document.createElement("div");I.classList.add("mat-ripple-element"),I.style.left=f-u+"px",I.style.top=_-u+"px",I.style.height=2*u+"px",I.style.width=2*u+"px",null!=i.color&&(I.style.backgroundColor=i.color),I.style.transitionDuration=`${w}ms`,this._containerElement.appendChild(I);const x=window.getComputedStyle(I),j=x.transitionDuration,z="none"===x.transitionProperty||"0s"===j||"0s, 0s"===j,J=new $V(this,I,i,z);I.style.transform="scale3d(1, 1, 1)",J.state=0,i.persistent||(this._mostRecentTransientRipple=J);let be=null;return!z&&(w||a.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const et=()=>this._finishRippleTransition(J),yt=()=>this._destroyRipple(J);I.addEventListener("transitionend",et),I.addEventListener("transitioncancel",yt),be={onTransitionEnd:et,onTransitionCancel:yt}}),this._activeRipples.set(J,be),(z||!w)&&this._finishRippleTransition(J),J}fadeOutRipple(e){if(2===e.state||3===e.state)return;const t=e.element,i={...zO,...e.config.animation};t.style.transitionDuration=`${i.exitDuration}ms`,t.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=tn(e);!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,this._registerEvents(qO))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(WO),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){0===e.state?this._startFadeOutTransition(e):2===e.state&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:i}=e.config;e.state=1,!i&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,null!==t&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel)),e.element.remove()}_onMousedown(e){const t=Xc(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!Y_(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let i=0;i<t.length;i++)this.fadeInRipple(t[i].clientX,t[i].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_registerEvents(e){this._ngZone.runOutsideAngular(()=>{e.forEach(t=>{this._triggerElement.addEventListener(t,this,aM)})})}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){this._triggerElement&&(qO.forEach(e=>{this._triggerElement.removeEventListener(e,this,aM)}),this._pointerUpEventsRegistered&&WO.forEach(e=>{this._triggerElement.removeEventListener(e,this,aM)}))}}const KV=new d.OlP("mat-ripple-global-options");let KO=(()=>{class n{constructor(t,i,r,a,u){this._elementRef=t,this._animationMode=u,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=a||{},this._rippleRenderer=new qV(this,i,t,r)}get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,i=0,r){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...t})}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(d.R0b),d.Y36(_n),d.Y36(KV,8),d.Y36(d.QbO,8))},n.\u0275dir=d.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,i){2&t&&d.ekj("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),ZV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[gs,gs]}),n})();const YV=["mat-button",""],QV=["*"],JV=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],eB=wC(HV(UV(class{constructor(n){this._elementRef=n}})));let ZO=(()=>{class n extends eB{constructor(t,i,r){super(t),this._focusMonitor=i,this._animationMode=r,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const a of JV)this._hasHostAttributes(a)&&this._getHostElement().classList.add(a);t.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t,i){t?this._focusMonitor.focusVia(this._getHostElement(),t,i):this._getHostElement().focus(i)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(i=>this._getHostElement().hasAttribute(i))}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(vf),d.Y36(d.QbO,8))},n.\u0275cmp=d.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,i){if(1&t&&d.Gf(KO,5),2&t){let r;d.iGM(r=d.CRH())&&(i.ripple=r.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(t,i){2&t&&(d.uIk("disabled",i.disabled||null),d.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-button-disabled",i.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[d.qOj],attrs:YV,ngContentSelectors:QV,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,i){1&t&&(d.F$t(),d.TgZ(0,"span",0),d.Hsn(1),d.qZA(),d._UZ(2,"span",1)(3,"span",2)),2&t&&(d.xp6(2),d.ekj("mat-button-ripple-round",i.isRoundButton||i.isIconButton),d.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",i.isIconButton)("matRippleTrigger",i._getHostElement()))},dependencies:[KO],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}.mat-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.mat-flat-button::before,.mat-raised-button::before,.mat-fab::before,.mat-mini-fab::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-stroked-button::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),tB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[ZV,gs,gs]}),n})();const nB=["*",[["mat-card-footer"]]],iB=["*","mat-card-footer"];let YO=(()=>{class n{constructor(t){this._animationMode=t}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.QbO,8))},n.\u0275cmp=d.Xpm({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(t,i){2&t&&d.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)},exportAs:["matCard"],ngContentSelectors:iB,decls:2,vars:0,template:function(t,i){1&t&&(d.F$t(nB),d.Hsn(0),d.Hsn(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}.mat-card._mat-animation-noopable{transition:none !important;animation:none !important}.mat-card>.mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card>.mat-divider-horizontal{left:auto;right:0}.mat-card>.mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card>.mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px;display:block;overflow:hidden}.mat-card-image img{width:100%}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}"],encapsulation:2,changeDetection:0}),n})(),rB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[gs,gs]}),n})();class lM{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class cM extends lM{constructor(e,t,i,r){super(),this.component=e,this.viewContainerRef=t,this.injector=i,this.componentFactoryResolver=r}}class QO extends lM{constructor(e,t,i,r){super(),this.templateRef=e,this.viewContainerRef=t,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class sB extends lM{constructor(e){super(),this.element=e instanceof d.SBq?e.nativeElement:e}}class uM{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof cM?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof QO?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof sB?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class oB extends uM{constructor(e,t,i,r,a){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=u=>{const f=u.element,_=this._document.createComment("dom-portal");f.parentNode.insertBefore(_,f),this.outletElement.appendChild(f),this._attachedPortal=u,super.setDisposeFn(()=>{_.parentNode&&_.parentNode.replaceChild(f,_)})},this._document=a}attachComponentPortal(e){const i=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let r;return e.viewContainerRef?(r=e.viewContainerRef.createComponent(i,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector),this.setDisposeFn(()=>r.destroy())):(r=i.create(e.injector||this._defaultInjector||d.zs3.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=e,r}attachTemplatePortal(e){let t=e.viewContainerRef,i=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=t.indexOf(i);-1!==r&&t.remove(r)}),this._attachedPortal=e,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let dM=(()=>{class n extends uM{constructor(t,i,r){super(),this._componentFactoryResolver=t,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new d.vpe,this.attachDomPortal=a=>{const u=a.element,f=this._document.createComment("dom-portal");a.setAttachedHost(this),u.parentNode.insertBefore(f,u),this._getRootNode().appendChild(u),this._attachedPortal=a,super.setDisposeFn(()=>{f.parentNode&&f.parentNode.replaceChild(u,f)})},this._document=r}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(t){t.setAttachedHost(this);const i=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,a=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),u=i.createComponent(a,i.length,t.injector||i.injector);return i!==this._viewContainerRef&&this._getRootNode().appendChild(u.hostView.rootNodes[0]),super.setDisposeFn(()=>u.destroy()),this._attachedPortal=t,this._attachedRef=u,this.attached.emit(u),u}attachTemplatePortal(t){t.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d._Vd),d.Y36(d.s_b),d.Y36(ne))},n.\u0275dir=d.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[d.qOj]}),n})(),EC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})();const XO=qc();class aB{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=en(-this._previousScrollPosition.left),e.style.top=en(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,i=e.style,r=this._document.body.style,a=i.scrollBehavior||"",u=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),XO&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),XO&&(i.scrollBehavior=a,r.scrollBehavior=u)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,i=this._viewportRuler.getViewportSize();return t.scrollHeight>i.height||t.scrollWidth>i.width}}class lB{constructor(e,t,i,r){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class JO{enable(){}disable(){}attach(){}}function hM(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function eP(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class cB{constructor(e,t,i,r){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();hM(t,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let uB=(()=>{class n{constructor(t,i,r,a){this._scrollDispatcher=t,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new JO,this.close=u=>new lB(this._scrollDispatcher,this._ngZone,this._viewportRuler,u),this.block=()=>new aB(this._viewportRuler,this._document),this.reposition=u=>new cB(this._scrollDispatcher,this._viewportRuler,this._ngZone,u),this._document=a}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Kc),d.LFG(Wh),d.LFG(d.R0b),d.LFG(ne))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class tP{constructor(e){if(this.scrollStrategy=new JO,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const i of t)void 0!==e[i]&&(this[i]=e[i])}}}class dB{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let nP=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const i=this._attachedOverlays.indexOf(t);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ne))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),hB=(()=>{class n extends nP{constructor(t,i){super(t),this._ngZone=i,this._keydownListener=r=>{const a=this._attachedOverlays;for(let u=a.length-1;u>-1;u--)if(a[u]._keydownEvents.observers.length>0){const f=a[u]._keydownEvents;this._ngZone?this._ngZone.run(()=>f.next(r)):f.next(r);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ne),d.LFG(d.R0b,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),fB=(()=>{class n extends nP{constructor(t,i,r){super(t),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=a=>{this._pointerDownEventTarget=os(a)},this._clickListener=a=>{const u=os(a),f="click"===a.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:u;this._pointerDownEventTarget=null;const _=this._attachedOverlays.slice();for(let w=_.length-1;w>-1;w--){const I=_[w];if(I._outsidePointerEvents.observers.length<1||!I.hasAttached())continue;if(I.overlayElement.contains(u)||I.overlayElement.contains(f))break;const x=I._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>x.next(a)):x.next(a)}}}add(t){if(super.add(t),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ne),d.LFG(_n),d.LFG(d.R0b,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),DC=(()=>{class n{constructor(t,i){this._platform=i,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||Gh()){const r=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let a=0;a<r.length;a++)r[a].remove()}const i=this._document.createElement("div");i.classList.add(t),Gh()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ne),d.LFG(_n))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class jb{constructor(e,t,i,r,a,u,f,_,w,I=!1){this._portalOutlet=e,this._host=t,this._pane=i,this._config=r,this._ngZone=a,this._keyboardDispatcher=u,this._document=f,this._location=_,this._outsideClickDispatcher=w,this._animationsDisabled=I,this._backdropElement=null,this._backdropClick=new At.x,this._attachments=new At.x,this._detachments=new At.x,this._locationChanges=li.w0.EMPTY,this._backdropClickHandler=x=>this._backdropClick.next(x),this._backdropTransitionendHandler=x=>{this._disposeBackdrop(x.target)},this._keydownEvents=new At.x,this._outsidePointerEvents=new At.x,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Vs(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof t?.onDestroy&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config={...this._config,...e},this._updateElementSize()}setDirection(e){this._config={...this._config,direction:e},this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=en(this._config.width),e.height=en(this._config.height),e.minWidth=en(this._config.minWidth),e.minHeight=en(this._config.minHeight),e.maxWidth=en(this._config.maxWidth),e.maxHeight=en(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(e){if(this._animationsDisabled)return void this._disposeBackdrop(e);e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,t,i){const r=Os(t||[]).filter(a=>!!a);r.length&&(i?e.classList.add(...r):e.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(Go((0,Cd.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const iP="cdk-overlay-connected-position-bounding-box",pB=/([A-Za-z%]+)$/;class mB{constructor(e,t,i,r,a){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=a,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new At.x,this._resizeSubscription=li.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}get positions(){return this._preferredPositions}attach(e){this._validatePositions(),e.hostElement.classList.add(iP),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,i=this._viewportRect,r=this._containerRect,a=[];let u;for(let f of this._preferredPositions){let _=this._getOriginPoint(e,r,f),w=this._getOverlayPoint(_,t,f),I=this._getOverlayFit(w,t,i,f);if(I.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(f,_);this._canFitWithFlexibleDimensions(I,w,i)?a.push({position:f,origin:_,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(_,f)}):(!u||u.overlayFit.visibleArea<I.visibleArea)&&(u={overlayFit:I,overlayPoint:w,originPoint:_,position:f,overlayRect:t})}if(a.length){let f=null,_=-1;for(const w of a){const I=w.boundingBoxRect.width*w.boundingBoxRect.height*(w.position.weight||1);I>_&&(_=I,f=w)}return this._isPushed=!1,void this._applyPosition(f.position,f.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(u.position,u.originPoint);this._applyPosition(u.position,u.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Ap(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(iP),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,i){let r,a;if("center"==i.originX)r=e.left+e.width/2;else{const u=this._isRtl()?e.right:e.left,f=this._isRtl()?e.left:e.right;r="start"==i.originX?u:f}return t.left<0&&(r-=t.left),a="center"==i.originY?e.top+e.height/2:"top"==i.originY?e.top:e.bottom,t.top<0&&(a-=t.top),{x:r,y:a}}_getOverlayPoint(e,t,i){let r,a;return r="center"==i.overlayX?-t.width/2:"start"===i.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,a="center"==i.overlayY?-t.height/2:"top"==i.overlayY?0:-t.height,{x:e.x+r,y:e.y+a}}_getOverlayFit(e,t,i,r){const a=sP(t);let{x:u,y:f}=e,_=this._getOffset(r,"x"),w=this._getOffset(r,"y");_&&(u+=_),w&&(f+=w);let L=0-f,j=f+a.height-i.height,z=this._subtractOverflows(a.width,0-u,u+a.width-i.width),J=this._subtractOverflows(a.height,L,j),be=z*J;return{visibleArea:be,isCompletelyWithinViewport:a.width*a.height===be,fitsInViewportVertically:J===a.height,fitsInViewportHorizontally:z==a.width}}_canFitWithFlexibleDimensions(e,t,i){if(this._hasFlexibleDimensions){const r=i.bottom-t.y,a=i.right-t.x,u=rP(this._overlayRef.getConfig().minHeight),f=rP(this._overlayRef.getConfig().minWidth),w=e.fitsInViewportHorizontally||null!=f&&f<=a;return(e.fitsInViewportVertically||null!=u&&u<=r)&&w}return!1}_pushOverlayOnScreen(e,t,i){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const r=sP(t),a=this._viewportRect,u=Math.max(e.x+r.width-a.width,0),f=Math.max(e.y+r.height-a.height,0),_=Math.max(a.top-i.top-e.y,0),w=Math.max(a.left-i.left-e.x,0);let I=0,x=0;return I=r.width<=a.width?w||-u:e.x<this._viewportMargin?a.left-i.left-e.x:0,x=r.height<=a.height?_||-f:e.y<this._viewportMargin?a.top-i.top-e.y:0,this._previousPushAmount={x:I,y:x},{x:e.x+I,y:e.y+x}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new dB(e,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=e.overlayY;i="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let a=0;a<t.length;a++)t[a].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(e,t){const i=this._viewportRect,r=this._isRtl();let a,u,f,I,x,L;if("top"===t.overlayY)u=e.y,a=i.height-u+this._viewportMargin;else if("bottom"===t.overlayY)f=i.height-e.y+2*this._viewportMargin,a=i.height-f+this._viewportMargin;else{const j=Math.min(i.bottom-e.y+i.top,e.y),z=this._lastBoundingBoxSize.height;a=2*j,u=e.y-j,a>z&&!this._isInitialRender&&!this._growAfterOpen&&(u=e.y-z/2)}if("end"===t.overlayX&&!r||"start"===t.overlayX&&r)L=i.width-e.x+this._viewportMargin,I=e.x-this._viewportMargin;else if("start"===t.overlayX&&!r||"end"===t.overlayX&&r)x=e.x,I=i.right-e.x;else{const j=Math.min(i.right-e.x+i.left,e.x),z=this._lastBoundingBoxSize.width;I=2*j,x=e.x-j,I>z&&!this._isInitialRender&&!this._growAfterOpen&&(x=e.x-z/2)}return{top:u,left:x,bottom:f,right:L,width:I,height:a}}_setBoundingBoxStyles(e,t){const i=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const a=this._overlayRef.getConfig().maxHeight,u=this._overlayRef.getConfig().maxWidth;r.height=en(i.height),r.top=en(i.top),r.bottom=en(i.bottom),r.width=en(i.width),r.left=en(i.left),r.right=en(i.right),r.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",r.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",a&&(r.maxHeight=en(a)),u&&(r.maxWidth=en(u))}this._lastBoundingBoxSize=i,Ap(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Ap(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Ap(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const i={},r=this._hasExactPosition(),a=this._hasFlexibleDimensions,u=this._overlayRef.getConfig();if(r){const I=this._viewportRuler.getViewportScrollPosition();Ap(i,this._getExactOverlayY(t,e,I)),Ap(i,this._getExactOverlayX(t,e,I))}else i.position="static";let f="",_=this._getOffset(t,"x"),w=this._getOffset(t,"y");_&&(f+=`translateX(${_}px) `),w&&(f+=`translateY(${w}px)`),i.transform=f.trim(),u.maxHeight&&(r?i.maxHeight=en(u.maxHeight):a&&(i.maxHeight="")),u.maxWidth&&(r?i.maxWidth=en(u.maxWidth):a&&(i.maxWidth="")),Ap(this._pane.style,i)}_getExactOverlayY(e,t,i){let r={top:"",bottom:""},a=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(a=this._pushOverlayOnScreen(a,this._overlayRect,i)),"bottom"===e.overlayY?r.bottom=this._document.documentElement.clientHeight-(a.y+this._overlayRect.height)+"px":r.top=en(a.y),r}_getExactOverlayX(e,t,i){let u,r={left:"",right:""},a=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(a=this._pushOverlayOnScreen(a,this._overlayRect,i)),u=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===u?r.right=this._document.documentElement.clientWidth-(a.x+this._overlayRect.width)+"px":r.left=en(a.x),r}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:eP(e,i),isOriginOutsideView:hM(e,i),isOverlayClipped:eP(t,i),isOverlayOutsideView:hM(t,i)}}_subtractOverflows(e,...t){return t.reduce((i,r)=>i-Math.max(r,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+e-this._viewportMargin,bottom:i.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?e.offsetX??this._offsetX:e.offsetY??this._offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&Os(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof d.SBq)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,i=e.height||0;return{top:e.y,bottom:e.y+i,left:e.x,right:e.x+t,height:i,width:t}}}function Ap(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function rP(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(pB);return t&&"px"!==t?null:parseFloat(e)}return n||null}function sP(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const oP="cdk-global-overlay-wrapper";class gB{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(oP),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:a,maxWidth:u,maxHeight:f}=i,_=!("100%"!==r&&"100vw"!==r||u&&"100%"!==u&&"100vw"!==u),w=!("100%"!==a&&"100vh"!==a||f&&"100%"!==f&&"100vh"!==f),I=this._xPosition,x=this._xOffset,L="rtl"===this._overlayRef.getConfig().direction;let j="",z="",J="";_?J="flex-start":"center"===I?(J="center",L?z=x:j=x):L?"left"===I||"end"===I?(J="flex-end",j=x):("right"===I||"start"===I)&&(J="flex-start",z=x):"left"===I||"start"===I?(J="flex-start",j=x):("right"===I||"end"===I)&&(J="flex-end",z=x),e.position=this._cssPosition,e.marginLeft=_?"0":j,e.marginTop=w?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=_?"0":z,t.justifyContent=J,t.alignItems=w?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,i=t.style;t.classList.remove(oP),i.justifyContent=i.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let _B=(()=>{class n{constructor(t,i,r,a){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=a}global(){return new gB}flexibleConnectedTo(t){return new mB(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Wh),d.LFG(ne),d.LFG(_n),d.LFG(DC))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),yB=0,y_=(()=>{class n{constructor(t,i,r,a,u,f,_,w,I,x,L,j){this.scrollStrategies=t,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=a,this._keyboardDispatcher=u,this._injector=f,this._ngZone=_,this._document=w,this._directionality=I,this._location=x,this._outsideClickDispatcher=L,this._animationsModuleType=j}create(t){const i=this._createHostElement(),r=this._createPaneElement(i),a=this._createPortalOutlet(r),u=new tP(t);return u.direction=u.direction||this._directionality.value,new jb(a,i,r,u,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(t){const i=this._document.createElement("div");return i.id="cdk-overlay-"+yB++,i.classList.add("cdk-overlay-pane"),t.appendChild(i),i}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(d.z2F)),new oB(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(uB),d.LFG(DC),d.LFG(d._Vd),d.LFG(_B),d.LFG(hB),d.LFG(d.zs3),d.LFG(d.R0b),d.LFG(ne),d.LFG(Wc),d.LFG(De),d.LFG(fB),d.LFG(d.QbO,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const wB={provide:new d.OlP("cdk-connected-overlay-scroll-strategy"),deps:[y_],useFactory:function bB(n){return()=>n.scrollStrategies.reposition()}};let aP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[y_,wB],imports:[hd,EC,fd,fd]}),n})();function lP(n){return new Ii.y(e=>{(0,Lr.Xf)(n()).subscribe(e)})}function EB(n,e){}class CC{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0}}let cP=(()=>{class n extends uM{constructor(t,i,r,a,u,f,_,w){super(),this._elementRef=t,this._focusTrapFactory=i,this._config=a,this._interactivityChecker=u,this._ngZone=f,this._overlayRef=_,this._focusMonitor=w,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=I=>{this._portalOutlet.hasAttached();const x=this._portalOutlet.attachDomPortal(I);return this._contentAttached(),x},this._ariaLabelledBy=this._config.ariaLabelledBy||null,this._document=r}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(t){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachComponentPortal(t);return this._contentAttached(),i}attachTemplatePortal(t){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachTemplatePortal(t);return this._contentAttached(),i}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(t,i){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{t.removeEventListener("blur",r),t.removeEventListener("mousedown",r),t.removeAttribute("tabindex")};t.addEventListener("blur",r),t.addEventListener("mousedown",r)})),t.focus(i)}_focusByCssSelector(t,i){let r=this._elementRef.nativeElement.querySelector(t);r&&this._forceFocus(r,i)}_trapFocus(){const t=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||t.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{i||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const t=this._config.restoreFocus;let i=null;if("string"==typeof t?i=this._document.querySelector(t):"boolean"==typeof t?i=t?this._elementFocusedBeforeDialogWasOpened:null:t&&(i=t),this._config.restoreFocus&&i&&"function"==typeof i.focus){const r=Yp(),a=this._elementRef.nativeElement;(!r||r===this._document.body||r===a||a.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(i,this._closeInteractionType),this._closeInteractionType=null):i.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const t=this._elementRef.nativeElement,i=Yp();return t===i||t.contains(i)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=Yp())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(Z_),d.Y36(ne,8),d.Y36(CC),d.Y36(_f),d.Y36(d.R0b),d.Y36(jb),d.Y36(vf))},n.\u0275cmp=d.Xpm({type:n,selectors:[["cdk-dialog-container"]],viewQuery:function(t,i){if(1&t&&d.Gf(dM,7),2&t){let r;d.iGM(r=d.CRH())&&(i._portalOutlet=r.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(t,i){2&t&&d.uIk("id",i._config.id||null)("role",i._config.role)("aria-modal",i._config.ariaModal)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null)},features:[d.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,i){1&t&&d.YNc(0,EB,0,0,"ng-template",0)},dependencies:[dM],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2}),n})();class fM{constructor(e,t){this.overlayRef=e,this.config=t,this.closed=new At.x,this.disableClose=t.disableClose,this.backdropClick=e.backdropClick(),this.keydownEvents=e.keydownEvents(),this.outsidePointerEvents=e.outsidePointerEvents(),this.id=t.id,this.keydownEvents.subscribe(i=>{27===i.keyCode&&!this.disableClose&&!Sw(i)&&(i.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})})}close(e,t){if(this.containerInstance){const i=this.closed;this.containerInstance._closeInteractionType=t?.focusOrigin||"program",this.overlayRef.dispose(),i.next(e),i.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(e="",t=""){return this.overlayRef.updateSize({width:e,height:t}),this}addPanelClass(e){return this.overlayRef.addPanelClass(e),this}removePanelClass(e){return this.overlayRef.removePanelClass(e),this}}const uP=new d.OlP("DialogScrollStrategy"),DB=new d.OlP("DialogData"),CB=new d.OlP("DefaultDialogConfig"),TB={provide:uP,deps:[y_],useFactory:function IB(n){return()=>n.scrollStrategies.block()}};let SB=0,dP=(()=>{class n{constructor(t,i,r,a,u,f){this._overlay=t,this._injector=i,this._defaultOptions=r,this._parentDialog=a,this._overlayContainer=u,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new At.x,this._afterOpenedAtThisLevel=new At.x,this._ariaHiddenElements=new Map,this.afterAllClosed=lP(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(lo(void 0))),this._scrollStrategy=f}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}open(t,i){(i={...this._defaultOptions||new CC,...i}).id=i.id||"cdk-dialog-"+SB++,i.id&&this.getDialogById(i.id);const a=this._getOverlayConfig(i),u=this._overlay.create(a),f=new fM(u,i),_=this._attachContainer(u,f,i);return f.containerInstance=_,this._attachDialogContent(t,f,_,i),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(f),f.closed.subscribe(()=>this._removeOpenDialog(f,!0)),this.afterOpened.next(f),f}closeAll(){pM(this.openDialogs,t=>t.close())}getDialogById(t){return this.openDialogs.find(i=>i.id===t)}ngOnDestroy(){pM(this._openDialogsAtThisLevel,t=>{!1===t.config.closeOnDestroy&&this._removeOpenDialog(t,!1)}),pM(this._openDialogsAtThisLevel,t=>t.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(t){const i=new tP({positionStrategy:t.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,width:t.width,height:t.height,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(i.backdropClass=t.backdropClass),i}_attachContainer(t,i,r){const a=r.injector||r.viewContainerRef?.injector,u=[{provide:CC,useValue:r},{provide:fM,useValue:i},{provide:jb,useValue:t}];let f;r.container?"function"==typeof r.container?f=r.container:(f=r.container.type,u.push(...r.container.providers(r))):f=cP;const _=new cM(f,r.viewContainerRef,d.zs3.create({parent:a||this._injector,providers:u}),r.componentFactoryResolver);return t.attach(_).instance}_attachDialogContent(t,i,r,a){if(t instanceof d.Rgc){const u=this._createInjector(a,i,r,void 0);let f={$implicit:a.data,dialogRef:i};a.templateContext&&(f={...f,..."function"==typeof a.templateContext?a.templateContext():a.templateContext}),r.attachTemplatePortal(new QO(t,null,f,u))}else{const u=this._createInjector(a,i,r,this._injector),f=r.attachComponentPortal(new cM(t,a.viewContainerRef,u,a.componentFactoryResolver));i.componentInstance=f.instance}}_createInjector(t,i,r,a){const u=t.injector||t.viewContainerRef?.injector,f=[{provide:DB,useValue:t.data},{provide:fM,useValue:i}];return t.providers&&("function"==typeof t.providers?f.push(...t.providers(i,t,r)):f.push(...t.providers)),t.direction&&(!u||!u.get(Wc,null,d.XFs.Optional))&&f.push({provide:Wc,useValue:{value:t.direction,change:qi()}}),d.zs3.create({parent:u||a,providers:f})}_removeOpenDialog(t,i){const r=this.openDialogs.indexOf(t);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((a,u)=>{a?u.setAttribute("aria-hidden",a):u.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),i&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const i=t.parentElement.children;for(let r=i.length-1;r>-1;r--){const a=i[r];a!==t&&"SCRIPT"!==a.nodeName&&"STYLE"!==a.nodeName&&!a.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(a,a.getAttribute("aria-hidden")),a.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(y_),d.LFG(d.zs3),d.LFG(CB,8),d.LFG(n,12),d.LFG(DC),d.LFG(uP))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();function pM(n,e){let t=n.length;for(;t--;)e(n[t])}let AB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[dP,TB],imports:[aP,EC,Yw,EC]}),n})();class hP{}const ju="*";function fP(n,e){return{type:7,name:n,definitions:e,options:{}}}function mM(n,e=null){return{type:4,styles:e,timings:n}}function pP(n,e=null){return{type:3,steps:n,options:e}}function mP(n,e=null){return{type:2,steps:n,options:e}}function Dh(n){return{type:6,styles:n,offset:null}}function gM(n,e,t){return{type:0,name:n,styles:e,options:t}}function _M(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function gP(n=null){return{type:9,options:n}}function _P(n,e,t=null){return{type:11,selector:n,animation:e,options:t}}function yP(n){Promise.resolve().then(n)}class Gb{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){yP(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class vP{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0;const a=this.players.length;0==a?yP(()=>this._onFinish()):this.players.forEach(u=>{u.onDone(()=>{++t==a&&this._onFinish()}),u.onDestroy(()=>{++i==a&&this._onDestroy()}),u.onStart(()=>{++r==a&&this._onStart()})}),this.totalTime=this.players.reduce((u,f)=>Math.max(u,f.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}function xB(n,e){}const v_={params:{enterAnimationDuration:"150ms",exitAnimationDuration:"75ms"}},kB={dialogContainer:fP("dialogContainer",[gM("void, exit",Dh({opacity:0,transform:"scale(0.7)"})),gM("enter",Dh({transform:"none"})),_M("* => enter",pP([mM("{{enterAnimationDuration}} cubic-bezier(0, 0, 0.2, 1)",Dh({transform:"none",opacity:1})),_P("@*",gP(),{optional:!0})]),v_),_M("* => void, * => exit",pP([mM("{{exitAnimationDuration}} cubic-bezier(0.4, 0.0, 0.2, 1)",Dh({opacity:0})),_P("@*",gP(),{optional:!0})]),v_)])};class IC{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0,this.enterAnimationDuration=v_.params.enterAnimationDuration,this.exitAnimationDuration=v_.params.exitAnimationDuration}}let RB=(()=>{class n extends cP{constructor(t,i,r,a,u,f,_,w){super(t,i,r,a,u,f,_,w),this._animationStateChanged=new d.vpe}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(t){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:t})}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(Z_),d.Y36(ne,8),d.Y36(IC),d.Y36(_f),d.Y36(d.R0b),d.Y36(jb),d.Y36(vf))},n.\u0275cmp=d.Xpm({type:n,selectors:[["ng-component"]],features:[d.qOj],decls:0,vars:0,template:function(t,i){},encapsulation:2}),n})(),OB=(()=>{class n extends RB{constructor(t,i,r,a,u,f,_,w,I){super(t,i,r,a,u,f,_,I),this._changeDetectorRef=w,this._state="enter"}_onAnimationDone({toState:t,totalTime:i}){"enter"===t?this._openAnimationDone(i):"exit"===t&&this._animationStateChanged.next({state:"closed",totalTime:i})}_onAnimationStart({toState:t,totalTime:i}){"enter"===t?this._animationStateChanged.next({state:"opening",totalTime:i}):("exit"===t||"void"===t)&&this._animationStateChanged.next({state:"closing",totalTime:i})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}_getAnimationState(){return{value:this._state,params:{enterAnimationDuration:this._config.enterAnimationDuration||v_.params.enterAnimationDuration,exitAnimationDuration:this._config.exitAnimationDuration||v_.params.exitAnimationDuration}}}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(Z_),d.Y36(ne,8),d.Y36(IC),d.Y36(_f),d.Y36(d.R0b),d.Y36(jb),d.Y36(d.sBO),d.Y36(vf))},n.\u0275cmp=d.Xpm({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-dialog-container"],hostVars:7,hostBindings:function(t,i){1&t&&d.WFA("@dialogContainer.start",function(a){return i._onAnimationStart(a)})("@dialogContainer.done",function(a){return i._onAnimationDone(a)}),2&t&&(d.Ikx("id",i._config.id),d.uIk("aria-modal",i._config.ariaModal)("role",i._config.role)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null),d.d8E("@dialogContainer",i._getAnimationState()))},features:[d.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,i){1&t&&d.YNc(0,xB,0,0,"ng-template",0)},dependencies:[dM],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions.mat-dialog-actions-align-center,.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions.mat-dialog-actions-align-end,.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}"],encapsulation:2,data:{animation:[kB.dialogContainer]}}),n})();class vM{constructor(e,t,i){this._ref=e,this._containerInstance=i,this._afterOpened=new At.x,this._beforeClosed=new At.x,this._state=0,this.disableClose=t.disableClose,this.id=e.id,i._animationStateChanged.pipe(Ti(r=>"opened"===r.state),Vs(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),i._animationStateChanged.pipe(Ti(r=>"closed"===r.state),Vs(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),e.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),(0,Cd.T)(this.backdropClick(),this.keydownEvents().pipe(Ti(r=>27===r.keyCode&&!this.disableClose&&!Sw(r)))).subscribe(r=>{this.disableClose||(r.preventDefault(),bP(this,"keydown"===r.type?"keyboard":"mouse"))})}close(e){this._result=e,this._containerInstance._animationStateChanged.pipe(Ti(t=>"closing"===t.state),Vs(1)).subscribe(t=>{this._beforeClosed.next(e),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),t.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(e){let t=this._ref.config.positionStrategy;return e&&(e.left||e.right)?e.left?t.left(e.left):t.right(e.right):t.centerHorizontally(),e&&(e.top||e.bottom)?e.top?t.top(e.top):t.bottom(e.bottom):t.centerVertically(),this._ref.updatePosition(),this}updateSize(e="",t=""){return this._ref.updateSize(e,t),this}addPanelClass(e){return this._ref.addPanelClass(e),this}removePanelClass(e){return this._ref.removePanelClass(e),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}function bP(n,e,t){return n._closeInteractionType=e,n.close(t)}const wP=new d.OlP("MatDialogData"),PB=new d.OlP("mat-dialog-default-options"),EP=new d.OlP("mat-dialog-scroll-strategy"),FB={provide:EP,deps:[y_],useFactory:function NB(n){return()=>n.scrollStrategies.block()}};let LB=0,VB=(()=>{class n{constructor(t,i,r,a,u,f,_,w,I,x){this._overlay=t,this._defaultOptions=r,this._parentDialog=a,this._dialogRefConstructor=_,this._dialogContainerType=w,this._dialogDataToken=I,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new At.x,this._afterOpenedAtThisLevel=new At.x,this._idPrefix="mat-dialog-",this.afterAllClosed=lP(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(lo(void 0))),this._scrollStrategy=f,this._dialog=i.get(dP)}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(t,i){let r;(i={...this._defaultOptions||new IC,...i}).id=i.id||`${this._idPrefix}${LB++}`,i.scrollStrategy=i.scrollStrategy||this._scrollStrategy();const a=this._dialog.open(t,{...i,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:IC,useValue:i},{provide:CC,useValue:i}]},templateContext:()=>({dialogRef:r}),providers:(u,f,_)=>(r=new this._dialogRefConstructor(u,i,_),r.updatePosition(i?.position),[{provide:this._dialogContainerType,useValue:_},{provide:this._dialogDataToken,useValue:f.data},{provide:this._dialogRefConstructor,useValue:r}])});return r.componentInstance=a.componentInstance,this.openDialogs.push(r),this.afterOpened.next(r),r.afterClosed().subscribe(()=>{const u=this.openDialogs.indexOf(r);u>-1&&(this.openDialogs.splice(u,1),this.openDialogs.length||this._getAfterAllClosed().next())}),r}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(i=>i.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(t){let i=t.length;for(;i--;)t[i].close()}}return n.\u0275fac=function(t){d.$Z()},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),bM=(()=>{class n extends VB{constructor(t,i,r,a,u,f,_,w){super(t,i,a,f,_,u,vM,OB,wP,w)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(y_),d.LFG(d.zs3),d.LFG(De,8),d.LFG(PB,8),d.LFG(EP),d.LFG(n,12),d.LFG(DC),d.LFG(d.QbO,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),BB=(()=>{class n{constructor(t,i,r){this.dialogRef=t,this._elementRef=i,this._dialog=r,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=function UB(n,e){let t=n.nativeElement.parentElement;for(;t&&!t.classList.contains("mat-dialog-container");)t=t.parentElement;return t?e.find(i=>i.id===t.id):null}(this._elementRef,this._dialog.openDialogs))}ngOnChanges(t){const i=t._matDialogClose||t._matDialogCloseResult;i&&(this.dialogResult=i.currentValue)}_onButtonClick(t){bP(this.dialogRef,0===t.screenX&&0===t.screenY?"keyboard":"mouse",this.dialogResult)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(vM,8),d.Y36(d.SBq),d.Y36(bM))},n.\u0275dir=d.lG2({type:n,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(t,i){1&t&&d.NdJ("click",function(a){return i._onButtonClick(a)}),2&t&&d.uIk("aria-label",i.ariaLabel||null)("type",i.type)},inputs:{ariaLabel:["aria-label","ariaLabel"],type:"type",dialogResult:["mat-dialog-close","dialogResult"],_matDialogClose:["matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[d.TTD]}),n})(),HB=(()=>{class n{constructor(){this.align="start"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-dialog-actions"],hostVars:4,hostBindings:function(t,i){2&t&&d.ekj("mat-dialog-actions-align-center","center"===i.align)("mat-dialog-actions-align-end","end"===i.align)},inputs:{align:"align"}}),n})(),jB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[bM,FB],imports:[AB,aP,EC,gs,gs]}),n})();function DP(n){return(0,Ye.e)((e,t)=>{let a,i=null,r=!1;i=e.subscribe((0,Ct.x)(t,void 0,void 0,u=>{a=(0,Lr.Xf)(n(u,DP(n)(e))),i?(i.unsubscribe(),i=null,a.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,a.subscribe(t))})}class qB{}class Ch{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const i=t.indexOf(":");if(i>0){const r=t.slice(0,i),a=r.toLowerCase(),u=t.slice(i+1).trim();this.maybeSetNormalizedName(r,a),this.headers.has(a)?this.headers.get(a).push(u):this.headers.set(a,[u])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let i=e[t];const r=t.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(t,r))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Ch?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Ch;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Ch?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,t);const r=("a"===e.op?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":const a=e.value;if(a){let u=this.headers.get(t);if(!u)return;u=u.filter(f=>-1===a.indexOf(f)),0===u.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,u)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class WB{encodeKey(e){return CP(e)}encodeValue(e){return CP(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const ZB=/%(\d[a-f0-9])/gi,YB={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function CP(n){return encodeURIComponent(n).replace(ZB,(e,t)=>YB[t]??e)}function TC(n){return`${n}`}class Ih{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new WB,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function KB(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const a=r.indexOf("="),[u,f]=-1==a?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,a)),e.decodeValue(r.slice(a+1))],_=t.get(u)||[];_.push(f),t.set(u,_)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const i=e.fromObject[t],r=Array.isArray(i)?i.map(TC):[TC(i)];this.map.set(t,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(i=>{const r=e[i];Array.isArray(r)?r.forEach(a=>{t.push({param:i,value:a,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Ih({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(TC(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let i=this.map.get(e.param)||[];const r=i.indexOf(TC(e.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class QB{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function IP(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function TP(n){return typeof Blob<"u"&&n instanceof Blob}function SP(n){return typeof FormData<"u"&&n instanceof FormData}class $b{constructor(e,t,i,r){let a;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function XB(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,a=r):a=i,a&&(this.reportProgress=!!a.reportProgress,this.withCredentials=!!a.withCredentials,a.responseType&&(this.responseType=a.responseType),a.headers&&(this.headers=a.headers),a.context&&(this.context=a.context),a.params&&(this.params=a.params)),this.headers||(this.headers=new Ch),this.context||(this.context=new QB),this.params){const u=this.params.toString();if(0===u.length)this.urlWithParams=t;else{const f=t.indexOf("?");this.urlWithParams=t+(-1===f?"?":f<t.length-1?"&":"")+u}}else this.params=new Ih,this.urlWithParams=t}serializeBody(){return null===this.body?null:IP(this.body)||TP(this.body)||SP(this.body)||function JB(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Ih?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||SP(this.body)?null:TP(this.body)?this.body.type||null:IP(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ih?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,a=void 0!==e.body?e.body:this.body,u=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,f=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let _=e.headers||this.headers,w=e.params||this.params;const I=e.context??this.context;return void 0!==e.setHeaders&&(_=Object.keys(e.setHeaders).reduce((x,L)=>x.set(L,e.setHeaders[L]),_)),e.setParams&&(w=Object.keys(e.setParams).reduce((x,L)=>x.set(L,e.setParams[L]),w)),new $b(t,i,a,{params:w,headers:_,context:I,reportProgress:f,responseType:r,withCredentials:u})}}var xr=(()=>((xr=xr||{})[xr.Sent=0]="Sent",xr[xr.UploadProgress=1]="UploadProgress",xr[xr.ResponseHeader=2]="ResponseHeader",xr[xr.DownloadProgress=3]="DownloadProgress",xr[xr.Response=4]="Response",xr[xr.User=5]="User",xr))();class wM extends class e2{constructor(e,t=200,i="OK"){this.headers=e.headers||new Ch,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(e={}){super(e),this.type=xr.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new wM({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}function EM(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let MP=(()=>{class n{constructor(t){this.handler=t}request(t,i,r={}){let a;if(t instanceof $b)a=t;else{let _,w;_=r.headers instanceof Ch?r.headers:new Ch(r.headers),r.params&&(w=r.params instanceof Ih?r.params:new Ih({fromObject:r.params})),a=new $b(t,i,void 0!==r.body?r.body:null,{headers:_,context:r.context,params:w,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const u=qi(a).pipe(function zB(n,e){return(0,Rn.m)(e)?(0,Ps.z)(n,e,1):(0,Ps.z)(n,1)}(_=>this.handler.handle(_)));if(t instanceof $b||"events"===r.observe)return u;const f=u.pipe(Ti(_=>_ instanceof wM));switch(r.observe||"body"){case"body":switch(a.responseType){case"arraybuffer":return f.pipe((0,sn.U)(_=>{if(null!==_.body&&!(_.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return _.body}));case"blob":return f.pipe((0,sn.U)(_=>{if(null!==_.body&&!(_.body instanceof Blob))throw new Error("Response is not a Blob.");return _.body}));case"text":return f.pipe((0,sn.U)(_=>{if(null!==_.body&&"string"!=typeof _.body)throw new Error("Response is not a string.");return _.body}));default:return f.pipe((0,sn.U)(_=>_.body))}case"response":return f;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:(new Ih).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,EM(r,i))}post(t,i,r={}){return this.request("POST",t,EM(r,i))}put(t,i,r={}){return this.request("PUT",t,EM(r,i))}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(qB))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const n2=["*"];let SC;function zb(n){return function r2(){if(void 0===SC&&(SC=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(SC=n.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return SC}()?.createHTML(n)||n}function xP(n){return Error(`Unable to find icon with the name "${n}"`)}function kP(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function RP(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class Mp{constructor(e,t,i){this.url=e,this.svgText=t,this.options=i}}let AC=(()=>{class n{constructor(t,i,r,a){this._httpClient=t,this._sanitizer=i,this._errorHandler=a,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=r}addSvgIcon(t,i,r){return this.addSvgIconInNamespace("",t,i,r)}addSvgIconLiteral(t,i,r){return this.addSvgIconLiteralInNamespace("",t,i,r)}addSvgIconInNamespace(t,i,r,a){return this._addSvgIconConfig(t,i,new Mp(r,null,a))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,i,r,a){const u=this._sanitizer.sanitize(d.q3G.HTML,r);if(!u)throw RP(r);const f=zb(u);return this._addSvgIconConfig(t,i,new Mp("",f,a))}addSvgIconSet(t,i){return this.addSvgIconSetInNamespace("",t,i)}addSvgIconSetLiteral(t,i){return this.addSvgIconSetLiteralInNamespace("",t,i)}addSvgIconSetInNamespace(t,i,r){return this._addSvgIconSetConfig(t,new Mp(i,null,r))}addSvgIconSetLiteralInNamespace(t,i,r){const a=this._sanitizer.sanitize(d.q3G.HTML,i);if(!a)throw RP(i);const u=zb(a);return this._addSvgIconSetConfig(t,new Mp("",u,r))}registerFontClassAlias(t,i=t){return this._fontCssClassesByAlias.set(t,i),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(...t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const i=this._sanitizer.sanitize(d.q3G.RESOURCE_URL,t);if(!i)throw kP(t);const r=this._cachedIconsByUrl.get(i);return r?qi(MC(r)):this._loadSvgIconFromConfig(new Mp(t,null)).pipe((0,Ur.b)(a=>this._cachedIconsByUrl.set(i,a)),(0,sn.U)(a=>MC(a)))}getNamedSvgIcon(t,i=""){const r=OP(i,t);let a=this._svgIconConfigs.get(r);if(a)return this._getSvgFromConfig(a);if(a=this._getIconConfigFromResolvers(i,t),a)return this._svgIconConfigs.set(r,a),this._getSvgFromConfig(a);const u=this._iconSetConfigs.get(i);return u?this._getSvgFromIconSetConfigs(t,u):function GB(n,e){const t=(0,Rn.m)(n)?n:()=>n,i=r=>r.error(t());return new Ii.y(e?r=>e.schedule(i,0,r):i)}(xP(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?qi(MC(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe((0,sn.U)(i=>MC(i)))}_getSvgFromIconSetConfigs(t,i){const r=this._extractIconWithNameFromAnySet(t,i);return r?qi(r):PR(i.filter(u=>!u.svgText).map(u=>this._loadSvgIconSetFromConfig(u).pipe(DP(f=>{const w=`Loading icon set URL: ${this._sanitizer.sanitize(d.q3G.RESOURCE_URL,u.url)} failed: ${f.message}`;return this._errorHandler.handleError(new Error(w)),qi(null)})))).pipe((0,sn.U)(()=>{const u=this._extractIconWithNameFromAnySet(t,i);if(!u)throw xP(t);return u}))}_extractIconWithNameFromAnySet(t,i){for(let r=i.length-1;r>=0;r--){const a=i[r];if(a.svgText&&a.svgText.toString().indexOf(t)>-1){const u=this._svgElementFromConfig(a),f=this._extractSvgIconFromSet(u,t,a.options);if(f)return f}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe((0,Ur.b)(i=>t.svgText=i),(0,sn.U)(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?qi(null):this._fetchIcon(t).pipe((0,Ur.b)(i=>t.svgText=i))}_extractSvgIconFromSet(t,i,r){const a=t.querySelector(`[id="${i}"]`);if(!a)return null;const u=a.cloneNode(!0);if(u.removeAttribute("id"),"svg"===u.nodeName.toLowerCase())return this._setSvgAttributes(u,r);if("symbol"===u.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(u),r);const f=this._svgElementFromString(zb("<svg></svg>"));return f.appendChild(u),this._setSvgAttributes(f,r)}_svgElementFromString(t){const i=this._document.createElement("DIV");i.innerHTML=t;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(t){const i=this._svgElementFromString(zb("<svg></svg>")),r=t.attributes;for(let a=0;a<r.length;a++){const{name:u,value:f}=r[a];"id"!==u&&i.setAttribute(u,f)}for(let a=0;a<t.childNodes.length;a++)t.childNodes[a].nodeType===this._document.ELEMENT_NODE&&i.appendChild(t.childNodes[a].cloneNode(!0));return i}_setSvgAttributes(t,i){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),i&&i.viewBox&&t.setAttribute("viewBox",i.viewBox),t}_fetchIcon(t){const{url:i,options:r}=t,a=r?.withCredentials??!1;if(!this._httpClient)throw function s2(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const u=this._sanitizer.sanitize(d.q3G.RESOURCE_URL,i);if(!u)throw kP(i);const f=this._inProgressUrlFetches.get(u);if(f)return f;const _=this._httpClient.get(u,{responseType:"text",withCredentials:a}).pipe((0,sn.U)(w=>zb(w)),function $B(n){return(0,Ye.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}(()=>this._inProgressUrlFetches.delete(u)),(0,$k.B)());return this._inProgressUrlFetches.set(u,_),_}_addSvgIconConfig(t,i,r){return this._svgIconConfigs.set(OP(t,i),r),this}_addSvgIconSetConfig(t,i){const r=this._iconSetConfigs.get(t);return r?r.push(i):this._iconSetConfigs.set(t,[i]),this}_svgElementFromConfig(t){if(!t.svgElement){const i=this._svgElementFromString(t.svgText);this._setSvgAttributes(i,t.options),t.svgElement=i}return t.svgElement}_getIconConfigFromResolvers(t,i){for(let r=0;r<this._resolvers.length;r++){const a=this._resolvers[r](i,t);if(a)return a2(a)?new Mp(a.url,null,a.options):new Mp(a,null)}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(MP,8),d.LFG(Fo),d.LFG(ne,8),d.LFG(d.qLn))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function MC(n){return n.cloneNode(!0)}function OP(n,e){return n+":"+e}function a2(n){return!(!n.url||!n.options)}const l2=wC(class{constructor(n){this._elementRef=n}}),c2=new d.OlP("MAT_ICON_DEFAULT_OPTIONS"),u2=new d.OlP("mat-icon-location",{providedIn:"root",factory:function d2(){const n=(0,d.f3M)(ne),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),PP=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],h2=PP.map(n=>`[${n}]`).join(", "),f2=/^url\(['"]?#(.*?)['"]?\)$/;let NP=(()=>{class n extends l2{constructor(t,i,r,a,u,f){super(t),this._iconRegistry=i,this._location=a,this._errorHandler=u,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=li.w0.EMPTY,f&&(f.color&&(this.color=this.defaultColor=f.color),f.fontSet&&(this.fontSet=f.fontSet)),r||t.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(t){this._inline=Bi(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const i=this._cleanupFontValue(t);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const i=this._cleanupFontValue(t);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}_splitIconName(t){if(!t)return["",""];const i=t.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let i=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=t.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>t.classList.remove(r)),i.forEach(r=>t.classList.add(r)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const i=this._elementsWithExternalReferences;i&&i.forEach((r,a)=>{r.forEach(u=>{a.setAttribute(u.name,`url('${t}#${u.value}')`)})})}_cacheChildrenWithExternalReferences(t){const i=t.querySelectorAll(h2),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let a=0;a<i.length;a++)PP.forEach(u=>{const f=i[a],_=f.getAttribute(u),w=_?_.match(f2):null;if(w){let I=r.get(f);I||(I=[],r.set(f,I)),I.push({name:u,value:w[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[i,r]=this._splitIconName(t);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(Vs(1)).subscribe(a=>this._setSvgElement(a),a=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${a.message}`))})}}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(AC),d.$8M("aria-hidden"),d.Y36(u2),d.Y36(d.qLn),d.Y36(c2,8))},n.\u0275cmp=d.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(t,i){2&t&&(d.uIk("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet)("fontIcon",i._usingFontIcon()?i.fontIcon:null),d.ekj("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[d.qOj],ngContentSelectors:n2,decls:1,vars:0,template:function(t,i){1&t&&(d.F$t(),d.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),n})(),p2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[gs,gs]}),n})();const FP=La({passive:!0});let m2=(()=>{class n{constructor(t,i){this._platform=t,this._ngZone=i,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return Aw.E;const i=tn(t),r=this._monitoredElements.get(i);if(r)return r.subject;const a=new At.x,u="cdk-text-field-autofilled",f=_=>{"cdk-text-field-autofill-start"!==_.animationName||i.classList.contains(u)?"cdk-text-field-autofill-end"===_.animationName&&i.classList.contains(u)&&(i.classList.remove(u),this._ngZone.run(()=>a.next({target:_.target,isAutofilled:!1}))):(i.classList.add(u),this._ngZone.run(()=>a.next({target:_.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",f,FP),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:a,unlisten:()=>{i.removeEventListener("animationstart",f,FP)}}),a}stopMonitoring(t){const i=tn(t),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((t,i)=>this.stopMonitoring(i))}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(_n),d.LFG(d.R0b))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),LP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})();const g2=["connectionContainer"],_2=["inputContainer"],y2=["label"];function v2(n,e){1&n&&(d.ynx(0),d.TgZ(1,"div",14),d._UZ(2,"div",15)(3,"div",16)(4,"div",17),d.qZA(),d.TgZ(5,"div",18),d._UZ(6,"div",15)(7,"div",16)(8,"div",17),d.qZA(),d.BQk())}function b2(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"div",19),d.NdJ("cdkObserveContent",function(){d.CHM(t);const r=d.oxw();return d.KtG(r.updateOutlineGap())}),d.Hsn(1,1),d.qZA()}if(2&n){const t=d.oxw();d.Q6J("cdkObserveContentDisabled","outline"!=t.appearance)}}function w2(n,e){if(1&n&&(d.ynx(0),d.Hsn(1,2),d.TgZ(2,"span"),d._uU(3),d.qZA(),d.BQk()),2&n){const t=d.oxw(2);d.xp6(3),d.Oqu(t._control.placeholder)}}function E2(n,e){1&n&&d.Hsn(0,3,["*ngSwitchCase","true"])}function D2(n,e){1&n&&(d.TgZ(0,"span",23),d._uU(1," *"),d.qZA())}function C2(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"label",20,21),d.NdJ("cdkObserveContent",function(){d.CHM(t);const r=d.oxw();return d.KtG(r.updateOutlineGap())}),d.YNc(2,w2,4,1,"ng-container",12),d.YNc(3,E2,1,0,"ng-content",12),d.YNc(4,D2,2,0,"span",22),d.qZA()}if(2&n){const t=d.oxw();d.ekj("mat-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-form-field-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-accent","accent"==t.color)("mat-warn","warn"==t.color),d.Q6J("cdkObserveContentDisabled","outline"!=t.appearance)("id",t._labelId)("ngSwitch",t._hasLabel()),d.uIk("for",t._control.id)("aria-owns",t._control.id),d.xp6(2),d.Q6J("ngSwitchCase",!1),d.xp6(1),d.Q6J("ngSwitchCase",!0),d.xp6(1),d.Q6J("ngIf",!t.hideRequiredMarker&&t._control.required&&!t._control.disabled)}}function I2(n,e){1&n&&(d.TgZ(0,"div",24),d.Hsn(1,4),d.qZA())}function T2(n,e){if(1&n&&(d.TgZ(0,"div",25),d._UZ(1,"span",26),d.qZA()),2&n){const t=d.oxw();d.xp6(1),d.ekj("mat-accent","accent"==t.color)("mat-warn","warn"==t.color)}}function S2(n,e){if(1&n&&(d.TgZ(0,"div"),d.Hsn(1,5),d.qZA()),2&n){const t=d.oxw();d.Q6J("@transitionMessages",t._subscriptAnimationState)}}function A2(n,e){if(1&n&&(d.TgZ(0,"div",30),d._uU(1),d.qZA()),2&n){const t=d.oxw(2);d.Q6J("id",t._hintLabelId),d.xp6(1),d.Oqu(t.hintLabel)}}function M2(n,e){if(1&n&&(d.TgZ(0,"div",27),d.YNc(1,A2,2,2,"div",28),d.Hsn(2,6),d._UZ(3,"div",29),d.Hsn(4,7),d.qZA()),2&n){const t=d.oxw();d.Q6J("@transitionMessages",t._subscriptAnimationState),d.xp6(1),d.Q6J("ngIf",t.hintLabel)}}const x2=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],k2=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],R2=new d.OlP("MatError"),O2={transitionMessages:fP("transitionMessages",[gM("enter",Dh({opacity:1,transform:"translateY(0%)"})),_M("void => enter",[Dh({opacity:0,transform:"translateY(-5px)"}),mM("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let DM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n}),n})();const P2=new d.OlP("MatHint");let CM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n,selectors:[["mat-label"]]}),n})(),N2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n,selectors:[["mat-placeholder"]]}),n})();const F2=new d.OlP("MatPrefix"),L2=new d.OlP("MatSuffix");let VP=0;const B2=wC(class{constructor(n){this._elementRef=n}},"primary"),H2=new d.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),HP=new d.OlP("MatFormField");let U2=(()=>{class n extends B2{constructor(t,i,r,a,u,f,_){super(t),this._changeDetectorRef=i,this._dir=r,this._defaults=a,this._platform=u,this._ngZone=f,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new At.x,this._hideRequiredMarker=!1,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+VP++,this._labelId="mat-form-field-label-"+VP++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==_,this.appearance=a?.appearance||"legacy",a&&(this._hideRequiredMarker=Boolean(a.hideRequiredMarker),a.color&&(this.color=this.defaultColor=a.color))}get appearance(){return this._appearance}set appearance(t){const i=this._appearance;this._appearance=t||this._defaults?.appearance||"legacy","outline"===this._appearance&&i!==t&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=Bi(t)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(t){this._explicitFormFieldControl=t}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${t.controlType}`),t.stateChanges.pipe(lo(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(Go(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Go(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,Cd.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(lo(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(lo(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(Go(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(t){const i=this._control?this._control.ngControl:null;return i&&i[t]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,Hc(this._label.nativeElement,"transitionend").pipe(Vs(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(a=>"start"===a.align):null,r=this._hintChildren?this._hintChildren.find(a=>"end"===a.align):null;i?t.push(i.id):this._hintLabel&&t.push(this._hintLabelId),r&&t.push(r.id)}else this._errorChildren&&t.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(t)}}_validateControlChild(){}updateOutlineGap(){const t=this._label?this._label.nativeElement:null,i=this._connectionContainerRef.nativeElement,r=".mat-form-field-outline-start",a=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!t||!t.children.length||!t.textContent.trim()){const I=i.querySelectorAll(`${r}, ${a}`);for(let x=0;x<I.length;x++)I[x].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let u=0,f=0;const _=i.querySelectorAll(r),w=i.querySelectorAll(a);if(this._label&&this._label.nativeElement.children.length){const I=i.getBoundingClientRect();if(0===I.width&&0===I.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const x=this._getStartEnd(I),L=t.children,j=this._getStartEnd(L[0].getBoundingClientRect());let z=0;for(let J=0;J<L.length;J++)z+=L[J].offsetWidth;u=Math.abs(j-x)-5,f=z>0?.75*z+10:0}for(let I=0;I<_.length;I++)_[I].style.width=`${u}px`;for(let I=0;I<w.length;I++)w[I].style.width=`${f}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(t){return this._dir&&"rtl"===this._dir.value?t.right:t.left}_isAttachedToDOM(){const t=this._elementRef.nativeElement;if(t.getRootNode){const i=t.getRootNode();return i&&i!==t}return document.documentElement.contains(t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(d.sBO),d.Y36(Wc,8),d.Y36(H2,8),d.Y36(_n),d.Y36(d.R0b),d.Y36(d.QbO,8))},n.\u0275cmp=d.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(t,i,r){if(1&t&&(d.Suo(r,DM,5),d.Suo(r,DM,7),d.Suo(r,CM,5),d.Suo(r,CM,7),d.Suo(r,N2,5),d.Suo(r,R2,5),d.Suo(r,P2,5),d.Suo(r,F2,5),d.Suo(r,L2,5)),2&t){let a;d.iGM(a=d.CRH())&&(i._controlNonStatic=a.first),d.iGM(a=d.CRH())&&(i._controlStatic=a.first),d.iGM(a=d.CRH())&&(i._labelChildNonStatic=a.first),d.iGM(a=d.CRH())&&(i._labelChildStatic=a.first),d.iGM(a=d.CRH())&&(i._placeholderChild=a.first),d.iGM(a=d.CRH())&&(i._errorChildren=a),d.iGM(a=d.CRH())&&(i._hintChildren=a),d.iGM(a=d.CRH())&&(i._prefixChildren=a),d.iGM(a=d.CRH())&&(i._suffixChildren=a)}},viewQuery:function(t,i){if(1&t&&(d.Gf(g2,7),d.Gf(_2,5),d.Gf(y2,5)),2&t){let r;d.iGM(r=d.CRH())&&(i._connectionContainerRef=r.first),d.iGM(r=d.CRH())&&(i._inputContainerRef=r.first),d.iGM(r=d.CRH())&&(i._label=r.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(t,i){2&t&&d.ekj("mat-form-field-appearance-standard","standard"==i.appearance)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-appearance-legacy","legacy"==i.appearance)("mat-form-field-invalid",i._control.errorState)("mat-form-field-can-float",i._canLabelFloat())("mat-form-field-should-float",i._shouldLabelFloat())("mat-form-field-has-label",i._hasFloatingLabel())("mat-form-field-hide-placeholder",i._hideControlPlaceholder())("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-focused",i._control.focused)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))("_mat-animation-noopable",!i._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[d._Bn([{provide:HP,useExisting:n}]),d.qOj],ngContentSelectors:k2,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(t,i){1&t&&(d.F$t(x2),d.TgZ(0,"div",0)(1,"div",1,2),d.NdJ("click",function(a){return i._control.onContainerClick&&i._control.onContainerClick(a)}),d.YNc(3,v2,9,0,"ng-container",3),d.YNc(4,b2,2,1,"div",4),d.TgZ(5,"div",5,6),d.Hsn(7),d.TgZ(8,"span",7),d.YNc(9,C2,5,16,"label",8),d.qZA()(),d.YNc(10,I2,2,0,"div",9),d.qZA(),d.YNc(11,T2,2,4,"div",10),d.TgZ(12,"div",11),d.YNc(13,S2,2,1,"div",12),d.YNc(14,M2,5,2,"div",13),d.qZA()()),2&t&&(d.xp6(3),d.Q6J("ngIf","outline"==i.appearance),d.xp6(1),d.Q6J("ngIf",i._prefixChildren.length),d.xp6(5),d.Q6J("ngIf",i._hasFloatingLabel()),d.xp6(1),d.Q6J("ngIf",i._suffixChildren.length),d.xp6(1),d.Q6J("ngIf","outline"!=i.appearance),d.xp6(1),d.Q6J("ngSwitch",i._getDisplayedMessages()),d.xp6(1),d.Q6J("ngSwitchCase","error"),d.xp6(1),d.Q6J("ngSwitchCase","hint"))},dependencies:[Gn,pa,Do,iI],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}','.mat-input-element{font:inherit;background:rgba(0,0,0,0);color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}._mat-animation-noopable .mat-input-element::placeholder{transition:none}._mat-animation-noopable .mat-input-element::-moz-placeholder{transition:none}._mat-animation-noopable .mat-input-element::-webkit-input-placeholder{transition:none}._mat-animation-noopable .mat-input-element:-ms-input-placeholder{transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:rgba(0,0,0,0)}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}"],encapsulation:2,data:{animation:[O2.transitionMessages]},changeDetection:0}),n})(),UP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[Co,gs,kw,gs]}),n})();const j2=new d.OlP("MAT_INPUT_VALUE_ACCESSOR"),G2=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let $2=0;const z2=jV(class{constructor(n,e,t,i){this._defaultErrorStateMatcher=n,this._parentForm=e,this._parentFormGroup=t,this.ngControl=i,this.stateChanges=new At.x}});let q2=(()=>{class n extends z2{constructor(t,i,r,a,u,f,_,w,I,x){super(f,a,u,r),this._elementRef=t,this._platform=i,this._autofillMonitor=w,this._formField=x,this._uid="mat-input-"+$2++,this.focused=!1,this.stateChanges=new At.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(z=>Zp().has(z)),this._iOSKeyupListener=z=>{const J=z.target;!J.value&&0===J.selectionStart&&0===J.selectionEnd&&(J.setSelectionRange(1,1),J.setSelectionRange(0,0))};const L=this._elementRef.nativeElement,j=L.nodeName.toLowerCase();this._inputValueAccessor=_||L,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&I.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===j,this._isTextarea="textarea"===j,this._isInFormField=!!x,this._isNativeSelect&&(this.controlType=L.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=Bi(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(GL.required)??!1}set required(t){this._required=Bi(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&Zp().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=Bi(t)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t!==this.focused&&(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){const t=this._formField,i=t&&"legacy"===t.appearance&&!t._hasLabel?.()?null:this.placeholder;if(i!==this._previousPlaceholder){const r=this._elementRef.nativeElement;this._previousPlaceholder=i,i?r.setAttribute("placeholder",i):r.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_validateType(){G2.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,i=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const t=this._elementRef.nativeElement;return this._isNativeSelect&&(t.multiple||t.size>1)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(_n),d.Y36(Uu,10),d.Y36(vC,8),d.Y36(bC,8),d.Y36($O),d.Y36(j2,10),d.Y36(m2),d.Y36(d.R0b),d.Y36(HP,8))},n.\u0275dir=d.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(t,i){1&t&&d.NdJ("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),2&t&&(d.Ikx("disabled",i.disabled)("required",i.required),d.uIk("id",i.id)("data-placeholder",i.placeholder)("name",i.name||null)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required),d.ekj("mat-input-server",i._isServer)("mat-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[d._Bn([{provide:DM,useExisting:n}]),d.qOj,d.TTD]}),n})(),W2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[$O],imports:[LP,UP,gs,LP,UP]}),n})();const K2=["*",[["mat-toolbar-row"]]],Z2=["*","mat-toolbar-row"],Y2=wC(class{constructor(n){this._elementRef=n}});let Q2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),X2=(()=>{class n extends Y2{constructor(t,i,r){super(t),this._platform=i,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(_n),d.Y36(ne))},n.\u0275cmp=d.Xpm({type:n,selectors:[["mat-toolbar"]],contentQueries:function(t,i,r){if(1&t&&d.Suo(r,Q2,5),2&t){let a;d.iGM(a=d.CRH())&&(i._toolbarRows=a)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(t,i){2&t&&d.ekj("mat-toolbar-multiple-rows",i._toolbarRows.length>0)("mat-toolbar-single-row",0===i._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[d.qOj],ngContentSelectors:Z2,decls:2,vars:0,template:function(t,i){1&t&&(d.F$t(K2),d.Hsn(0),d.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}"],encapsulation:2,changeDetection:0}),n})(),J2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[gs,gs]}),n})();function jP(n){return new d.vHH(3e3,!1)}function PH(){return typeof window<"u"&&typeof window.document<"u"}function IM(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Th(n){switch(n.length){case 0:return new Gb;case 1:return n[0];default:return new vP(n)}}function GP(n,e,t,i,r=new Map,a=new Map){const u=[],f=[];let _=-1,w=null;if(i.forEach(I=>{const x=I.get("offset"),L=x==_,j=L&&w||new Map;I.forEach((z,J)=>{let be=J,et=z;if("offset"!==J)switch(be=e.normalizePropertyName(be,u),et){case"!":et=r.get(J);break;case ju:et=a.get(J);break;default:et=e.normalizeStyleValue(J,be,et,u)}j.set(be,et)}),L||f.push(j),w=j,_=x}),u.length)throw function EH(n){return new d.vHH(3502,!1)}();return f}function TM(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&SM(t,"start",n)));break;case"done":n.onDone(()=>i(t&&SM(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&SM(t,"destroy",n)))}}function SM(n,e,t){const a=AM(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),u=n._data;return null!=u&&(a._data=u),a}function AM(n,e,t,i,r="",a=0,u){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:a,disabled:!!u}}function vo(n,e,t){let i=n.get(e);return i||n.set(e,i=t),i}function $P(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let MM=(n,e)=>!1,zP=(n,e,t)=>[],qP=null;function xM(n){const e=n.parentNode||n.host;return e===qP?null:e}(IM()||typeof Element<"u")&&(PH()?(qP=(()=>document.documentElement)(),MM=(n,e)=>{for(;e;){if(e===n)return!0;e=xM(e)}return!1}):MM=(n,e)=>n.contains(e),zP=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const i=n.querySelector(e);return i?[i]:[]});let xp=null,WP=!1;const KP=MM,ZP=zP;let YP=(()=>{class n{validateStyleProperty(t){return function FH(n){xp||(xp=function LH(){return typeof document<"u"?document.body:null}()||{},WP=!!xp.style&&"WebkitAppearance"in xp.style);let e=!0;return xp.style&&!function NH(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in xp.style,!e&&WP&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in xp.style)),e}(t)}matchesElement(t,i){return!1}containsElement(t,i){return KP(t,i)}getParentElement(t){return xM(t)}query(t,i,r){return ZP(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,a,u,f=[],_){return new Gb(r,a)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),kM=(()=>{class n{}return n.NOOP=new YP,n})();const RM="ng-enter",xC="ng-leave",kC="ng-trigger",RC=".ng-trigger",XP="ng-animating",OM=".ng-animating";function Gu(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:PM(parseFloat(e[1]),e[2])}function PM(n,e){return"s"===e?1e3*n:n}function OC(n,e,t){return n.hasOwnProperty("duration")?n:function HH(n,e,t){let r,a=0,u="";if("string"==typeof n){const f=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===f)return e.push(jP()),{duration:0,delay:0,easing:""};r=PM(parseFloat(f[1]),f[2]);const _=f[3];null!=_&&(a=PM(parseFloat(_),f[4]));const w=f[5];w&&(u=w)}else r=n;if(!t){let f=!1,_=e.length;r<0&&(e.push(function eH(){return new d.vHH(3100,!1)}()),f=!0),a<0&&(e.push(function tH(){return new d.vHH(3101,!1)}()),f=!0),f&&e.splice(_,0,jP())}return{duration:r,delay:a,easing:u}}(n,e,t)}function qb(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function JP(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function Sh(n,e=new Map,t){if(t)for(let[i,r]of t)e.set(i,r);for(let[i,r]of n)e.set(i,r);return e}function tN(n,e,t){return t?e+":"+t+";":""}function nN(n){let e="";for(let t=0;t<n.style.length;t++){const i=n.style.item(t);e+=tN(0,i,n.style.getPropertyValue(i))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=tN(0,$H(t),n.style[t]));n.setAttribute("style",e)}function cc(n,e,t){n.style&&(e.forEach((i,r)=>{const a=FM(r);t&&!t.has(r)&&t.set(r,n.style[a]),n.style[a]=i}),IM()&&nN(n))}function kp(n,e){n.style&&(e.forEach((t,i)=>{const r=FM(i);n.style[r]=""}),IM()&&nN(n))}function Wb(n){return Array.isArray(n)?1==n.length?n[0]:mP(n):n}const NM=new RegExp("{{\\s*(.+?)\\s*}}","g");function iN(n){let e=[];if("string"==typeof n){let t;for(;t=NM.exec(n);)e.push(t[1]);NM.lastIndex=0}return e}function Kb(n,e,t){const i=n.toString(),r=i.replace(NM,(a,u)=>{let f=e[u];return null==f&&(t.push(function iH(n){return new d.vHH(3003,!1)}()),f=""),f.toString()});return r==i?n:r}function PC(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const GH=/-+([a-z0-9])/g;function FM(n){return n.replace(GH,(...e)=>e[1].toUpperCase())}function $H(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function bo(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function rH(n){return new d.vHH(3004,!1)}()}}function rN(n,e){return window.getComputedStyle(n)[e]}function YH(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function QH(n,e,t){if(":"==n[0]){const _=function XH(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(function yH(n){return new d.vHH(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof _)return void e.push(_);n=_}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function _H(n){return new d.vHH(3015,!1)}()),e;const r=i[1],a=i[2],u=i[3];e.push(sN(r,u));"<"==a[0]&&!("*"==r&&"*"==u)&&e.push(sN(u,r))}(i,t,e)):t.push(n),t}const VC=new Set(["true","1"]),BC=new Set(["false","0"]);function sN(n,e){const t=VC.has(n)||BC.has(n),i=VC.has(e)||BC.has(e);return(r,a)=>{let u="*"==n||n==r,f="*"==e||e==a;return!u&&t&&"boolean"==typeof r&&(u=r?VC.has(n):BC.has(n)),!f&&i&&"boolean"==typeof a&&(f=a?VC.has(e):BC.has(e)),u&&f}}const JH=new RegExp("s*:selfs*,?","g");function LM(n,e,t,i){return new eU(n).build(e,t,i)}class eU{constructor(e){this._driver=e}build(e,t,i){const r=new iU(t);return this._resetContextStyleTimingState(r),bo(this,Wb(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0;const a=[],u=[];return"@"==e.name.charAt(0)&&t.errors.push(function oH(){return new d.vHH(3006,!1)}()),e.definitions.forEach(f=>{if(this._resetContextStyleTimingState(t),0==f.type){const _=f,w=_.name;w.toString().split(/\s*,\s*/).forEach(I=>{_.name=I,a.push(this.visitState(_,t))}),_.name=w}else if(1==f.type){const _=this.visitTransition(f,t);i+=_.queryCount,r+=_.depCount,u.push(_)}else t.errors.push(function aH(){return new d.vHH(3007,!1)}())}),{type:7,name:e.name,states:a,transitions:u,queryCount:i,depCount:r,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){const a=new Set,u=r||{};i.styles.forEach(f=>{f instanceof Map&&f.forEach(_=>{iN(_).forEach(w=>{u.hasOwnProperty(w)||a.add(w)})})}),a.size&&(PC(a.values()),t.errors.push(function lH(n,e){return new d.vHH(3008,!1)}()))}return{type:0,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=bo(this,Wb(e.animation),t);return{type:1,matchers:YH(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:Rp(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(i=>bo(this,i,t)),options:Rp(e.options)}}visitGroup(e,t){const i=t.currentTime;let r=0;const a=e.steps.map(u=>{t.currentTime=i;const f=bo(this,u,t);return r=Math.max(r,t.currentTime),f});return t.currentTime=r,{type:3,steps:a,options:Rp(e.options)}}visitAnimate(e,t){const i=function sU(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return VM(OC(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(a=>"{"==a.charAt(0)&&"{"==a.charAt(1))){const a=VM(0,0,"");return a.dynamic=!0,a.strValue=t,a}const r=OC(t,e);return VM(r.duration,r.delay,r.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let r,a=e.styles?e.styles:Dh({});if(5==a.type)r=this.visitKeyframes(a,t);else{let u=e.styles,f=!1;if(!u){f=!0;const w={};i.easing&&(w.easing=i.easing),u=Dh(w)}t.currentTime+=i.duration+i.delay;const _=this.visitStyle(u,t);_.isEmptyStep=f,r=_}return t.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let f of r)"string"==typeof f?f===ju?i.push(f):t.errors.push(new d.vHH(3002,!1)):i.push(JP(f));let a=!1,u=null;return i.forEach(f=>{if(f instanceof Map&&(f.has("easing")&&(u=f.get("easing"),f.delete("easing")),!a))for(let _ of f.values())if(_.toString().indexOf("{{")>=0){a=!0;break}}),{type:6,styles:i,easing:u,offset:e.offset,containsDynamicStyles:a,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let r=t.currentTime,a=t.currentTime;i&&a>0&&(a-=i.duration+i.delay),e.styles.forEach(u=>{"string"!=typeof u&&u.forEach((f,_)=>{const w=t.collectedStyles.get(t.currentQuerySelector),I=w.get(_);let x=!0;I&&(a!=r&&a>=I.startTime&&r<=I.endTime&&(t.errors.push(function uH(n,e,t,i,r){return new d.vHH(3010,!1)}()),x=!1),a=I.startTime),x&&w.set(_,{startTime:a,endTime:r}),t.options&&function jH(n,e,t){const i=e.params||{},r=iN(n);r.length&&r.forEach(a=>{i.hasOwnProperty(a)||t.push(function nH(n){return new d.vHH(3001,!1)}())})}(f,t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function dH(){return new d.vHH(3011,!1)}()),i;let a=0;const u=[];let f=!1,_=!1,w=0;const I=e.steps.map(et=>{const yt=this._makeStyleAst(et,t);let gt=null!=yt.offset?yt.offset:function rU(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const i=t;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(yt.styles),dt=0;return null!=gt&&(a++,dt=yt.offset=gt),_=_||dt<0||dt>1,f=f||dt<w,w=dt,u.push(dt),yt});_&&t.errors.push(function hH(){return new d.vHH(3012,!1)}()),f&&t.errors.push(function fH(){return new d.vHH(3200,!1)}());const x=e.steps.length;let L=0;a>0&&a<x?t.errors.push(function pH(){return new d.vHH(3202,!1)}()):0==a&&(L=1/(x-1));const j=x-1,z=t.currentTime,J=t.currentAnimateTimings,be=J.duration;return I.forEach((et,yt)=>{const gt=L>0?yt==j?1:L*yt:u[yt],dt=gt*be;t.currentTime=z+J.delay+dt,J.duration=dt,this._validateStyleAst(et,t),et.offset=gt,i.styles.push(et)}),i}visitReference(e,t){return{type:8,animation:bo(this,Wb(e.animation),t),options:Rp(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Rp(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Rp(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[a,u]=function tU(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(JH,"")),n=n.replace(/@\*/g,RC).replace(/@\w+/g,t=>RC+"-"+t.slice(1)).replace(/:animating/g,OM),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+a:a,vo(t.collectedStyles,t.currentQuerySelector,new Map);const f=bo(this,Wb(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:a,limit:r.limit||0,optional:!!r.optional,includeSelf:u,animation:f,originalSelector:e.selector,options:Rp(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function mH(){return new d.vHH(3013,!1)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:OC(e.timings,t.errors,!0);return{type:12,animation:bo(this,Wb(e.animation),t),timings:i,options:null}}}class iU{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Rp(n){return n?(n=qb(n)).params&&(n.params=function nU(n){return n?qb(n):null}(n.params)):n={},n}function VM(n,e,t){return{duration:n,delay:e,easing:t}}function BM(n,e,t,i,r,a,u=null,f=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:a,totalTime:r+a,easing:u,subTimeline:f}}class HC{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const lU=new RegExp(":enter","g"),uU=new RegExp(":leave","g");function HM(n,e,t,i,r,a=new Map,u=new Map,f,_,w=[]){return(new dU).buildKeyframes(n,e,t,i,r,a,u,f,_,w)}class dU{buildKeyframes(e,t,i,r,a,u,f,_,w,I=[]){w=w||new HC;const x=new UM(e,t,w,r,a,I,[]);x.options=_;const L=_.delay?Gu(_.delay):0;x.currentTimeline.delayNextStep(L),x.currentTimeline.setStyles([u],null,x.errors,_),bo(this,i,x);const j=x.timelines.filter(z=>z.containsAnimation());if(j.length&&f.size){let z;for(let J=j.length-1;J>=0;J--){const be=j[J];if(be.element===t){z=be;break}}z&&!z.allowOnlyTimelineStyles()&&z.setStyles([f],null,x.errors,_)}return j.length?j.map(z=>z.buildKeyframes()):[BM(t,[],[],[],0,L,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const r=t.createSubContext(e.options),a=t.currentTimeline.currentTime,u=this._visitSubInstructions(i,r,r.options);a!=u&&t.transformIntoNewTimeline(u)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,i),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,i){for(const r of e){const a=r?.delay;if(a){const u="number"==typeof a?a:Gu(Kb(a,r?.params??{},t.errors));i.delayNextStep(u)}}}_visitSubInstructions(e,t,i){let a=t.currentTimeline.currentTime;const u=null!=i.duration?Gu(i.duration):null,f=null!=i.delay?Gu(i.delay):null;return 0!==u&&e.forEach(_=>{const w=t.appendInstructionToTimeline(_,u,f);a=Math.max(a,w.duration+w.delay)}),a}visitReference(e,t){t.updateOptions(e.options,!0),bo(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let r=t;const a=e.options;if(a&&(a.params||a.delay)&&(r=t.createSubContext(a),r.transformIntoNewTimeline(),null!=a.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=UC);const u=Gu(a.delay);r.delayNextStep(u)}e.steps.length&&(e.steps.forEach(u=>bo(this,u,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let r=t.currentTimeline.currentTime;const a=e.options&&e.options.delay?Gu(e.options.delay):0;e.steps.forEach(u=>{const f=t.createSubContext(e.options);a&&f.delayNextStep(a),bo(this,u,f),r=Math.max(r,f.currentTimeline.currentTime),i.push(f.currentTimeline)}),i.forEach(u=>t.currentTimeline.mergeTimelineCollectedStyles(u)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return OC(t.params?Kb(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());const a=e.style;5==a.type?this.visitKeyframes(a,t):(t.incrementTime(i.duration),this.visitStyle(a,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const a=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(a):i.setStyles(e.styles,a,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,r=t.currentTimeline.duration,a=i.duration,f=t.createSubContext().currentTimeline;f.easing=i.easing,e.styles.forEach(_=>{f.forwardTime((_.offset||0)*a),f.setStyles(_.styles,_.easing,t.errors,t.options),f.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(f),t.transformIntoNewTimeline(r+a),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,r=e.options||{},a=r.delay?Gu(r.delay):0;a&&(6===t.previousNode.type||0==i&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=UC);let u=i;const f=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=f.length;let _=null;f.forEach((w,I)=>{t.currentQueryIndex=I;const x=t.createSubContext(e.options,w);a&&x.delayNextStep(a),w===t.element&&(_=x.currentTimeline),bo(this,e.animation,x),x.currentTimeline.applyStylesToKeyframe(),u=Math.max(u,x.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(u),_&&(t.currentTimeline.mergeTimelineCollectedStyles(_),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,r=t.currentTimeline,a=e.timings,u=Math.abs(a.duration),f=u*(t.currentQueryTotal-1);let _=u*t.currentQueryIndex;switch(a.duration<0?"reverse":a.easing){case"reverse":_=f-_;break;case"full":_=i.currentStaggerTime}const I=t.currentTimeline;_&&I.delayNextStep(_);const x=I.currentTime;bo(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-x+(r.startTime-i.currentTimeline.startTime)}}const UC={};class UM{constructor(e,t,i,r,a,u,f,_){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=a,this.errors=u,this.timelines=f,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=UC,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=_||new jC(this._driver,t,0),f.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let r=this.options;null!=i.duration&&(r.duration=Gu(i.duration)),null!=i.delay&&(r.delay=Gu(i.delay));const a=i.params;if(a){let u=r.params;u||(u=this.options.params={}),Object.keys(a).forEach(f=>{(!t||!u.hasOwnProperty(f))&&(u[f]=Kb(a[f],u,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){const r=t||this.element,a=new UM(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return a.previousNode=this.previousNode,a.currentAnimateTimings=this.currentAnimateTimings,a.options=this._copyOptions(),a.updateOptions(e),a.currentQueryIndex=this.currentQueryIndex,a.currentQueryTotal=this.currentQueryTotal,a.parentContext=this,this.subContextCount++,a}transformIntoNewTimeline(e){return this.previousNode=UC,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const r={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},a=new hU(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(a),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,a,u){let f=[];if(r&&f.push(this.element),e.length>0){e=(e=e.replace(lU,"."+this._enterClassName)).replace(uU,"."+this._leaveClassName);let w=this._driver.query(this.element,e,1!=i);0!==i&&(w=i<0?w.slice(w.length+i,w.length):w.slice(0,i)),f.push(...w)}return!a&&0==f.length&&u.push(function gH(n){return new d.vHH(3014,!1)}()),f}}class jC{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new jC(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||ju),this._currentKeyframe.set(t,ju);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&this._previousKeyframe.set("easing",t);const a=r&&r.params||{},u=function fU(n,e){const t=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||e.keys();for(let a of i)t.set(a,ju)}else Sh(r,t)}),t}(e,this._globalTimelineStyles);for(let[f,_]of u){const w=Kb(_,a,i);this._pendingStyles.set(f,w),this._localTimelineStyles.has(f)||this._backFill.set(f,this._globalTimelineStyles.get(f)??ju),this._updateStyle(f,w)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,i)=>{const r=this._styleSummary.get(i);(!r||t.time>r.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((f,_)=>{const w=Sh(f,new Map,this._backFill);w.forEach((I,x)=>{"!"===I?e.add(x):I===ju&&t.add(x)}),i||w.set("offset",_/this.duration),r.push(w)});const a=e.size?PC(e.values()):[],u=t.size?PC(t.values()):[];if(i){const f=r[0],_=new Map(f);f.set("offset",0),_.set("offset",1),r=[f,_]}return BM(this.element,r,a,u,this.duration,this.startTime,this.easing,!1)}}class hU extends jC{constructor(e,t,i,r,a,u,f=!1){super(e,t,u.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=a,this._stretchStartingKeyframe=f,this.timings={duration:u.duration,delay:u.delay,easing:u.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const a=[],u=i+t,f=t/u,_=Sh(e[0]);_.set("offset",0),a.push(_);const w=Sh(e[0]);w.set("offset",lN(f)),a.push(w);const I=e.length-1;for(let x=1;x<=I;x++){let L=Sh(e[x]);const j=L.get("offset");L.set("offset",lN((t+j*i)/u)),a.push(L)}i=u,t=0,r="",e=a}return BM(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}}function lN(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class jM{}const pU=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class mU extends jM{normalizePropertyName(e,t){return FM(e)}normalizeStyleValue(e,t,i,r){let a="";const u=i.toString().trim();if(pU.has(t)&&0!==i&&"0"!==i)if("number"==typeof i)a="px";else{const f=i.match(/^[+-]?[\d\.]+([a-z]*)$/);f&&0==f[1].length&&r.push(function sH(n,e){return new d.vHH(3005,!1)}())}return u+a}}function cN(n,e,t,i,r,a,u,f,_,w,I,x,L){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:a,toState:i,toStyles:u,timelines:f,queriedElements:_,preStyleProps:w,postStyleProps:I,totalTime:x,errors:L}}const GM={};class uN{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return function gU(n,e,t,i,r){return n.some(a=>a(e,t,i,r))}(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){let r=this._stateStyles.get("*");return void 0!==e&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(t,i):new Map}build(e,t,i,r,a,u,f,_,w,I){const x=[],L=this.ast.options&&this.ast.options.params||GM,z=this.buildStyles(i,f&&f.params||GM,x),J=_&&_.params||GM,be=this.buildStyles(r,J,x),et=new Set,yt=new Map,gt=new Map,dt="void"===r,Pt={params:_U(J,L),delay:this.ast.options?.delay},Ut=I?[]:HM(e,t,this.ast.animation,a,u,z,be,Pt,w,x);let pn=0;if(Ut.forEach($u=>{pn=Math.max($u.duration+$u.delay,pn)}),x.length)return cN(t,this._triggerName,i,r,dt,z,be,[],[],yt,gt,pn,x);Ut.forEach($u=>{const zu=$u.element,SN=vo(yt,zu,new Set);$u.preStyleProps.forEach(Op=>SN.add(Op));const Yb=vo(gt,zu,new Set);$u.postStyleProps.forEach(Op=>Yb.add(Op)),zu!==t&&et.add(zu)});const _s=PC(et.values());return cN(t,this._triggerName,i,r,dt,z,be,Ut,_s,yt,gt,pn)}}function _U(n,e){const t=qb(e);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(t[i]=n[i]);return t}class yU{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i=new Map,r=qb(this.defaultParams);return Object.keys(e).forEach(a=>{const u=e[a];null!==u&&(r[a]=u)}),this.styles.styles.forEach(a=>{"string"!=typeof a&&a.forEach((u,f)=>{u&&(u=Kb(u,r,t));const _=this.normalizer.normalizePropertyName(f,t);u=this.normalizer.normalizeStyleValue(f,_,u,t),i.set(_,u)})}),i}}class bU{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states=new Map,t.states.forEach(r=>{this.states.set(r.name,new yU(r.style,r.options&&r.options.params||{},i))}),dN(this.states,"true","1"),dN(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new uN(e,r,this.states))}),this.fallbackTransition=function wU(n,e,t){return new uN(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(u,f)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(u=>u.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function dN(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const EU=new HC;class DU{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const i=[],a=LM(this._driver,t,i,[]);if(i.length)throw function DH(n){return new d.vHH(3503,!1)}();this._animations.set(e,a)}_buildPlayer(e,t,i){const r=e.element,a=GP(0,this._normalizer,0,e.keyframes,t,i);return this._driver.animate(r,a,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const r=[],a=this._animations.get(e);let u;const f=new Map;if(a?(u=HM(this._driver,t,a,RM,xC,new Map,new Map,i,EU,r),u.forEach(I=>{const x=vo(f,I.element,new Map);I.postStyleProps.forEach(L=>x.set(L,null))})):(r.push(function CH(){return new d.vHH(3300,!1)}()),u=[]),r.length)throw function IH(n){return new d.vHH(3504,!1)}();f.forEach((I,x)=>{I.forEach((L,j)=>{I.set(j,this._driver.computeStyle(x,j,ju))})});const w=Th(u.map(I=>{const x=f.get(I.element);return this._buildPlayer(I,new Map,x)}));return this._playersById.set(e,w),w.onDestroy(()=>this.destroy(e)),this.players.push(w),w}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function TH(n){return new d.vHH(3301,!1)}();return t}listen(e,t,i,r){const a=AM(t,"","","");return TM(this._getPlayer(e),i,a,r),()=>{}}command(e,t,i,r){if("register"==i)return void this.register(e,r[0]);if("create"==i)return void this.create(e,t,r[0]||{});const a=this._getPlayer(e);switch(i){case"play":a.play();break;case"pause":a.pause();break;case"reset":a.reset();break;case"restart":a.restart();break;case"finish":a.finish();break;case"init":a.init();break;case"setPosition":a.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const hN="ng-animate-queued",$M="ng-animate-disabled",AU=[],fN={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},MU={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ca="__ng_removed";class zM{constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function OU(n){return n??null}(i?e.value:e),i){const a=qb(e);delete a.value,this.options=a}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(r=>{null==i[r]&&(i[r]=t[r])})}}}const Zb="void",qM=new zM(Zb);class xU{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,ua(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.has(t))throw function SH(n,e){return new d.vHH(3302,!1)}();if(null==i||0==i.length)throw function AH(n){return new d.vHH(3303,!1)}();if(!function PU(n){return"start"==n||"done"==n}(i))throw function MH(n,e){return new d.vHH(3400,!1)}();const a=vo(this._elementListeners,e,[]),u={name:t,phase:i,callback:r};a.push(u);const f=vo(this._engine.statesByElement,e,new Map);return f.has(t)||(ua(e,kC),ua(e,kC+"-"+t),f.set(t,qM)),()=>{this._engine.afterFlush(()=>{const _=a.indexOf(u);_>=0&&a.splice(_,1),this._triggers.has(t)||f.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function xH(n){return new d.vHH(3401,!1)}();return t}trigger(e,t,i,r=!0){const a=this._getTrigger(t),u=new WM(this.id,t,e);let f=this._engine.statesByElement.get(e);f||(ua(e,kC),ua(e,kC+"-"+t),this._engine.statesByElement.set(e,f=new Map));let _=f.get(t);const w=new zM(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&_&&w.absorbOptions(_.options),f.set(t,w),_||(_=qM),w.value!==Zb&&_.value===w.value){if(!function LU(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){const a=t[r];if(!e.hasOwnProperty(a)||n[a]!==e[a])return!1}return!0}(_.params,w.params)){const J=[],be=a.matchStyles(_.value,_.params,J),et=a.matchStyles(w.value,w.params,J);J.length?this._engine.reportError(J):this._engine.afterFlush(()=>{kp(e,be),cc(e,et)})}return}const L=vo(this._engine.playersByElement,e,[]);L.forEach(J=>{J.namespaceId==this.id&&J.triggerName==t&&J.queued&&J.destroy()});let j=a.matchTransition(_.value,w.value,e,w.params),z=!1;if(!j){if(!r)return;j=a.fallbackTransition,z=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:j,fromState:_,toState:w,player:u,isFallbackTransition:z}),z||(ua(e,hN),u.onStart(()=>{b_(e,hN)})),u.onDone(()=>{let J=this.players.indexOf(u);J>=0&&this.players.splice(J,1);const be=this._engine.playersByElement.get(e);if(be){let et=be.indexOf(u);et>=0&&be.splice(et,1)}}),this.players.push(u),L.push(u),u}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,RC,!0);i.forEach(r=>{if(r[ca])return;const a=this._engine.fetchNamespacesByElement(r);a.size?a.forEach(u=>u.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){const a=this._engine.statesByElement.get(e),u=new Map;if(a){const f=[];if(a.forEach((_,w)=>{if(u.set(w,_.value),this._triggers.has(w)){const I=this.trigger(e,w,Zb,r);I&&f.push(I)}}),f.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,u),i&&Th(f).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const r=new Set;t.forEach(a=>{const u=a.name;if(r.has(u))return;r.add(u);const _=this._triggers.get(u).fallbackTransition,w=i.get(u)||qM,I=new zM(Zb),x=new WM(this.id,u,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:u,transition:_,fromState:w,toState:I,player:x,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){const a=i.players.length?i.playersByQueriedElement.get(e):[];if(a&&a.length)r=!0;else{let u=e;for(;u=u.parentNode;)if(i.statesByElement.get(u)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{const a=e[ca];(!a||a===fN)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){ua(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const a=i.element,u=this._elementListeners.get(a);u&&u.forEach(f=>{if(f.name==i.triggerName){const _=AM(a,i.triggerName,i.fromState.value,i.toState.value);_._data=e,TM(i.player,f.phase,_,f.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{const a=i.transition.ast.depCount,u=r.transition.ast.depCount;return 0==a||0==u?a-u:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(i=>i.element===e)||t,t}}class kU{constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,a)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new xU(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let u=!1,f=this.driver.getParentElement(t);for(;f;){const _=r.get(f);if(_){const w=i.indexOf(_);i.splice(w+1,0,e),u=!0;break}f=this.driver.getParentElement(f)}u||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){if(!e)return;const i=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[e];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i)for(let r of i.values())if(r.namespaceId){const a=this._fetchNamespace(r.namespaceId);a&&t.add(a)}return t}trigger(e,t,i,r){if(GC(t)){const a=this._fetchNamespace(e);if(a)return a.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!GC(t))return;const a=t[ca];if(a&&a.setForRemoval){a.setForRemoval=!1,a.setForMove=!0;const u=this.collectedLeaveElements.indexOf(t);u>=0&&this.collectedLeaveElements.splice(u,1)}if(e){const u=this._fetchNamespace(e);u&&u.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),ua(e,$M)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),b_(e,$M))}removeNode(e,t,i,r){if(GC(t)){const a=e?this._fetchNamespace(e):null;if(a?a.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r),i){const u=this.namespacesByHostElement.get(t);u&&u.id!==e&&u.removeNode(t,r)}}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,i,r,a){this.collectedLeaveElements.push(t),t[ca]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:a}}listen(e,t,i,r,a){return GC(t)?this._fetchNamespace(e).listen(t,i,r,a):()=>{}}_buildInstruction(e,t,i,r,a){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,a)}destroyInnerAnimations(e){let t=this.driver.query(e,RC,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,OM,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Th(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[ca];if(t&&t.setForRemoval){if(e[ca]=fN,t.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains($M)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)ua(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?Th(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw function kH(n){return new d.vHH(3402,!1)}()}_flushAnimations(e,t){const i=new HC,r=[],a=new Map,u=[],f=new Map,_=new Map,w=new Map,I=new Set;this.disabledNodes.forEach(Et=>{I.add(Et);const Nt=this.driver.query(Et,".ng-animate-queued",!0);for(let Gt=0;Gt<Nt.length;Gt++)I.add(Nt[Gt])});const x=this.bodyNode,L=Array.from(this.statesByElement.keys()),j=gN(L,this.collectedEnterElements),z=new Map;let J=0;j.forEach((Et,Nt)=>{const Gt=RM+J++;z.set(Nt,Gt),Et.forEach(yn=>ua(yn,Gt))});const be=[],et=new Set,yt=new Set;for(let Et=0;Et<this.collectedLeaveElements.length;Et++){const Nt=this.collectedLeaveElements[Et],Gt=Nt[ca];Gt&&Gt.setForRemoval&&(be.push(Nt),et.add(Nt),Gt.hasAnimation?this.driver.query(Nt,".ng-star-inserted",!0).forEach(yn=>et.add(yn)):yt.add(Nt))}const gt=new Map,dt=gN(L,Array.from(et));dt.forEach((Et,Nt)=>{const Gt=xC+J++;gt.set(Nt,Gt),Et.forEach(yn=>ua(yn,Gt))}),e.push(()=>{j.forEach((Et,Nt)=>{const Gt=z.get(Nt);Et.forEach(yn=>b_(yn,Gt))}),dt.forEach((Et,Nt)=>{const Gt=gt.get(Nt);Et.forEach(yn=>b_(yn,Gt))}),be.forEach(Et=>{this.processLeaveNode(Et)})});const Pt=[],Ut=[];for(let Et=this._namespaceList.length-1;Et>=0;Et--)this._namespaceList[Et].drainQueuedTransitions(t).forEach(Gt=>{const yn=Gt.player,vr=Gt.element;if(Pt.push(yn),this.collectedEnterElements.length){const Qr=vr[ca];if(Qr&&Qr.setForMove){if(Qr.previousTriggersValues&&Qr.previousTriggersValues.has(Gt.triggerName)){const Pp=Qr.previousTriggersValues.get(Gt.triggerName),da=this.statesByElement.get(Gt.element);if(da&&da.has(Gt.triggerName)){const qC=da.get(Gt.triggerName);qC.value=Pp,da.set(Gt.triggerName,qC)}}return void yn.destroy()}}const uc=!x||!this.driver.containsElement(x,vr),wo=gt.get(vr),Ah=z.get(vr),wi=this._buildInstruction(Gt,i,Ah,wo,uc);if(wi.errors&&wi.errors.length)return void Ut.push(wi);if(uc)return yn.onStart(()=>kp(vr,wi.fromStyles)),yn.onDestroy(()=>cc(vr,wi.toStyles)),void r.push(yn);if(Gt.isFallbackTransition)return yn.onStart(()=>kp(vr,wi.fromStyles)),yn.onDestroy(()=>cc(vr,wi.toStyles)),void r.push(yn);const xN=[];wi.timelines.forEach(Qr=>{Qr.stretchStartingKeyframe=!0,this.disabledNodes.has(Qr.element)||xN.push(Qr)}),wi.timelines=xN,i.append(vr,wi.timelines),u.push({instruction:wi,player:yn,element:vr}),wi.queriedElements.forEach(Qr=>vo(f,Qr,[]).push(yn)),wi.preStyleProps.forEach((Qr,Pp)=>{if(Qr.size){let da=_.get(Pp);da||_.set(Pp,da=new Set),Qr.forEach((qC,XM)=>da.add(XM))}}),wi.postStyleProps.forEach((Qr,Pp)=>{let da=w.get(Pp);da||w.set(Pp,da=new Set),Qr.forEach((qC,XM)=>da.add(XM))})});if(Ut.length){const Et=[];Ut.forEach(Nt=>{Et.push(function RH(n,e){return new d.vHH(3505,!1)}())}),Pt.forEach(Nt=>Nt.destroy()),this.reportError(Et)}const pn=new Map,_s=new Map;u.forEach(Et=>{const Nt=Et.element;i.has(Nt)&&(_s.set(Nt,Nt),this._beforeAnimationBuild(Et.player.namespaceId,Et.instruction,pn))}),r.forEach(Et=>{const Nt=Et.element;this._getPreviousPlayers(Nt,!1,Et.namespaceId,Et.triggerName,null).forEach(yn=>{vo(pn,Nt,[]).push(yn),yn.destroy()})});const $u=be.filter(Et=>yN(Et,_,w)),zu=new Map;mN(zu,this.driver,yt,w,ju).forEach(Et=>{yN(Et,_,w)&&$u.push(Et)});const Yb=new Map;j.forEach((Et,Nt)=>{mN(Yb,this.driver,new Set(Et),_,"!")}),$u.forEach(Et=>{const Nt=zu.get(Et),Gt=Yb.get(Et);zu.set(Et,new Map([...Array.from(Nt?.entries()??[]),...Array.from(Gt?.entries()??[])]))});const Op=[],AN=[],MN={};u.forEach(Et=>{const{element:Nt,player:Gt,instruction:yn}=Et;if(i.has(Nt)){if(I.has(Nt))return Gt.onDestroy(()=>cc(Nt,yn.toStyles)),Gt.disabled=!0,Gt.overrideTotalTime(yn.totalTime),void r.push(Gt);let vr=MN;if(_s.size>1){let wo=Nt;const Ah=[];for(;wo=wo.parentNode;){const wi=_s.get(wo);if(wi){vr=wi;break}Ah.push(wo)}Ah.forEach(wi=>_s.set(wi,vr))}const uc=this._buildAnimation(Gt.namespaceId,yn,pn,a,Yb,zu);if(Gt.setRealPlayer(uc),vr===MN)Op.push(Gt);else{const wo=this.playersByElement.get(vr);wo&&wo.length&&(Gt.parentPlayer=Th(wo)),r.push(Gt)}}else kp(Nt,yn.fromStyles),Gt.onDestroy(()=>cc(Nt,yn.toStyles)),AN.push(Gt),I.has(Nt)&&r.push(Gt)}),AN.forEach(Et=>{const Nt=a.get(Et.element);if(Nt&&Nt.length){const Gt=Th(Nt);Et.setRealPlayer(Gt)}}),r.forEach(Et=>{Et.parentPlayer?Et.syncPlayerEvents(Et.parentPlayer):Et.destroy()});for(let Et=0;Et<be.length;Et++){const Nt=be[Et],Gt=Nt[ca];if(b_(Nt,xC),Gt&&Gt.hasAnimation)continue;let yn=[];if(f.size){let uc=f.get(Nt);uc&&uc.length&&yn.push(...uc);let wo=this.driver.query(Nt,OM,!0);for(let Ah=0;Ah<wo.length;Ah++){let wi=f.get(wo[Ah]);wi&&wi.length&&yn.push(...wi)}}const vr=yn.filter(uc=>!uc.destroyed);vr.length?NU(this,Nt,vr):this.processLeaveNode(Nt)}return be.length=0,Op.forEach(Et=>{this.players.push(Et),Et.onDone(()=>{Et.destroy();const Nt=this.players.indexOf(Et);this.players.splice(Nt,1)}),Et.play()}),Op}elementContainsData(e,t){let i=!1;const r=t[ca];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(t)&&(i=!0),this.playersByQueriedElement.has(t)&&(i=!0),this.statesByElement.has(t)&&(i=!0),this._fetchNamespace(e).elementContainsData(t)||i}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,a){let u=[];if(t){const f=this.playersByQueriedElement.get(e);f&&(u=f)}else{const f=this.playersByElement.get(e);if(f){const _=!a||a==Zb;f.forEach(w=>{w.queued||!_&&w.triggerName!=r||u.push(w)})}}return(i||r)&&(u=u.filter(f=>!(i&&i!=f.namespaceId||r&&r!=f.triggerName))),u}_beforeAnimationBuild(e,t,i){const a=t.element,u=t.isRemovalTransition?void 0:e,f=t.isRemovalTransition?void 0:t.triggerName;for(const _ of t.timelines){const w=_.element,I=w!==a,x=vo(i,w,[]);this._getPreviousPlayers(w,I,u,f,t.toState).forEach(j=>{const z=j.getRealPlayer();z.beforeDestroy&&z.beforeDestroy(),j.destroy(),x.push(j)})}kp(a,t.fromStyles)}_buildAnimation(e,t,i,r,a,u){const f=t.triggerName,_=t.element,w=[],I=new Set,x=new Set,L=t.timelines.map(z=>{const J=z.element;I.add(J);const be=J[ca];if(be&&be.removedBeforeQueried)return new Gb(z.duration,z.delay);const et=J!==_,yt=function FU(n){const e=[];return _N(n,e),e}((i.get(J)||AU).map(pn=>pn.getRealPlayer())).filter(pn=>!!pn.element&&pn.element===J),gt=a.get(J),dt=u.get(J),Pt=GP(0,this._normalizer,0,z.keyframes,gt,dt),Ut=this._buildPlayer(z,Pt,yt);if(z.subTimeline&&r&&x.add(J),et){const pn=new WM(e,f,J);pn.setRealPlayer(Ut),w.push(pn)}return Ut});w.forEach(z=>{vo(this.playersByQueriedElement,z.element,[]).push(z),z.onDone(()=>function RU(n,e,t){let i=n.get(e);if(i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&n.delete(e)}return i}(this.playersByQueriedElement,z.element,z))}),I.forEach(z=>ua(z,XP));const j=Th(L);return j.onDestroy(()=>{I.forEach(z=>b_(z,XP)),cc(_,t.toStyles)}),x.forEach(z=>{vo(r,z,[]).push(j)}),j}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new Gb(e.duration,e.delay)}}class WM{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new Gb,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,i)=>{t.forEach(r=>TM(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){vo(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function GC(n){return n&&1===n.nodeType}function pN(n,e){const t=n.style.display;return n.style.display=e??"none",t}function mN(n,e,t,i,r){const a=[];t.forEach(_=>a.push(pN(_)));const u=[];i.forEach((_,w)=>{const I=new Map;_.forEach(x=>{const L=e.computeStyle(w,x,r);I.set(x,L),(!L||0==L.length)&&(w[ca]=MU,u.push(w))}),n.set(w,I)});let f=0;return t.forEach(_=>pN(_,a[f++])),u}function gN(n,e){const t=new Map;if(n.forEach(f=>t.set(f,[])),0==e.length)return t;const r=new Set(e),a=new Map;function u(f){if(!f)return 1;let _=a.get(f);if(_)return _;const w=f.parentNode;return _=t.has(w)?w:r.has(w)?1:u(w),a.set(f,_),_}return e.forEach(f=>{const _=u(f);1!==_&&t.get(_).push(f)}),t}function ua(n,e){n.classList?.add(e)}function b_(n,e){n.classList?.remove(e)}function NU(n,e,t){Th(t).onDone(()=>n.processLeaveNode(e))}function _N(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof vP?_N(i.players,e):e.push(i)}}function yN(n,e,t){const i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(a=>r.add(a)):e.set(n,i),t.delete(n),!0}class $C{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,a)=>{},this._transitionEngine=new kU(e,t,i),this._timelineEngine=new DU(e,t,i),this._transitionEngine.onRemovalComplete=(r,a)=>this.onRemovalComplete(r,a)}registerTrigger(e,t,i,r,a){const u=e+"-"+r;let f=this._triggerCache[u];if(!f){const _=[],I=LM(this._driver,a,_,[]);if(_.length)throw function wH(n,e){return new d.vHH(3404,!1)}();f=function vU(n,e,t){return new bU(n,e,t)}(r,I,this._normalizer),this._triggerCache[u]=f}this._transitionEngine.registerTrigger(t,r,f)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i,r){this._transitionEngine.removeNode(e,t,r||!1,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if("@"==i.charAt(0)){const[a,u]=$P(i);this._timelineEngine.command(a,t,u,r)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,a){if("@"==i.charAt(0)){const[u,f]=$P(i);return this._timelineEngine.listen(u,t,f,a)}return this._transitionEngine.listen(e,t,i,r,a)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let BU=(()=>{class n{constructor(t,i,r){this._element=t,this._startStyles=i,this._endStyles=r,this._state=0;let a=n.initialStylesByElement.get(t);a||n.initialStylesByElement.set(t,a=new Map),this._initialStyles=a}start(){this._state<1&&(this._startStyles&&cc(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(cc(this._element,this._initialStyles),this._endStyles&&(cc(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(kp(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(kp(this._element,this._endStyles),this._endStyles=null),cc(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function KM(n){let e=null;return n.forEach((t,i)=>{(function HU(n){return"display"===n||"position"===n})(i)&&(e=e||new Map,e.set(i,t))}),e}class vN{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(e,t,i){return e.animate(this._convertKeyframesToObject(t),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&e.set(r,this._finished?i:rN(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class UU{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return KP(e,t)}getParentElement(e){return xM(e)}query(e,t,i){return ZP(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}animate(e,t,i,r,a,u=[]){const _={duration:i,delay:r,fill:0==r?"both":"forwards"};a&&(_.easing=a);const w=new Map,I=u.filter(j=>j instanceof vN);(function zH(n,e){return 0===n||0===e})(i,r)&&I.forEach(j=>{j.currentSnapshot.forEach((z,J)=>w.set(J,z))});let x=function UH(n){return n.length?n[0]instanceof Map?n:n.map(e=>JP(e)):[]}(t).map(j=>Sh(j));x=function qH(n,e,t){if(t.size&&e.length){let i=e[0],r=[];if(t.forEach((a,u)=>{i.has(u)||r.push(u),i.set(u,a)}),r.length)for(let a=1;a<e.length;a++){let u=e[a];r.forEach(f=>u.set(f,rN(n,f)))}}return e}(e,x,w);const L=function VU(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=KM(e[0]),e.length>1&&(i=KM(e[e.length-1]))):e instanceof Map&&(t=KM(e)),t||i?new BU(n,t,i):null}(e,x);return new vN(e,x,_,L)}}let jU=(()=>{class n extends hP{constructor(t,i){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(i.body,{id:"0",encapsulation:d.ifc.None,styles:[],data:{animation:[]}})}build(t){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(t)?mP(t):t;return bN(this._renderer,null,i,"register",[r]),new GU(i,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.FYo),d.LFG(ne))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class GU extends class MB{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new $U(this._id,e,t||{},this._renderer)}}class $U{constructor(e,t,i,r){this.id=e,this.element=t,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return bN(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function bN(n,e,t,i,r){return n.setProperty(e,`@@${t}:${i}`,r)}const wN="@.disabled";let zU=(()=>{class n{constructor(t,i,r){this.delegate=t,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(a,u)=>{const f=u?.parentNode(a);f&&u.removeChild(f,a)}}createRenderer(t,i){const a=this.delegate.createRenderer(t,i);if(!(t&&i&&i.data&&i.data.animation)){let I=this._rendererCache.get(a);return I||(I=new EN("",a,this.engine,()=>this._rendererCache.delete(a)),this._rendererCache.set(a,I)),I}const u=i.id,f=i.id+"-"+this._currentId;this._currentId++,this.engine.register(f,t);const _=I=>{Array.isArray(I)?I.forEach(_):this.engine.registerTrigger(u,f,t,I.name,I)};return i.data.animation.forEach(_),new qU(this,f,a,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,i,r){t>=0&&t<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(a=>{const[u,f]=a;u(f)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.FYo),d.LFG($C),d.LFG(d.R0b))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class EN{constructor(e,t,i,r){this.namespaceId=e,this.delegate=t,this.engine=i,this._onDestroy=r,this.destroyNode=this.delegate.destroyNode?a=>t.destroyNode(a):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate,i)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==wN?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class qU extends EN{constructor(e,t,i,r,a){super(t,i,r,a),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==wN?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const r=function WU(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let a=t.slice(1),u="";return"@"!=a.charAt(0)&&([a,u]=function KU(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(a)),this.engine.listen(this.namespaceId,r,a,u,f=>{this.factory.scheduleListenerCallback(f._data||-1,i,f)})}return this.delegate.listen(e,t,i)}}let ZU=(()=>{class n extends $C{constructor(t,i,r,a){super(t.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ne),d.LFG(kM),d.LFG(jM),d.LFG(d.z2F))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const DN=[{provide:hP,useClass:jU},{provide:jM,useFactory:function YU(){return new mU}},{provide:$C,useClass:ZU},{provide:d.FYo,useFactory:function QU(n,e,t){return new zU(n,e,t)},deps:[Qs,$C,d.R0b]}],ZM=[{provide:kM,useFactory:()=>new UU},{provide:d.QbO,useValue:"BrowserAnimations"},...DN],CN=[{provide:kM,useClass:YP},{provide:d.QbO,useValue:"NoopAnimations"},...DN];let XU=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?CN:ZM}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:ZM,imports:[Al]}),n})();const IN_firebase={apiKey:"AIzaSyAi_wbajRuBUrNWmRuh3A0SZh6_ElSsd1g",authDomain:"kanbanfire-d1fa7.firebaseapp.com",projectId:"kanbanfire-d1fa7",storageBucket:"kanbanfire-d1fa7.appspot.com",messagingSenderId:"1022426355408",appId:"1:1022426355408:web:ac7ceeb9e2179a22fb70d5"},JU=function(n){return{task:n,delete:!0}};function ej(n,e){if(1&n&&(d.TgZ(0,"button",4)(1,"mat-icon"),d._uU(2,"delete"),d.qZA()()),2&n){const t=d.oxw();d.Q6J("mat-dialog-close",d.VKq(1,JU,t.data.task))}}let TN=(()=>{class n{constructor(t,i){this.dialogRef=t,this.data=i,this.backupTask={...this.data.task}}ngOnInit(){}cancel(){this.data.task.title=this.backupTask.title,this.data.task.description=this.backupTask.description,this.dialogRef.close(this.data)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(vM),d.Y36(wP))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-task-dialog"]],decls:10,vars:3,consts:[["matInput","","cdkFocusInitial","",3,"ngModel","ngModelChange"],["matInput","",3,"ngModel","ngModelChange"],["mat-dialog-actions",""],["mat-fab","","color","primary","aria-label","Delete",3,"mat-dialog-close",4,"ngIf"],["mat-fab","","color","primary","aria-label","Delete",3,"mat-dialog-close"]],template:function(t,i){1&t&&(d.TgZ(0,"mat-form-field")(1,"mat-label"),d._uU(2,"Title"),d.qZA(),d.TgZ(3,"input",0),d.NdJ("ngModelChange",function(a){return i.data.task.title=a}),d.qZA()(),d.TgZ(4,"mat-form-field")(5,"mat-label"),d._uU(6,"Description"),d.qZA(),d.TgZ(7,"textarea",1),d.NdJ("ngModelChange",function(a){return i.data.task.description=a}),d.qZA()(),d.TgZ(8,"div",2),d.YNc(9,ej,3,3,"button",3),d.qZA()),2&t&&(d.xp6(3),d.Q6J("ngModel",i.data.task.title),d.xp6(4),d.Q6J("ngModel",i.data.task.description),d.xp6(2),d.Q6J("ngIf",i.data.enableDelete))},dependencies:[Gn,NP,ZO,BB,HB,U2,CM,q2,cC,oO,tM]}),n})();function tj(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"mat-card",1),d.NdJ("dblclick",function(){d.CHM(t);const r=d.oxw();return d.KtG(r.edit.emit(r.task))}),d.TgZ(1,"h2"),d._uU(2),d.qZA(),d.TgZ(3,"p"),d._uU(4),d.qZA()()}if(2&n){const t=d.oxw();d.xp6(2),d.Oqu(t.task.title),d.xp6(2),d.hij(" ",t.task.description," ")}}let nj=(()=>{class n{constructor(){this.task=null,this.edit=new d.vpe}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-task"]],inputs:{task:"task"},outputs:{edit:"edit"},decls:1,vars:1,consts:[["class","item",3,"dblclick",4,"ngIf"],[1,"item",3,"dblclick"]],template:function(t,i){1&t&&d.YNc(0,tj,5,2,"mat-card",0),2&t&&d.Q6J("ngIf",i.task)},dependencies:[Gn,YO],styles:["[_nghost-%COMP%]{display:block}.item[_ngcontent-%COMP%]{margin-bottom:10px;cursor:pointer}"]}),n})();function ij(n,e){1&n&&(d.TgZ(0,"p",13),d._uU(1,"Empty list"),d.qZA())}function rj(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"app-task",14),d.NdJ("edit",function(r){d.CHM(t);const a=d.oxw();return d.KtG(a.editTask("todo",r))}),d.qZA()}2&n&&d.Q6J("task",e.$implicit)}function sj(n,e){1&n&&(d.TgZ(0,"p",13),d._uU(1,"Empty list"),d.qZA())}function oj(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"app-task",14),d.NdJ("edit",function(r){d.CHM(t);const a=d.oxw();return d.KtG(a.editTask("inProgress",r))}),d.qZA()}2&n&&d.Q6J("task",e.$implicit)}function aj(n,e){1&n&&(d.TgZ(0,"p",13),d._uU(1,"Empty list"),d.qZA())}function lj(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"app-task",14),d.NdJ("edit",function(r){d.CHM(t);const a=d.oxw();return d.KtG(a.editTask("done",r))}),d.qZA()}2&n&&d.Q6J("task",e.$implicit)}const YM=function(n,e){return[n,e]},QM=n=>{const e=new nm([]);return n.valueChanges({idField:"id"}).subscribe(t=>{e.next(t)}),e};let cj=(()=>{class n{constructor(t,i){this.dialog=t,this.store=i,this.todo=QM(this.store.collection("todo")),this.inProgress=QM(this.store.collection("inProgress")),this.done=QM(this.store.collection("done"))}newTask(){this.dialog.open(TN,{width:"270px",data:{task:{}}}).afterClosed().subscribe(i=>{!i||this.store.collection("todo").add(i.task)})}editTask(t,i){this.dialog.open(TN,{width:"270px",data:{task:i,enableDelete:!0}}).afterClosed().subscribe(a=>{!a||(a.delete?this.store.collection(t).doc(i.id).delete():this.store.collection(t).doc(i.id).update(i))})}drop(t){if(t.previousContainer===t.container)return;const i=t.previousContainer.data[t.previousIndex];this.store.firestore.runTransaction(()=>Promise.all([this.store.collection(t.previousContainer.id).doc(i.id).delete(),this.store.collection(t.container.id).add(i)])),function gx(n,e,t,i){const r=Nm(t,n.length-1),a=Nm(i,e.length);n.length&&e.splice(a,0,n.splice(r,1)[0])}(t.previousContainer.data,t.container.data,t.previousIndex,t.currentIndex)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(bM),d.Y36(OR))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-root"]],decls:42,vars:35,consts:[["color","primary"],[1,"content-wrapper"],["mat-button","",3,"click"],[1,"container-wrapper"],[1,"container"],["cdkDropList","","id","todo",1,"list",3,"cdkDropListData","cdkDropListConnectedTo","cdkDropListDropped"],["todoList","cdkDropList"],["class","empty-label",4,"ngIf"],["cdkDrag","",3,"task","edit",4,"ngFor","ngForOf"],["cdkDropList","","id","inProgress",1,"list",3,"cdkDropListData","cdkDropListConnectedTo","cdkDropListDropped"],["inProgressList","cdkDropList"],["cdkDropList","","id","done",1,"list",3,"cdkDropListData","cdkDropListConnectedTo","cdkDropListDropped"],["doneList","cdkDropList"],[1,"empty-label"],["cdkDrag","",3,"task","edit"]],template:function(t,i){if(1&t&&(d.TgZ(0,"mat-toolbar",0)(1,"mat-icon"),d._uU(2,"local_fire_department"),d.qZA(),d.TgZ(3,"span"),d._uU(4,"Kanban Fire"),d.qZA()(),d.TgZ(5,"div",1)(6,"button",2),d.NdJ("click",function(){return i.newTask()}),d.TgZ(7,"mat-icon"),d._uU(8,"add"),d.qZA(),d._uU(9," Add Task "),d.qZA(),d.TgZ(10,"div",3)(11,"div",4),d._uU(12," ... "),d.qZA()(),d.TgZ(13,"div",3)(14,"div",4)(15,"h2"),d._uU(16,"Backlog"),d.qZA(),d.TgZ(17,"mat-card",5,6),d.NdJ("cdkDropListDropped",function(a){return i.drop(a)}),d.ALo(19,"async"),d.YNc(20,ij,2,0,"p",7),d.ALo(21,"async"),d.YNc(22,rj,1,1,"app-task",8),d.ALo(23,"async"),d.qZA()(),d.TgZ(24,"div",4)(25,"h2"),d._uU(26,"In progress"),d.qZA(),d.TgZ(27,"mat-card",9,10),d.NdJ("cdkDropListDropped",function(a){return i.drop(a)}),d.YNc(29,sj,2,0,"p",7),d.ALo(30,"async"),d.YNc(31,oj,1,1,"app-task",8),d.ALo(32,"async"),d.qZA()(),d.TgZ(33,"div",4)(34,"h2"),d._uU(35,"Done"),d.qZA(),d.TgZ(36,"mat-card",11,12),d.NdJ("cdkDropListDropped",function(a){return i.drop(a)}),d.YNc(38,aj,2,0,"p",7),d.ALo(39,"async"),d.YNc(40,lj,1,1,"app-task",8),d.ALo(41,"async"),d.qZA()()()()),2&t){const r=d.MAs(18),a=d.MAs(28),u=d.MAs(37);let f,_,w;d.xp6(17),d.Q6J("cdkDropListData",d.lcZ(19,12,i.todo))("cdkDropListConnectedTo",d.WLB(26,YM,u,a)),d.xp6(3),d.Q6J("ngIf",0===(null==(f=d.lcZ(21,14,i.todo))?null:f.length)),d.xp6(2),d.Q6J("ngForOf",d.lcZ(23,16,i.todo)),d.xp6(5),d.Q6J("cdkDropListData",i.inProgress)("cdkDropListConnectedTo",d.WLB(29,YM,r,u)),d.xp6(2),d.Q6J("ngIf",0===(null==(_=d.lcZ(30,18,i.inProgress))?null:_.length)),d.xp6(2),d.Q6J("ngForOf",d.lcZ(32,20,i.inProgress)),d.xp6(5),d.Q6J("cdkDropListData",i.done)("cdkDropListConnectedTo",d.WLB(32,YM,r,a)),d.xp6(2),d.Q6J("ngIf",0===(null==(w=d.lcZ(39,22,i.done))?null:w.length)),d.xp6(2),d.Q6J("ngForOf",d.lcZ(41,24,i.done))}},dependencies:[Gs,Gn,X2,NP,YO,d0,f0,ZO,nj,_c],styles:["mat-toolbar[_ngcontent-%COMP%]{margin-bottom:20px}mat-toolbar[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{margin-left:10px}.content-wrapper[_ngcontent-%COMP%]{max-width:1400px;margin:auto}.container-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:space-around}.container[_ngcontent-%COMP%]{width:400px;margin:0 25px 25px 0}.list[_ngcontent-%COMP%]{border:solid 1px #ccc;min-height:60px;border-radius:4px}app-new-task[_ngcontent-%COMP%]{margin-bottom:30px}.empty-label[_ngcontent-%COMP%]{font-size:2em;padding-top:10px;text-align:center;opacity:.2}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}"]}),n})(),uj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n,bootstrap:[cj]}),n.\u0275inj=d.cJS({imports:[Al,XU,J2,p2,rB,Lm,tB,jB,W2,FV,bi.hO.initializeApp(IN_firebase),FL]}),n})();Sl().bootstrapModule(uj).catch(n=>console.error(n))},8306:(_t,Me,N)=>{N.d(Me,{y:()=>$});var d=N(930),te=N(727),P=N(8822),ae=N(4671);var ne=N(2416),ue=N(576),de=N(2806);let $=(()=>{class Se{constructor(je){je&&(this._subscribe=je)}lift(je){const pe=new Se;return pe.source=this,pe.operator=je,pe}subscribe(je,pe,me){const Qe=function $e(Se){return Se&&Se instanceof d.Lv||function X(Se){return Se&&(0,ue.m)(Se.next)&&(0,ue.m)(Se.error)&&(0,ue.m)(Se.complete)}(Se)&&(0,te.Nn)(Se)}(je)?je:new d.Hp(je,pe,me);return(0,de.x)(()=>{const{operator:rt,source:De}=this;Qe.add(rt?rt.call(Qe,De):De?this._subscribe(Qe):this._trySubscribe(Qe))}),Qe}_trySubscribe(je){try{return this._subscribe(je)}catch(pe){je.error(pe)}}forEach(je,pe){return new(pe=G(pe))((me,Qe)=>{const rt=new d.Hp({next:De=>{try{je(De)}catch(_e){Qe(_e),rt.unsubscribe()}},error:Qe,complete:me});this.subscribe(rt)})}_subscribe(je){var pe;return null===(pe=this.source)||void 0===pe?void 0:pe.subscribe(je)}[P.L](){return this}pipe(...je){return function he(Se){return 0===Se.length?ae.y:1===Se.length?Se[0]:function(je){return Se.reduce((pe,me)=>me(pe),je)}}(je)(this)}toPromise(je){return new(je=G(je))((pe,me)=>{let Qe;this.subscribe(rt=>Qe=rt,rt=>me(rt),()=>pe(Qe))})}}return Se.create=ke=>new Se(ke),Se})();function G(Se){var ke;return null!==(ke=Se??ne.v.Promise)&&void 0!==ke?ke:Promise}},7579:(_t,Me,N)=>{N.d(Me,{x:()=>ne});var d=N(8306),te=N(727);const ae=(0,N(3888).d)(de=>function(){de(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var re=N(8737),he=N(2806);let ne=(()=>{class de extends d.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(G){const X=new ue(this,this);return X.operator=G,X}_throwIfClosed(){if(this.closed)throw new ae}next(G){(0,he.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const X of this.currentObservers)X.next(G)}})}error(G){(0,he.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=G;const{observers:X}=this;for(;X.length;)X.shift().error(G)}})}complete(){(0,he.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:G}=this;for(;G.length;)G.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var G;return(null===(G=this.observers)||void 0===G?void 0:G.length)>0}_trySubscribe(G){return this._throwIfClosed(),super._trySubscribe(G)}_subscribe(G){return this._throwIfClosed(),this._checkFinalizedStatuses(G),this._innerSubscribe(G)}_innerSubscribe(G){const{hasError:X,isStopped:$e,observers:Se}=this;return X||$e?te.Lc:(this.currentObservers=null,Se.push(G),new te.w0(()=>{this.currentObservers=null,(0,re.P)(Se,G)}))}_checkFinalizedStatuses(G){const{hasError:X,thrownError:$e,isStopped:Se}=this;X?G.error($e):Se&&G.complete()}asObservable(){const G=new d.y;return G.source=this,G}}return de.create=($,G)=>new ue($,G),de})();class ue extends ne{constructor($,G){super(),this.destination=$,this.source=G}next($){var G,X;null===(X=null===(G=this.destination)||void 0===G?void 0:G.next)||void 0===X||X.call(G,$)}error($){var G,X;null===(X=null===(G=this.destination)||void 0===G?void 0:G.error)||void 0===X||X.call(G,$)}complete(){var $,G;null===(G=null===($=this.destination)||void 0===$?void 0:$.complete)||void 0===G||G.call($)}_subscribe($){var G,X;return null!==(X=null===(G=this.source)||void 0===G?void 0:G.subscribe($))&&void 0!==X?X:te.Lc}}},930:(_t,Me,N)=>{N.d(Me,{Hp:()=>je,Lv:()=>X});var d=N(576),te=N(727),P=N(2416),ae=N(7849),re=N(5032);const he=de("C",void 0,void 0);function de(De,_e,Ce){return{kind:De,value:_e,error:Ce}}var $=N(3410),G=N(2806);class X extends te.w0{constructor(_e){super(),this.isStopped=!1,_e?(this.destination=_e,(0,te.Nn)(_e)&&_e.add(this)):this.destination=rt}static create(_e,Ce,Ve){return new je(_e,Ce,Ve)}next(_e){this.isStopped?Qe(function ue(De){return de("N",De,void 0)}(_e),this):this._next(_e)}error(_e){this.isStopped?Qe(function ne(De){return de("E",void 0,De)}(_e),this):(this.isStopped=!0,this._error(_e))}complete(){this.isStopped?Qe(he,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(_e){this.destination.next(_e)}_error(_e){try{this.destination.error(_e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const $e=Function.prototype.bind;function Se(De,_e){return $e.call(De,_e)}class ke{constructor(_e){this.partialObserver=_e}next(_e){const{partialObserver:Ce}=this;if(Ce.next)try{Ce.next(_e)}catch(Ve){pe(Ve)}}error(_e){const{partialObserver:Ce}=this;if(Ce.error)try{Ce.error(_e)}catch(Ve){pe(Ve)}else pe(_e)}complete(){const{partialObserver:_e}=this;if(_e.complete)try{_e.complete()}catch(Ce){pe(Ce)}}}class je extends X{constructor(_e,Ce,Ve){let Ge;if(super(),(0,d.m)(_e)||!_e)Ge={next:_e??void 0,error:Ce??void 0,complete:Ve??void 0};else{let H;this&&P.v.useDeprecatedNextContext?(H=Object.create(_e),H.unsubscribe=()=>this.unsubscribe(),Ge={next:_e.next&&Se(_e.next,H),error:_e.error&&Se(_e.error,H),complete:_e.complete&&Se(_e.complete,H)}):Ge=_e}this.destination=new ke(Ge)}}function pe(De){P.v.useDeprecatedSynchronousErrorHandling?(0,G.O)(De):(0,ae.h)(De)}function Qe(De,_e){const{onStoppedNotification:Ce}=P.v;Ce&&$.z.setTimeout(()=>Ce(De,_e))}const rt={closed:!0,next:re.Z,error:function me(De){throw De},complete:re.Z}},727:(_t,Me,N)=>{N.d(Me,{Lc:()=>he,w0:()=>re,Nn:()=>ne});var d=N(576);const P=(0,N(3888).d)(de=>function(G){de(this),this.message=G?`${G.length} errors occurred during unsubscription:\n${G.map((X,$e)=>`${$e+1}) ${X.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=G});var ae=N(8737);class re{constructor($){this.initialTeardown=$,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let $;if(!this.closed){this.closed=!0;const{_parentage:G}=this;if(G)if(this._parentage=null,Array.isArray(G))for(const Se of G)Se.remove(this);else G.remove(this);const{initialTeardown:X}=this;if((0,d.m)(X))try{X()}catch(Se){$=Se instanceof P?Se.errors:[Se]}const{_finalizers:$e}=this;if($e){this._finalizers=null;for(const Se of $e)try{ue(Se)}catch(ke){$=$??[],ke instanceof P?$=[...$,...ke.errors]:$.push(ke)}}if($)throw new P($)}}add($){var G;if($&&$!==this)if(this.closed)ue($);else{if($ instanceof re){if($.closed||$._hasParent(this))return;$._addParent(this)}(this._finalizers=null!==(G=this._finalizers)&&void 0!==G?G:[]).push($)}}_hasParent($){const{_parentage:G}=this;return G===$||Array.isArray(G)&&G.includes($)}_addParent($){const{_parentage:G}=this;this._parentage=Array.isArray(G)?(G.push($),G):G?[G,$]:$}_removeParent($){const{_parentage:G}=this;G===$?this._parentage=null:Array.isArray(G)&&(0,ae.P)(G,$)}remove($){const{_finalizers:G}=this;G&&(0,ae.P)(G,$),$ instanceof re&&$._removeParent(this)}}re.EMPTY=(()=>{const de=new re;return de.closed=!0,de})();const he=re.EMPTY;function ne(de){return de instanceof re||de&&"closed"in de&&(0,d.m)(de.remove)&&(0,d.m)(de.add)&&(0,d.m)(de.unsubscribe)}function ue(de){(0,d.m)(de)?de():de.unsubscribe()}},2416:(_t,Me,N)=>{N.d(Me,{v:()=>d});const d={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(_t,Me,N)=>{N.d(Me,{E:()=>te});const te=new(N(8306).y)(re=>re.complete())},8996:(_t,Me,N)=>{N.d(Me,{D:()=>_e});var d=N(8421),te=N(5363),P=N(9468),he=N(8306),ue=N(2202),de=N(576),$=N(9672);function X(Ce,Ve){if(!Ce)throw new Error("Iterable cannot be null");return new he.y(Ge=>{(0,$.f)(Ge,Ve,()=>{const H=Ce[Symbol.asyncIterator]();(0,$.f)(Ge,Ve,()=>{H.next().then(ge=>{ge.done?Ge.complete():Ge.next(ge.value)})},0,!0)})})}var $e=N(3670),Se=N(8239),ke=N(1144),je=N(6495),pe=N(2206),me=N(4532),Qe=N(3260);function _e(Ce,Ve){return Ve?function De(Ce,Ve){if(null!=Ce){if((0,$e.c)(Ce))return function ae(Ce,Ve){return(0,d.Xf)(Ce).pipe((0,P.R)(Ve),(0,te.Q)(Ve))}(Ce,Ve);if((0,ke.z)(Ce))return function ne(Ce,Ve){return new he.y(Ge=>{let H=0;return Ve.schedule(function(){H===Ce.length?Ge.complete():(Ge.next(Ce[H++]),Ge.closed||this.schedule())})})}(Ce,Ve);if((0,Se.t)(Ce))return function re(Ce,Ve){return(0,d.Xf)(Ce).pipe((0,P.R)(Ve),(0,te.Q)(Ve))}(Ce,Ve);if((0,pe.D)(Ce))return X(Ce,Ve);if((0,je.T)(Ce))return function G(Ce,Ve){return new he.y(Ge=>{let H;return(0,$.f)(Ge,Ve,()=>{H=Ce[ue.h](),(0,$.f)(Ge,Ve,()=>{let ge,Be;try{({value:ge,done:Be}=H.next())}catch(tt){return void Ge.error(tt)}Be?Ge.complete():Ge.next(ge)},0,!0)}),()=>(0,de.m)(H?.return)&&H.return()})}(Ce,Ve);if((0,Qe.L)(Ce))return function rt(Ce,Ve){return X((0,Qe.Q)(Ce),Ve)}(Ce,Ve)}throw(0,me.z)(Ce)}(Ce,Ve):(0,d.Xf)(Ce)}},8421:(_t,Me,N)=>{N.d(Me,{Xf:()=>$e});var d=N(655),te=N(1144),P=N(8239),ae=N(8306),re=N(3670),he=N(2206),ne=N(4532),ue=N(6495),de=N(3260),$=N(576),G=N(7849),X=N(8822);function $e(De){if(De instanceof ae.y)return De;if(null!=De){if((0,re.c)(De))return function Se(De){return new ae.y(_e=>{const Ce=De[X.L]();if((0,$.m)(Ce.subscribe))return Ce.subscribe(_e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(De);if((0,te.z)(De))return function ke(De){return new ae.y(_e=>{for(let Ce=0;Ce<De.length&&!_e.closed;Ce++)_e.next(De[Ce]);_e.complete()})}(De);if((0,P.t)(De))return function je(De){return new ae.y(_e=>{De.then(Ce=>{_e.closed||(_e.next(Ce),_e.complete())},Ce=>_e.error(Ce)).then(null,G.h)})}(De);if((0,he.D)(De))return me(De);if((0,ue.T)(De))return function pe(De){return new ae.y(_e=>{for(const Ce of De)if(_e.next(Ce),_e.closed)return;_e.complete()})}(De);if((0,de.L)(De))return function Qe(De){return me((0,de.Q)(De))}(De)}throw(0,ne.z)(De)}function me(De){return new ae.y(_e=>{(function rt(De,_e){var Ce,Ve,Ge,H;return(0,d.mG)(this,void 0,void 0,function*(){try{for(Ce=(0,d.KL)(De);!(Ve=yield Ce.next()).done;)if(_e.next(Ve.value),_e.closed)return}catch(ge){Ge={error:ge}}finally{try{Ve&&!Ve.done&&(H=Ce.return)&&(yield H.call(Ce))}finally{if(Ge)throw Ge.error}}_e.complete()})})(De,_e).catch(Ce=>_e.error(Ce))})}},6451:(_t,Me,N)=>{N.d(Me,{T:()=>he});var d=N(8189),te=N(8421),P=N(515),ae=N(3269),re=N(8996);function he(...ne){const ue=(0,ae.yG)(ne),de=(0,ae._6)(ne,1/0),$=ne;return $.length?1===$.length?(0,te.Xf)($[0]):(0,d.J)(de)((0,re.D)($,ue)):P.E}},5403:(_t,Me,N)=>{N.d(Me,{x:()=>te});var d=N(930);function te(ae,re,he,ne,ue){return new P(ae,re,he,ne,ue)}class P extends d.Lv{constructor(re,he,ne,ue,de,$){super(re),this.onFinalize=de,this.shouldUnsubscribe=$,this._next=he?function(G){try{he(G)}catch(X){re.error(X)}}:super._next,this._error=ue?function(G){try{ue(G)}catch(X){re.error(X)}finally{this.unsubscribe()}}:super._error,this._complete=ne?function(){try{ne()}catch(G){re.error(G)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var re;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:he}=this;super.unsubscribe(),!he&&(null===(re=this.onFinalize)||void 0===re||re.call(this))}}}},4004:(_t,Me,N)=>{N.d(Me,{U:()=>P});var d=N(4482),te=N(5403);function P(ae,re){return(0,d.e)((he,ne)=>{let ue=0;he.subscribe((0,te.x)(ne,de=>{ne.next(ae.call(re,de,ue++))}))})}},8189:(_t,Me,N)=>{N.d(Me,{J:()=>P});var d=N(5577),te=N(4671);function P(ae=1/0){return(0,d.z)(te.y,ae)}},5577:(_t,Me,N)=>{N.d(Me,{z:()=>ue});var d=N(4004),te=N(8421),P=N(4482),ae=N(9672),re=N(5403),ne=N(576);function ue(de,$,G=1/0){return(0,ne.m)($)?ue((X,$e)=>(0,d.U)((Se,ke)=>$(X,Se,$e,ke))((0,te.Xf)(de(X,$e))),G):("number"==typeof $&&(G=$),(0,P.e)((X,$e)=>function he(de,$,G,X,$e,Se,ke,je){const pe=[];let me=0,Qe=0,rt=!1;const De=()=>{rt&&!pe.length&&!me&&$.complete()},_e=Ve=>me<X?Ce(Ve):pe.push(Ve),Ce=Ve=>{Se&&$.next(Ve),me++;let Ge=!1;(0,te.Xf)(G(Ve,Qe++)).subscribe((0,re.x)($,H=>{$e?.(H),Se?_e(H):$.next(H)},()=>{Ge=!0},void 0,()=>{if(Ge)try{for(me--;pe.length&&me<X;){const H=pe.shift();ke?(0,ae.f)($,ke,()=>Ce(H)):Ce(H)}De()}catch(H){$.error(H)}}))};return de.subscribe((0,re.x)($,_e,()=>{rt=!0,De()})),()=>{je?.()}}(X,$e,de,G)))}},5363:(_t,Me,N)=>{N.d(Me,{Q:()=>ae});var d=N(9672),te=N(4482),P=N(5403);function ae(re,he=0){return(0,te.e)((ne,ue)=>{ne.subscribe((0,P.x)(ue,de=>(0,d.f)(ue,re,()=>ue.next(de),he),()=>(0,d.f)(ue,re,()=>ue.complete(),he),de=>(0,d.f)(ue,re,()=>ue.error(de),he)))})}},3099:(_t,Me,N)=>{N.d(Me,{B:()=>re});var d=N(8421),te=N(7579),P=N(930),ae=N(4482);function re(ne={}){const{connector:ue=(()=>new te.x),resetOnError:de=!0,resetOnComplete:$=!0,resetOnRefCountZero:G=!0}=ne;return X=>{let $e,Se,ke,je=0,pe=!1,me=!1;const Qe=()=>{Se?.unsubscribe(),Se=void 0},rt=()=>{Qe(),$e=ke=void 0,pe=me=!1},De=()=>{const _e=$e;rt(),_e?.unsubscribe()};return(0,ae.e)((_e,Ce)=>{je++,!me&&!pe&&Qe();const Ve=ke=ke??ue();Ce.add(()=>{je--,0===je&&!me&&!pe&&(Se=he(De,G))}),Ve.subscribe(Ce),!$e&&je>0&&($e=new P.Hp({next:Ge=>Ve.next(Ge),error:Ge=>{me=!0,Qe(),Se=he(rt,de,Ge),Ve.error(Ge)},complete:()=>{pe=!0,Qe(),Se=he(rt,$),Ve.complete()}}),(0,d.Xf)(_e).subscribe($e))})(X)}}function he(ne,ue,...de){if(!0===ue)return void ne();if(!1===ue)return;const $=new P.Hp({next:()=>{$.unsubscribe(),ne()}});return ue(...de).subscribe($)}},9468:(_t,Me,N)=>{N.d(Me,{R:()=>te});var d=N(4482);function te(P,ae=0){return(0,d.e)((re,he)=>{he.add(P.schedule(()=>re.subscribe(he),ae))})}},8505:(_t,Me,N)=>{N.d(Me,{b:()=>re});var d=N(576),te=N(4482),P=N(5403),ae=N(4671);function re(he,ne,ue){const de=(0,d.m)(he)||ne||ue?{next:he,error:ne,complete:ue}:he;return de?(0,te.e)(($,G)=>{var X;null===(X=de.subscribe)||void 0===X||X.call(de);let $e=!0;$.subscribe((0,P.x)(G,Se=>{var ke;null===(ke=de.next)||void 0===ke||ke.call(de,Se),G.next(Se)},()=>{var Se;$e=!1,null===(Se=de.complete)||void 0===Se||Se.call(de),G.complete()},Se=>{var ke;$e=!1,null===(ke=de.error)||void 0===ke||ke.call(de,Se),G.error(Se)},()=>{var Se,ke;$e&&(null===(Se=de.unsubscribe)||void 0===Se||Se.call(de)),null===(ke=de.finalize)||void 0===ke||ke.call(de)}))}):ae.y}},4408:(_t,Me,N)=>{N.d(Me,{o:()=>re});var d=N(727);class te extends d.w0{constructor(ne,ue){super()}schedule(ne,ue=0){return this}}const P={setInterval(he,ne,...ue){const{delegate:de}=P;return de?.setInterval?de.setInterval(he,ne,...ue):setInterval(he,ne,...ue)},clearInterval(he){const{delegate:ne}=P;return(ne?.clearInterval||clearInterval)(he)},delegate:void 0};var ae=N(8737);class re extends te{constructor(ne,ue){super(ne,ue),this.scheduler=ne,this.work=ue,this.pending=!1}schedule(ne,ue=0){var de;if(this.closed)return this;this.state=ne;const $=this.id,G=this.scheduler;return null!=$&&(this.id=this.recycleAsyncId(G,$,ue)),this.pending=!0,this.delay=ue,this.id=null!==(de=this.id)&&void 0!==de?de:this.requestAsyncId(G,this.id,ue),this}requestAsyncId(ne,ue,de=0){return P.setInterval(ne.flush.bind(ne,this),de)}recycleAsyncId(ne,ue,de=0){if(null!=de&&this.delay===de&&!1===this.pending)return ue;null!=ue&&P.clearInterval(ue)}execute(ne,ue){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const de=this._execute(ne,ue);if(de)return de;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ne,ue){let $,de=!1;try{this.work(ne)}catch(G){de=!0,$=G||new Error("Scheduled action threw falsy error")}if(de)return this.unsubscribe(),$}unsubscribe(){if(!this.closed){const{id:ne,scheduler:ue}=this,{actions:de}=ue;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ae.P)(de,this),null!=ne&&(this.id=this.recycleAsyncId(ue,ne,null)),this.delay=null,super.unsubscribe()}}}},7565:(_t,Me,N)=>{N.d(Me,{v:()=>P});var d=N(6063);class te{constructor(re,he=te.now){this.schedulerActionCtor=re,this.now=he}schedule(re,he=0,ne){return new this.schedulerActionCtor(this,re).schedule(ne,he)}}te.now=d.l.now;class P extends te{constructor(re,he=te.now){super(re,he),this.actions=[],this._active=!1}flush(re){const{actions:he}=this;if(this._active)return void he.push(re);let ne;this._active=!0;do{if(ne=re.execute(re.state,re.delay))break}while(re=he.shift());if(this._active=!1,ne){for(;re=he.shift();)re.unsubscribe();throw ne}}}},4986:(_t,Me,N)=>{N.d(Me,{P:()=>ae,z:()=>P});var d=N(4408);const P=new(N(7565).v)(d.o),ae=P},6063:(_t,Me,N)=>{N.d(Me,{l:()=>d});const d={now:()=>(d.delegate||Date).now(),delegate:void 0}},3410:(_t,Me,N)=>{N.d(Me,{z:()=>d});const d={setTimeout(te,P,...ae){const{delegate:re}=d;return re?.setTimeout?re.setTimeout(te,P,...ae):setTimeout(te,P,...ae)},clearTimeout(te){const{delegate:P}=d;return(P?.clearTimeout||clearTimeout)(te)},delegate:void 0}},2202:(_t,Me,N)=>{N.d(Me,{h:()=>te});const te=function d(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(_t,Me,N)=>{N.d(Me,{L:()=>d});const d="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(_t,Me,N)=>{N.d(Me,{_6:()=>he,jO:()=>ae,yG:()=>re});var d=N(576),te=N(3532);function P(ne){return ne[ne.length-1]}function ae(ne){return(0,d.m)(P(ne))?ne.pop():void 0}function re(ne){return(0,te.K)(P(ne))?ne.pop():void 0}function he(ne,ue){return"number"==typeof P(ne)?ne.pop():ue}},8737:(_t,Me,N)=>{function d(te,P){if(te){const ae=te.indexOf(P);0<=ae&&te.splice(ae,1)}}N.d(Me,{P:()=>d})},3888:(_t,Me,N)=>{function d(te){const ae=te(re=>{Error.call(re),re.stack=(new Error).stack});return ae.prototype=Object.create(Error.prototype),ae.prototype.constructor=ae,ae}N.d(Me,{d:()=>d})},2806:(_t,Me,N)=>{N.d(Me,{O:()=>ae,x:()=>P});var d=N(2416);let te=null;function P(re){if(d.v.useDeprecatedSynchronousErrorHandling){const he=!te;if(he&&(te={errorThrown:!1,error:null}),re(),he){const{errorThrown:ne,error:ue}=te;if(te=null,ne)throw ue}}else re()}function ae(re){d.v.useDeprecatedSynchronousErrorHandling&&te&&(te.errorThrown=!0,te.error=re)}},9672:(_t,Me,N)=>{function d(te,P,ae,re=0,he=!1){const ne=P.schedule(function(){ae(),he?te.add(this.schedule(null,re)):this.unsubscribe()},re);if(te.add(ne),!he)return ne}N.d(Me,{f:()=>d})},4671:(_t,Me,N)=>{function d(te){return te}N.d(Me,{y:()=>d})},1144:(_t,Me,N)=>{N.d(Me,{z:()=>d});const d=te=>te&&"number"==typeof te.length&&"function"!=typeof te},2206:(_t,Me,N)=>{N.d(Me,{D:()=>te});var d=N(576);function te(P){return Symbol.asyncIterator&&(0,d.m)(P?.[Symbol.asyncIterator])}},576:(_t,Me,N)=>{function d(te){return"function"==typeof te}N.d(Me,{m:()=>d})},3670:(_t,Me,N)=>{N.d(Me,{c:()=>P});var d=N(8822),te=N(576);function P(ae){return(0,te.m)(ae[d.L])}},6495:(_t,Me,N)=>{N.d(Me,{T:()=>P});var d=N(2202),te=N(576);function P(ae){return(0,te.m)(ae?.[d.h])}},8239:(_t,Me,N)=>{N.d(Me,{t:()=>te});var d=N(576);function te(P){return(0,d.m)(P?.then)}},3260:(_t,Me,N)=>{N.d(Me,{L:()=>ae,Q:()=>P});var d=N(655),te=N(576);function P(re){return(0,d.FC)(this,arguments,function*(){const ne=re.getReader();try{for(;;){const{value:ue,done:de}=yield(0,d.qq)(ne.read());if(de)return yield(0,d.qq)(void 0);yield yield(0,d.qq)(ue)}}finally{ne.releaseLock()}})}function ae(re){return(0,te.m)(re?.getReader)}},3532:(_t,Me,N)=>{N.d(Me,{K:()=>te});var d=N(576);function te(P){return P&&(0,d.m)(P.schedule)}},4482:(_t,Me,N)=>{N.d(Me,{e:()=>P});var d=N(576);function P(ae){return re=>{if(function te(ae){return(0,d.m)(ae?.lift)}(re))return re.lift(function(he){try{return ae(he,this)}catch(ne){this.error(ne)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(_t,Me,N)=>{function d(){}N.d(Me,{Z:()=>d})},7849:(_t,Me,N)=>{N.d(Me,{h:()=>P});var d=N(2416),te=N(3410);function P(ae){te.z.setTimeout(()=>{const{onUnhandledError:re}=d.v;if(!re)throw ae;re(ae)})}},4532:(_t,Me,N)=>{function d(te){return new TypeError(`You provided ${null!==te&&"object"==typeof te?"an invalid object":`'${te}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}N.d(Me,{z:()=>d})},655:(_t,Me,N)=>{function ae(oe,fe){var ve={};for(var Pe in oe)Object.prototype.hasOwnProperty.call(oe,Pe)&&fe.indexOf(Pe)<0&&(ve[Pe]=oe[Pe]);if(null!=oe&&"function"==typeof Object.getOwnPropertySymbols){var Ne=0;for(Pe=Object.getOwnPropertySymbols(oe);Ne<Pe.length;Ne++)fe.indexOf(Pe[Ne])<0&&Object.prototype.propertyIsEnumerable.call(oe,Pe[Ne])&&(ve[Pe[Ne]]=oe[Pe[Ne]])}return ve}function X(oe,fe,ve,Pe){return new(ve||(ve=Promise))(function(Ie,ht){function Ft(Jt){try{nt(Pe.next(Jt))}catch(bt){ht(bt)}}function mn(Jt){try{nt(Pe.throw(Jt))}catch(bt){ht(bt)}}function nt(Jt){Jt.done?Ie(Jt.value):function Ne(Ie){return Ie instanceof ve?Ie:new ve(function(ht){ht(Ie)})}(Jt.value).then(Ft,mn)}nt((Pe=Pe.apply(oe,fe||[])).next())})}function De(oe){return this instanceof De?(this.v=oe,this):new De(oe)}function _e(oe,fe,ve){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ne,Pe=ve.apply(oe,fe||[]),Ie=[];return Ne={},ht("next"),ht("throw"),ht("return"),Ne[Symbol.asyncIterator]=function(){return this},Ne;function ht(Rt){Pe[Rt]&&(Ne[Rt]=function(Kn){return new Promise(function(Un,Mn){Ie.push([Rt,Kn,Un,Mn])>1||Ft(Rt,Kn)})})}function Ft(Rt,Kn){try{!function mn(Rt){Rt.value instanceof De?Promise.resolve(Rt.value.v).then(nt,Jt):bt(Ie[0][2],Rt)}(Pe[Rt](Kn))}catch(Un){bt(Ie[0][3],Un)}}function nt(Rt){Ft("next",Rt)}function Jt(Rt){Ft("throw",Rt)}function bt(Rt,Kn){Rt(Kn),Ie.shift(),Ie.length&&Ft(Ie[0][0],Ie[0][1])}}function Ve(oe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ve,fe=oe[Symbol.asyncIterator];return fe?fe.call(oe):(oe=function je(oe){var fe="function"==typeof Symbol&&Symbol.iterator,ve=fe&&oe[fe],Pe=0;if(ve)return ve.call(oe);if(oe&&"number"==typeof oe.length)return{next:function(){return oe&&Pe>=oe.length&&(oe=void 0),{value:oe&&oe[Pe++],done:!oe}}};throw new TypeError(fe?"Object is not iterable.":"Symbol.iterator is not defined.")}(oe),ve={},Pe("next"),Pe("throw"),Pe("return"),ve[Symbol.asyncIterator]=function(){return this},ve);function Pe(Ie){ve[Ie]=oe[Ie]&&function(ht){return new Promise(function(Ft,mn){!function Ne(Ie,ht,Ft,mn){Promise.resolve(mn).then(function(nt){Ie({value:nt,done:Ft})},ht)}(Ft,mn,(ht=oe[Ie](ht)).done,ht.value)})}}}N.d(Me,{FC:()=>_e,KL:()=>Ve,_T:()=>ae,mG:()=>X,qq:()=>De})},4650:(_t,Me,N)=>{N.d(Me,{$8M:()=>kl,$Z:()=>h0,AFp:()=>nb,ALo:()=>Bv,AaK:()=>ue,BQk:()=>cg,CHM:()=>hl,CRH:()=>zv,CZH:()=>yo,CqO:()=>$y,D6c:()=>l_,EJc:()=>ob,EiD:()=>df,EpF:()=>Ld,F$t:()=>qy,F4k:()=>ug,FYo:()=>$w,FiY:()=>it,G48:()=>gD,Gf:()=>$v,GfV:()=>mI,Gpc:()=>G,Hsn:()=>Wy,Ikx:()=>bg,JOm:()=>oo,JVY:()=>bm,KtG:()=>fl,L6k:()=>H_,LAX:()=>wm,LFG:()=>Bn,Lbi:()=>rb,Lck:()=>SE,MAs:()=>jy,NdJ:()=>du,OlP:()=>En,Oqu:()=>lv,Q6J:()=>ag,QGY:()=>Vd,QbO:()=>sb,Qsj:()=>fI,R0b:()=>us,RDi:()=>y,Rgc:()=>rh,SBq:()=>wd,Suo:()=>Fg,TTD:()=>es,TgZ:()=>Vf,VKq:()=>Nv,WFA:()=>hu,WLB:()=>Fv,X6Q:()=>lS,XFs:()=>Je,Xpm:()=>Te,Y36:()=>Ef,YNc:()=>Uy,Yjl:()=>Ee,Yz7:()=>nt,ZZ4:()=>Eb,_Bn:()=>Mv,_UZ:()=>Hf,_Vd:()=>yf,_c5:()=>gh,_uU:()=>mt,aQg:()=>mp,cJS:()=>bt,cg1:()=>pv,d8E:()=>wg,dDg:()=>Qg,dqk:()=>hn,eBb:()=>U_,eFA:()=>hD,ekj:()=>mg,eoX:()=>fb,f3M:()=>C,g9A:()=>Kg,h0i:()=>Qd,hGG:()=>Db,hij:()=>We,iGM:()=>HE,ifc:()=>ft,ip1:()=>ec,kL8:()=>Wa,lG2:()=>W,lcZ:()=>ih,lri:()=>cD,mCW:()=>cf,n5z:()=>ss,oAB:()=>Wt,oxw:()=>j0,pB0:()=>j_,q3G:()=>vi,q4F:()=>gI,qLn:()=>Xc,qOj:()=>su,qZA:()=>Bf,qzn:()=>jo,rWj:()=>uD,sBO:()=>vD,sIi:()=>Wl,s_b:()=>Og,soG:()=>Yg,tp0:()=>Ye,uIk:()=>Od,vHH:()=>ke,vpe:()=>cs,wAp:()=>Mt,xp6:()=>ny,ynx:()=>lg,z2F:()=>fh,z3N:()=>Mi,zSh:()=>q_,zs3:()=>jl});var d=N(7579),te=N(727),P=N(8306),ae=N(6451),re=N(3099);function he(s){for(let o in s)if(s[o]===he)return o;throw Error("Could not find renamed property on target object.")}function ne(s,o){for(const l in o)o.hasOwnProperty(l)&&!s.hasOwnProperty(l)&&(s[l]=o[l])}function ue(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(ue).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const l=o.indexOf("\n");return-1===l?o:o.substring(0,l)}function de(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const $=he({__forward_ref__:he});function G(s){return s.__forward_ref__=G,s.toString=function(){return ue(this())},s}function X(s){return $e(s)?s():s}function $e(s){return"function"==typeof s&&s.hasOwnProperty($)&&s.__forward_ref__===G}class ke extends Error{constructor(o,l){super(function je(s,o){return`NG0${Math.abs(s)}${o?": "+o.trim():""}`}(o,l)),this.code=o}}function pe(s){return"string"==typeof s?s:null==s?"":String(s)}function _e(s,o){throw new ke(-201,!1)}function Ne(s,o){null==s&&function Ie(s,o,l,c){throw new Error(`ASSERTION ERROR: ${s}`+(null==c?"":` [Expected=> ${l} ${c} ${o} <=Actual]`))}(o,s,null,"!=")}function nt(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function bt(s){return{providers:s.providers||[],imports:s.imports||[]}}function Rt(s){return Un(s,br)||Un(s,pr)}function Un(s,o){return s.hasOwnProperty(o)?s[o]:null}function Qi(s){return s&&(s.hasOwnProperty(fr)||s.hasOwnProperty(ha))?s[fr]:null}const br=he({\u0275prov:he}),fr=he({\u0275inj:he}),pr=he({ngInjectableDef:he}),ha=he({ngInjectorDef:he});var Je=(()=>((Je=Je||{})[Je.Default=0]="Default",Je[Je.Host=1]="Host",Je[Je.Self=2]="Self",Je[Je.SkipSelf=4]="SkipSelf",Je[Je.Optional=8]="Optional",Je))();let Fi;function ii(s){const o=Fi;return Fi=s,o}function mr(s,o,l){const c=Rt(s);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:l&Je.Optional?null:void 0!==o?o:void _e(ue(s))}function jn(s){return{toString:s}.toString()}var Zn=(()=>((Zn=Zn||{})[Zn.OnPush=0]="OnPush",Zn[Zn.Default=1]="Default",Zn))(),ft=(()=>{return(s=ft||(ft={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",ft;var s})();const hn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Xi={},Bt=[],vs=he({\u0275cmp:he}),an=he({\u0275dir:he}),Rr=he({\u0275pipe:he}),ln=he({\u0275mod:he}),ri=he({\u0275fac:he}),Gi=he({__NG_ELEMENT_ID__:he});let lt=0;function Te(s){return jn(()=>{const l=!0===s.standalone,c={},h={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:c,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===Zn.OnPush,directiveDefs:null,pipeDefs:null,standalone:l,dependencies:l&&s.dependencies||null,getStandaloneInjector:null,selectors:s.selectors||Bt,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||ft.Emulated,id:"c"+lt++,styles:s.styles||Bt,_:null,setInput:null,schemas:s.schemas||null,tView:null},m=s.dependencies,v=s.features;return h.inputs=B(s.inputs,c),h.outputs=B(s.outputs),v&&v.forEach(E=>E(h)),h.directiveDefs=m?()=>("function"==typeof m?m():m).map(Lt).filter(Ht):null,h.pipeDefs=m?()=>("function"==typeof m?m():m).map(wt).filter(Ht):null,h})}function Lt(s){return Q(s)||qe(s)}function Ht(s){return null!==s}function Wt(s){return jn(()=>({type:s.type,bootstrap:s.bootstrap||Bt,declarations:s.declarations||Bt,imports:s.imports||Bt,exports:s.exports||Bt,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function B(s,o){if(null==s)return Xi;const l={};for(const c in s)if(s.hasOwnProperty(c)){let h=s[c],m=h;Array.isArray(h)&&(m=h[1],h=h[0]),l[h]=c,o&&(o[h]=m)}return l}const W=Te;function Ee(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function Q(s){return s[vs]||null}function qe(s){return s[an]||null}function wt(s){return s[Rr]||null}function gi(s){return Array.isArray(s)&&"object"==typeof s[1]}function $i(s){return Array.isArray(s)&&!0===s[1]}function pa(s){return 0!=(8&s.flags)}function Do(s){return 2==(2&s.flags)}function pc(s){return 1==(1&s.flags)}function Li(s){return null!==s.template}function Mh(s){return 0!=(256&s[2])}function Pr(s,o){return s.hasOwnProperty(ri)?s[ri]:null}class Jr{constructor(o,l,c){this.previousValue=o,this.currentValue=l,this.firstChange=c}isFirstChange(){return this.firstChange}}function es(){return $s}function $s(s){return s.type.prototype.ngOnChanges&&(s.setInput=rl),ma}function ma(){const s=Rh(this),o=s?.current;if(o){const l=s.previous;if(l===Xi)s.previous=o;else for(let c in o)l[c]=o[c];s.current=null,this.ngOnChanges(o)}}function rl(s,o,l,c){const h=Rh(s)||function Co(s,o){return s[vc]=o}(s,{previous:Xi,current:null}),m=h.current||(h.current={}),v=h.previous,E=this.declaredInputs[l],D=v[E];m[E]=new Jr(D&&D.currentValue,o,v===Xi),s[c]=o}es.ngInherit=!0;const vc="__ngSimpleChanges__";function Rh(s){return s[vc]||null}function Nn(s){for(;Array.isArray(s);)s=s[0];return s}function _r(s,o){return Nn(o[s])}function Vi(s,o){return Nn(o[s.index])}function To(s,o){return s.data[o]}function ns(s,o){return s[o]}function Xt(s,o){const l=o[s];return gi(l)?l:l[0]}function zs(s){return 64==(64&s[2])}function Er(s,o){return null==o?null:s[o]}function ll(s){s[18]=0}function kn(s,o){s[5]+=o;let l=s,c=s[3];for(;null!==c&&(1===o&&1===l[5]||-1===o&&0===l[5]);)c[5]+=o,l=c,c=c[3]}const Vt={lFrame:kc(null),bindingsEnabled:!0};function is(){return Vt.bindingsEnabled}function Ae(){return Vt.lFrame.lView}function Yt(){return Vt.lFrame.tView}function hl(s){return Vt.lFrame.contextLView=s,s[8]}function fl(s){return Vt.lFrame.contextLView=null,s}function Fn(){let s=pl();for(;null!==s&&64===s.type;)s=s.parent;return s}function pl(){return Vt.lFrame.currentTNode}function yr(s,o){const l=Vt.lFrame;l.currentTNode=s,l.isParent=o}function _a(){return Vt.lFrame.isParent}function ya(){Vt.lFrame.isParent=!1}function Ln(){const s=Vt.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}function qs(){return Vt.lFrame.bindingIndex++}function jp(s,o){const l=Vt.lFrame;l.bindingIndex=l.bindingRootIndex=s,ml(o)}function ml(s){Vt.lFrame.currentDirectiveIndex=s}function wa(s){const o=Vt.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}function Ac(){return Vt.lFrame.currentQueryIndex}function Ea(s){Vt.lFrame.currentQueryIndex=s}function Mc(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function gl(s,o,l){if(l&Je.SkipSelf){let h=o,m=s;for(;!(h=h.parent,null!==h||l&Je.Host||(h=Mc(m),null===h||(m=m[15],10&h.type))););if(null===h)return!1;o=h,s=m}const c=Vt.lFrame=xc();return c.currentTNode=o,c.lView=s,!0}function _l(s){const o=xc(),l=s[1];Vt.lFrame=o,o.currentTNode=l.firstChild,o.lView=s,o.tView=l,o.contextLView=s,o.bindingIndex=l.bindingStartIndex,o.inI18n=!1}function xc(){const s=Vt.lFrame,o=null===s?null:s.child;return null===o?kc(s):o}function kc(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function Rc(){const s=Vt.lFrame;return Vt.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const Ju=Rc;function Ws(){const s=Rc();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function ai(){return Vt.lFrame.selectedIndex}function tr(s){Vt.lFrame.selectedIndex=s}function wn(){const s=Vt.lFrame;return To(s.tView,s.selectedIndex)}function bl(s,o){for(let l=o.directiveStart,c=o.directiveEnd;l<c;l++){const m=s.data[l].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:E,ngAfterViewInit:D,ngAfterViewChecked:S,ngOnDestroy:R}=m;v&&(s.contentHooks||(s.contentHooks=[])).push(-l,v),E&&((s.contentHooks||(s.contentHooks=[])).push(l,E),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(l,E)),D&&(s.viewHooks||(s.viewHooks=[])).push(-l,D),S&&((s.viewHooks||(s.viewHooks=[])).push(l,S),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(l,S)),null!=R&&(s.destroyHooks||(s.destroyHooks=[])).push(l,R)}}function Zs(s,o,l){Mo(s,o,3,l)}function Ao(s,o,l,c){(3&s[2])===l&&Mo(s,o,l,c)}function nd(s,o){let l=s[2];(3&l)===o&&(l&=2047,l+=1,s[2]=l)}function Mo(s,o,l,c){const m=c??-1,v=o.length-1;let E=0;for(let D=void 0!==c?65535&s[18]:0;D<v;D++)if("number"==typeof o[D+1]){if(E=o[D],null!=c&&E>=c)break}else o[D]<0&&(s[18]+=65536),(E<m||-1==m)&&(id(s,l,o,D),s[18]=(4294901760&s[18])+D+2),D++}function id(s,o,l,c){const h=l[c]<0,m=l[c+1],E=s[h?-l[c]:l[c]];if(h){if(s[2]>>11<s[18]>>16&&(3&s[2])===o){s[2]+=2048;try{m.call(E)}finally{}}}else try{m.call(E)}finally{}}class Ss{constructor(o,l,c){this.factory=o,this.resolving=!1,this.canSeeViewProviders=l,this.injectImpl=c}}function xo(s,o,l){let c=0;for(;c<l.length;){const h=l[c];if("number"==typeof h){if(0!==h)break;c++;const m=l[c++],v=l[c++],E=l[c++];s.setAttribute(o,v,E,m)}else{const m=h,v=l[++c];Cl(m)?s.setProperty(o,m,v):s.setAttribute(o,m,v),c++}}return c}function Xs(s){return 3===s||4===s||6===s}function Cl(s){return 64===s.charCodeAt(0)}function Da(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let l=-1;for(let c=0;c<o.length;c++){const h=o[c];"number"==typeof h?l=h:0===l||sd(s,l,h,null,-1===l||2===l?o[++c]:null)}}return s}function sd(s,o,l,c,h){let m=0,v=s.length;if(-1===o)v=-1;else for(;m<s.length;){const E=s[m++];if("number"==typeof E){if(E===o){v=-1;break}if(E>o){v=m-1;break}}}for(;m<s.length;){const E=s[m];if("number"==typeof E)break;if(E===l){if(null===c)return void(null!==h&&(s[m+1]=h));if(c===s[m+1])return void(s[m+2]=h)}m++,null!==c&&m++,null!==h&&m++}-1!==v&&(s.splice(v,0,o),m=v+1),s.splice(m++,0,l),null!==c&&s.splice(m++,0,c),null!==h&&s.splice(m++,0,h)}function od(s){return-1!==s}function _i(s){return 32767&s}function Ia(s,o){let l=function Ca(s){return s>>16}(s),c=o;for(;l>0;)c=c[15],l--;return c}let Fr=!0;function Ta(s){const o=Fr;return Fr=s,o}let $n=0;const Dr={};function Js(s,o){const l=Tl(s,o);if(-1!==l)return l;const c=o[1];c.firstCreatePass&&(s.injectorIndex=o.length,Aa(c.data,s),Aa(o,null),Aa(c.blueprint,null));const h=Sl(s,o),m=s.injectorIndex;if(od(h)){const v=_i(h),E=Ia(h,o),D=E[1].data;for(let S=0;S<8;S++)o[m+S]=E[v+S]|D[v+S]}return o[m+8]=h,m}function Aa(s,o){s.push(0,0,0,0,0,0,0,0,o)}function Tl(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function Sl(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let l=0,c=null,h=o;for(;null!==h;){if(c=Ro(h),null===c)return-1;if(l++,h=h[15],-1!==c.injectorIndex)return c.injectorIndex|l<<16}return-1}function As(s,o,l){!function Il(s,o,l){let c;"string"==typeof l?c=l.charCodeAt(0)||0:l.hasOwnProperty(Gi)&&(c=l[Gi]),null==c&&(c=l[Gi]=$n++);const h=255&c;o.data[s+(h>>5)]|=1<<h}(s,o,l)}function Ms(s,o,l){if(l&Je.Optional||void 0!==s)return s;_e()}function Al(s,o,l,c){if(l&Je.Optional&&void 0===c&&(c=null),0==(l&(Je.Self|Je.Host))){const h=s[9],m=ii(void 0);try{return h?h.get(o,c,l&Je.Optional):mr(o,c,l&Je.Optional)}finally{ii(m)}}return Ms(c,0,l)}function eo(s,o,l,c=Je.Default,h){if(null!==s){if(1024&o[2]){const v=function ko(s,o,l,c,h){let m=s,v=o;for(;null!==m&&null!==v&&1024&v[2]&&!(256&v[2]);){const E=Ma(m,v,l,c|Je.Self,Dr);if(E!==Dr)return E;let D=m.parent;if(!D){const S=v[21];if(S){const R=S.get(l,Dr,c);if(R!==Dr)return R}D=Ro(v),v=v[15]}m=D}return h}(s,o,l,c,Dr);if(v!==Dr)return v}const m=Ma(s,o,l,c,Dr);if(m!==Dr)return m}return Al(o,l,c,h)}function Ma(s,o,l,c,h){const m=function Fc(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(Gi)?s[Gi]:void 0;return"number"==typeof o?o>=0?255&o:Lc:o}(l);if("function"==typeof m){if(!gl(o,s,c))return c&Je.Host?Ms(h,0,c):Al(o,l,c,h);try{const v=m(c);if(null!=v||c&Je.Optional)return v;_e()}finally{Ju()}}else if("number"==typeof m){let v=null,E=Tl(s,o),D=-1,S=c&Je.Host?o[16][6]:null;for((-1===E||c&Je.SkipSelf)&&(D=-1===E?Sl(s,o):o[E+8],-1!==D&&ka(c,!1)?(v=o[1],E=_i(D),o=Ia(D,o)):E=-1);-1!==E;){const R=o[1];if(Ml(m,E,R.data)){const F=cd(E,o,l,v,c,S);if(F!==Dr)return F}D=o[E+8],-1!==D&&ka(c,o[1].data[E+8]===S)&&Ml(m,E,o)?(v=R,E=_i(D),o=Ia(D,o)):E=-1}}return h}function cd(s,o,l,c,h,m){const v=o[1],E=v.data[s+8],R=xa(E,v,l,null==c?Do(E)&&Fr:c!=v&&0!=(3&E.type),h&Je.Host&&m===E);return null!==R?xs(o,v,R,E):Dr}function xa(s,o,l,c,h){const m=s.providerIndexes,v=o.data,E=1048575&m,D=s.directiveStart,R=m>>20,q=h?E+R:s.directiveEnd;for(let ee=c?E:E+R;ee<q;ee++){const we=v[ee];if(ee<D&&l===we||ee>=D&&we.type===l)return ee}if(h){const ee=v[D];if(ee&&Li(ee)&&ee.type===l)return D}return null}function xs(s,o,l,c){let h=s[l];const m=o.data;if(function Ys(s){return s instanceof Ss}(h)){const v=h;v.resolving&&function Qe(s,o){const l=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new ke(-200,`Circular dependency in DI detected for ${s}${l}`)}(function me(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():pe(s)}(m[l]));const E=Ta(v.canSeeViewProviders);v.resolving=!0;const D=v.injectImpl?ii(v.injectImpl):null;gl(s,c,Je.Default);try{h=s[l]=v.factory(void 0,m,s,c),o.firstCreatePass&&l>=c.directiveStart&&function td(s,o,l){const{ngOnChanges:c,ngOnInit:h,ngDoCheck:m}=o.type.prototype;if(c){const v=$s(o);(l.preOrderHooks||(l.preOrderHooks=[])).push(s,v),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(s,v)}h&&(l.preOrderHooks||(l.preOrderHooks=[])).push(0-s,h),m&&((l.preOrderHooks||(l.preOrderHooks=[])).push(s,m),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(s,m))}(l,m[l],o)}finally{null!==D&&ii(D),Ta(E),v.resolving=!1,Ju()}}return h}function Ml(s,o,l){return!!(l[o+(s>>5)]&1<<s)}function ka(s,o){return!(s&Je.Self||s&Je.Host&&o)}class to{constructor(o,l){this._tNode=o,this._lView=l}get(o,l,c){return eo(this._tNode,this._lView,o,c,l)}}function Lc(){return new to(Fn(),Ae())}function ss(s){return jn(()=>{const o=s.prototype.constructor,l=o[ri]||xl(o),c=Object.prototype;let h=Object.getPrototypeOf(s.prototype).constructor;for(;h&&h!==c;){const m=h[ri]||xl(h);if(m&&m!==l)return m;h=Object.getPrototypeOf(h)}return m=>new m})}function xl(s){return $e(s)?()=>{const o=xl(X(s));return o&&o()}:Pr(s)}function Ro(s){const o=s[1],l=o.type;return 2===l?o.declTNode:1===l?s[6]:null}function kl(s){return function ld(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const l=s.attrs;if(l){const c=l.length;let h=0;for(;h<c;){const m=l[h];if(Xs(m))break;if(0===m)h+=2;else if("number"==typeof m)for(h++;h<c&&"string"==typeof l[h];)h++;else{if(m===o)return l[h+1];h+=2}}}return null}(Fn(),s)}const ks="__parameters__";function No(s,o,l){return jn(()=>{const c=function Rl(s){return function(...l){if(s){const c=s(...l);for(const h in c)this[h]=c[h]}}}(o);function h(...m){if(this instanceof h)return c.apply(this,m),this;const v=new h(...m);return E.annotation=v,E;function E(D,S,R){const F=D.hasOwnProperty(ks)?D[ks]:Object.defineProperty(D,ks,{value:[]})[ks];for(;F.length<=R;)F.push(null);return(F[R]=F[R]||[]).push(v),D}}return l&&(h.prototype=Object.create(l.prototype)),h.prototype.ngMetadataName=s,h.annotationCls=h,h})}class En{constructor(o,l){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof l?this.__NG_ELEMENT_ID__=l:void 0!==l&&(this.\u0275prov=nt({token:this,providedIn:l.providedIn||"root",factory:l.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function en(s,o){void 0===o&&(o=s);for(let l=0;l<s.length;l++){let c=s[l];Array.isArray(c)?(o===s&&(o=s.slice(0,l)),en(c,o)):o!==s&&o.push(c)}return o}function tn(s,o){s.forEach(l=>Array.isArray(l)?tn(l,o):o(l))}function Hh(s,o,l){o>=s.length?s.push(l):s.splice(o,0,l)}function At(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function ir(s,o){const l=[];for(let c=0;c<s;c++)l.push(o);return l}function Rn(s,o,l){let c=Ns(s,o);return c>=0?s[1|c]=l:(c=~c,function Ii(s,o,l,c){let h=s.length;if(h==o)s.push(l,c);else if(1===h)s.push(c,s[0]),s[0]=l;else{for(h--,s.push(s[h-1],s[h]);h>o;)s[h]=s[h-2],h--;s[o]=l,s[o+1]=c}}(s,c,o,l)),c}function sn(s,o){const l=Ns(s,o);if(l>=0)return s[1|l]}function Ns(s,o){return function io(s,o,l){let c=0,h=s.length>>l;for(;h!==c;){const m=c+(h-c>>1),v=s[m<<l];if(o===v)return m<<l;v>o?h=m:c=m+1}return~(h<<l)}(s,o,1)}const li={},ro="__NG_DI_FLAG__",Nl="ngTempTokenPath",jc=/\n/gm,Kp="__source";let Bo;function Hr(s){const o=Bo;return Bo=s,o}function Na(s,o=Je.Default){if(void 0===Bo)throw new ke(-203,!1);return null===Bo?mr(s,void 0,o):Bo.get(s,o&Je.Optional?null:void 0,o)}function Bn(s,o=Je.Default){return(function ys(){return Fi}()||Na)(X(s),o)}function C(s,o=Je.Default){return"number"!=typeof o&&(o=0|(o.optional&&8)|(o.host&&1)|(o.self&&2)|(o.skipSelf&&4)),Bn(s,o)}function T(s){const o=[];for(let l=0;l<s.length;l++){const c=X(s[l]);if(Array.isArray(c)){if(0===c.length)throw new ke(900,!1);let h,m=Je.Default;for(let v=0;v<c.length;v++){const E=c[v],D=V(E);"number"==typeof D?-1===D?h=E.token:m|=D:h=E}o.push(Bn(h,m))}else o.push(Bn(c))}return o}function k(s,o){return s[ro]=o,s.prototype[ro]=o,s}function V(s){return s[ro]}const it=k(No("Optional"),8),Ye=k(No("SkipSelf"),4);var oo=(()=>((oo=oo||{})[oo.Important=1]="Important",oo[oo.DashCase=2]="DashCase",oo))();const Kh=new Map;let S_=0;const Ho="__ngContext__";function rr(s,o){gi(o)?(s[Ho]=o[20],function rw(s){Kh.set(s[20],s)}(o)):s[Ho]=o}function om(s,o){return undefined(s,o)}function Ll(s){const o=s[3];return $i(o)?o[3]:o}function md(s){return R_(s[13])}function gd(s){return R_(s[4])}function R_(s){for(;null!==s&&!$i(s);)s=s[4];return s}function Uo(s,o,l,c,h){if(null!=c){let m,v=!1;$i(c)?m=c:gi(c)&&(v=!0,c=c[0]);const E=Nn(c);0===s&&null!==l?null==h?F_(o,l,E):Va(o,l,E,h||null,!0):1===s&&null!==l?Va(o,l,E,h||null,!0):2===s?function mm(s,o,l){const c=Ba(s,o);c&&function bw(s,o,l,c){s.removeChild(o,l,c)}(s,c,o,l)}(o,E,v):3===s&&o.destroyNode(E),null!=m&&function _m(s,o,l,c,h){const m=l[7];m!==Nn(l)&&Uo(o,s,c,m,h);for(let E=10;E<l.length;E++){const D=l[E];Zc(D[1],D,s,o,c,m)}}(o,s,m,l,h)}}function Jh(s,o,l){return s.createElement(o,l)}function lm(s,o){const l=s[9],c=l.indexOf(o),h=o[3];512&o[2]&&(o[2]&=-513,kn(h,-1)),l.splice(c,1)}function cm(s,o){if(s.length<=10)return;const l=10+o,c=s[l];if(c){const h=c[17];null!==h&&h!==s&&lm(h,c),o>0&&(s[l-1][4]=c[4]);const m=At(s,10+o);!function pw(s,o){Zc(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(c[1],c);const v=m[19];null!==v&&v.detachView(m[1]),c[3]=null,c[4]=null,c[2]&=-65}return c}function P_(s,o){if(!(128&o[2])){const l=o[11];l.destroyNode&&Zc(s,o,l,3,null,null),function _w(s){let o=s[13];if(!o)return um(s[1],s);for(;o;){let l=null;if(gi(o))l=o[13];else{const c=o[10];c&&(l=c)}if(!l){for(;o&&!o[4]&&o!==s;)gi(o)&&um(o[1],o),o=o[3];null===o&&(o=s),gi(o)&&um(o[1],o),l=o&&o[4]}o=l}}(o)}}function um(s,o){if(!(128&o[2])){o[2]&=-65,o[2]|=128,function N_(s,o){let l;if(null!=s&&null!=(l=s.destroyHooks))for(let c=0;c<l.length;c+=2){const h=o[l[c]];if(!(h instanceof Ss)){const m=l[c+1];if(Array.isArray(m))for(let v=0;v<m.length;v+=2){const E=h[m[v]],D=m[v+1];try{D.call(E)}finally{}}else try{m.call(h)}finally{}}}}(s,o),function vw(s,o){const l=s.cleanup,c=o[7];let h=-1;if(null!==l)for(let m=0;m<l.length-1;m+=2)if("string"==typeof l[m]){const v=l[m+1],E="function"==typeof v?v(o):Nn(o[v]),D=c[h=l[m+2]],S=l[m+3];"boolean"==typeof S?E.removeEventListener(l[m],D,S):S>=0?c[h=S]():c[h=-S].unsubscribe(),m+=2}else{const v=c[h=l[m+1]];l[m].call(v)}if(null!==c){for(let m=h+1;m<c.length;m++)(0,c[m])();o[7]=null}}(s,o),1===o[1].type&&o[11].destroy();const l=o[17];if(null!==l&&$i(o[3])){l!==o[3]&&lm(l,o);const c=o[19];null!==c&&c.detachView(s)}!function sw(s){Kh.delete(s[20])}(o)}}function ef(s,o,l){return function tf(s,o,l){let c=o;for(;null!==c&&40&c.type;)c=(o=c).parent;if(null===c)return l[0];if(2&c.flags){const h=s.data[c.directiveStart].encapsulation;if(h===ft.None||h===ft.Emulated)return null}return Vi(c,l)}(s,o.parent,l)}function Va(s,o,l,c,h){s.insertBefore(o,l,c,h)}function F_(s,o,l){s.appendChild(o,l)}function nf(s,o,l,c,h){null!==c?Va(s,o,l,c,h):F_(s,o,l)}function Ba(s,o){return s.parentNode(o)}function V_(s,o,l){return sf(s,o,l)}let vd,vm,sf=function rf(s,o,l){return 40&s.type?Vi(s,l):null};function af(s,o,l,c){const h=ef(s,c,o),m=o[11],E=V_(c.parent||o[6],c,o);if(null!=h)if(Array.isArray(l))for(let D=0;D<l.length;D++)nf(m,h,l[D],E,!1);else nf(m,h,l,E,!1)}function Ls(s,o){if(null!==o){const l=o.type;if(3&l)return Vi(o,s);if(4&l)return pm(-1,s[o.index]);if(8&l){const c=o.child;if(null!==c)return Ls(s,c);{const h=s[o.index];return $i(h)?pm(-1,h):Nn(h)}}if(32&l)return om(o,s)()||Nn(s[o.index]);{const c=fm(s,o);return null!==c?Array.isArray(c)?c[0]:Ls(Ll(s[16]),c):Ls(s,o.next)}}return null}function fm(s,o){return null!==o?s[16][6].projection[o.projection]:null}function pm(s,o){const l=10+s+1;if(l<o.length){const c=o[l],h=c[1].firstChild;if(null!==h)return Ls(c,h)}return o[7]}function gm(s,o,l,c,h,m,v){for(;null!=l;){const E=c[l.index],D=l.type;if(v&&0===o&&(E&&rr(Nn(E),c),l.flags|=4),64!=(64&l.flags))if(8&D)gm(s,o,l.child,c,h,m,!1),Uo(o,s,h,E,m);else if(32&D){const S=om(l,c);let R;for(;R=S();)Uo(o,s,h,R,m);Uo(o,s,h,E,m)}else 16&D?yd(s,o,c,l,h,m):Uo(o,s,h,E,m);l=v?l.projectionNext:l.next}}function Zc(s,o,l,c,h,m){gm(l,c,s.firstChild,o,h,m,!1)}function yd(s,o,l,c,h,m){const v=l[16],D=v[6].projection[c.projection];if(Array.isArray(D))for(let S=0;S<D.length;S++)Uo(o,s,h,D[S],m);else gm(s,o,D,v[3],h,m,!0)}function ao(s,o,l){s.setAttribute(o,"style",l)}function Vl(s,o,l){""===l?s.removeAttribute(o,"class"):s.setAttribute(o,"class",l)}function Bl(s){return function lf(){if(void 0===vd&&(vd=null,hn.trustedTypes))try{vd=hn.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return vd}()?.createHTML(s)||s}function y(s){vm=s}class ce{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Ue extends ce{getTypeName(){return"HTML"}}class ot extends ce{getTypeName(){return"Style"}}class xt extends ce{getTypeName(){return"Script"}}class Tt extends ce{getTypeName(){return"URL"}}class Ai extends ce{getTypeName(){return"ResourceURL"}}function Mi(s){return s instanceof ce?s.changingThisBreaksApplicationSecurity:s}function jo(s,o){const l=function B_(s){return s instanceof ce&&s.getTypeName()||null}(s);if(null!=l&&l!==o){if("ResourceURL"===l&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${l} (see https://g.co/ng/security#xss)`)}return l===o}function bm(s){return new Ue(s)}function H_(s){return new ot(s)}function U_(s){return new xt(s)}function wm(s){return new Tt(s)}function j_(s){return new Ai(s)}class Dm{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const l=(new window.DOMParser).parseFromString(Bl(o),"text/html").body;return null===l?this.inertDocumentHelper.getInertBodyElement(o):(l.removeChild(l.firstChild),l)}catch{return null}}}class G_{constructor(o){if(this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const l=this.inertDocument.createElement("html");this.inertDocument.appendChild(l);const c=this.inertDocument.createElement("body");l.appendChild(c)}}getInertBodyElement(o){const l=this.inertDocument.createElement("template");if("content"in l)return l.innerHTML=Bl(o),l;const c=this.inertDocument.createElement("body");return c.innerHTML=Bl(o),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(c),c}stripCustomNsAttrs(o){const l=o.attributes;for(let h=l.length-1;0<h;h--){const v=l.item(h).name;("xmlns:ns1"===v||0===v.indexOf("ns1:"))&&o.removeAttribute(v)}let c=o.firstChild;for(;c;)c.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(c),c=c.nextSibling}}const Cm=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function cf(s){return(s=String(s)).match(Cm)?s:"unsafe:"+s}function Hl(s){const o={};for(const l of s.split(","))o[l]=!0;return o}function Im(...s){const o={};for(const l of s)for(const c in l)l.hasOwnProperty(c)&&(o[c]=!0);return o}const QC=Hl("area,br,col,hr,img,wbr"),XC=Hl("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),JC=Hl("rp,rt"),Iw=Im(QC,Im(XC,Hl("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Im(JC,Hl("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Im(JC,XC)),Tw=Hl("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),eI=Im(Tw,Hl("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Hl("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),JM=Hl("script,style,template");class tI{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(o){let l=o.firstChild,c=!0;for(;l;)if(l.nodeType===Node.ELEMENT_NODE?c=this.startElement(l):l.nodeType===Node.TEXT_NODE?this.chars(l.nodeValue):this.sanitizedSomething=!0,c&&l.firstChild)l=l.firstChild;else for(;l;){l.nodeType===Node.ELEMENT_NODE&&this.endElement(l);let h=this.checkClobberedElement(l,l.nextSibling);if(h){l=h;break}l=this.checkClobberedElement(l,l.parentNode)}return this.buf.join("")}startElement(o){const l=o.nodeName.toLowerCase();if(!Iw.hasOwnProperty(l))return this.sanitizedSomething=!0,!JM.hasOwnProperty(l);this.buf.push("<"),this.buf.push(l);const c=o.attributes;for(let h=0;h<c.length;h++){const m=c.item(h),v=m.name,E=v.toLowerCase();if(!eI.hasOwnProperty(E)){this.sanitizedSomething=!0;continue}let D=m.value;Tw[E]&&(D=cf(D)),this.buf.push(" ",v,'="',Vs(D),'"')}return this.buf.push(">"),!0}endElement(o){const l=o.nodeName.toLowerCase();Iw.hasOwnProperty(l)&&!QC.hasOwnProperty(l)&&(this.buf.push("</"),this.buf.push(l),this.buf.push(">"))}chars(o){this.buf.push(Vs(o))}checkClobberedElement(o,l){if(l&&(o.compareDocumentPosition(l)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`);return l}}const Sw=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Aw=/([^\#-~ |!])/g;function Vs(s){return s.replace(/&/g,"&amp;").replace(Sw,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace(Aw,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let uf;function df(s,o){let l=null;try{uf=uf||function Em(s){const o=new G_(s);return function Cw(){try{return!!(new window.DOMParser).parseFromString(Bl(""),"text/html")}catch{return!1}}()?new Dm(o):o}(s);let c=o?String(o):"";l=uf.getInertBodyElement(c);let h=5,m=c;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,c=m,m=l.innerHTML,l=uf.getInertBodyElement(c)}while(c!==m);return Bl((new tI).sanitizeChildren(Tm(l)||l))}finally{if(l){const c=Tm(l)||l;for(;c.firstChild;)c.removeChild(c.firstChild)}}}function Tm(s){return"content"in s&&function nI(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var vi=(()=>((vi=vi||{})[vi.NONE=0]="NONE",vi[vi.HTML=1]="HTML",vi[vi.STYLE=2]="STYLE",vi[vi.SCRIPT=3]="SCRIPT",vi[vi.URL=4]="URL",vi[vi.RESOURCE_URL=5]="RESOURCE_URL",vi))();const z_=new En("ENVIRONMENT_INITIALIZER"),Rw=new En("INJECTOR",-1),Ow=new En("INJECTOR_DEF_TYPES");class Pw{get(o,l=li){if(l===li){const c=new Error(`NullInjectorError: No provider for ${ue(o)}!`);throw c.name="NullInjectorError",c}return l}}function Nw(...s){return{\u0275providers:Fw(0,s)}}function Fw(s,...o){const l=[],c=new Set;let h;return tn(o,m=>{const v=m;ff(v,l,[],c)&&(h||(h=[]),h.push(v))}),void 0!==h&&Lw(h,l),l}function Lw(s,o){for(let l=0;l<s.length;l++){const{providers:h}=s[l];tn(h,m=>{o.push(m)})}}function ff(s,o,l,c){if(!(s=X(s)))return!1;let h=null,m=Qi(s);const v=!m&&Q(s);if(m||v){if(v&&!v.standalone)return!1;h=s}else{const D=s.ngModule;if(m=Qi(D),!m)return!1;h=D}const E=c.has(h);if(v){if(E)return!1;if(c.add(h),v.dependencies){const D="function"==typeof v.dependencies?v.dependencies():v.dependencies;for(const S of D)ff(S,o,l,c)}}else{if(!m)return!1;{if(null!=m.imports&&!E){let S;c.add(h);try{tn(m.imports,R=>{ff(R,o,l,c)&&(S||(S=[]),S.push(R))})}finally{}void 0!==S&&Lw(S,o)}if(!E){const S=Pr(h)||(()=>new h);o.push({provide:h,useFactory:S,deps:Bt},{provide:Ow,useValue:h,multi:!0},{provide:z_,useValue:()=>Bn(h),multi:!0})}const D=m.providers;null==D||E||tn(D,R=>{o.push(R)})}}return h!==s&&void 0!==s.providers}const tx=he({provide:String,useValue:he});function Sm(s){return null!==s&&"object"==typeof s&&tx in s}function Qc(s){return"function"==typeof s}const q_=new En("Set Injector scope."),pf={},nx={};let Am;function W_(){return void 0===Am&&(Am=new Pw),Am}class mf{}class K_ extends mf{constructor(o,l,c,h){super(),this.parent=l,this.source=c,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Uw(o,v=>this.processProvider(v)),this.records.set(Rw,gf(void 0,this)),h.has("environment")&&this.records.set(mf,gf(void 0,this));const m=this.records.get(q_);null!=m&&"string"==typeof m.value&&this.scopes.add(m.value),this.injectorDefTypes=new Set(this.get(Ow.multi,Bt,Je.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();for(const o of this._onDestroyHooks)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(o){this._onDestroyHooks.push(o)}runInContext(o){this.assertNotDestroyed();const l=Hr(this),c=ii(void 0);try{return o()}finally{Hr(l),ii(c)}}get(o,l=li,c=Je.Default){this.assertNotDestroyed();const h=Hr(this),m=ii(void 0);try{if(!(c&Je.SkipSelf)){let E=this.records.get(o);if(void 0===E){const D=function ox(s){return"function"==typeof s||"object"==typeof s&&s instanceof En}(o)&&Rt(o);E=D&&this.injectableDefInScope(D)?gf(Bw(o),pf):null,this.records.set(o,E)}if(null!=E)return this.hydrate(o,E)}return(c&Je.Self?W_():this.parent).get(o,l=c&Je.Optional&&l===li?null:l)}catch(v){if("NullInjectorError"===v.name){if((v[Nl]=v[Nl]||[]).unshift(ue(o)),h)throw v;return function Y(s,o,l,c){const h=s[Nl];throw o[Kp]&&h.unshift(o[Kp]),s.message=function ie(s,o,l,c=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.slice(2):s;let h=ue(o);if(Array.isArray(o))h=o.map(ue).join(" -> ");else if("object"==typeof o){let m=[];for(let v in o)if(o.hasOwnProperty(v)){let E=o[v];m.push(v+":"+("string"==typeof E?JSON.stringify(E):ue(E)))}h=`{${m.join(", ")}}`}return`${l}${c?"("+c+")":""}[${h}]: ${s.replace(jc,"\n  ")}`}("\n"+s.message,h,l,c),s.ngTokenPath=h,s[Nl]=null,s}(v,o,"R3InjectorError",this.source)}throw v}finally{ii(m),Hr(h)}}resolveInjectorInitializers(){const o=Hr(this),l=ii(void 0);try{const c=this.get(z_.multi,Bt,Je.Self);for(const h of c)h()}finally{Hr(o),ii(l)}}toString(){const o=[],l=this.records;for(const c of l.keys())o.push(ue(c));return`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ke(205,!1)}processProvider(o){let l=Qc(o=X(o))?o:X(o&&o.provide);const c=function ix(s){return Sm(s)?gf(void 0,s.useValue):gf(Hw(s),pf)}(o);if(Qc(o)||!0!==o.multi)this.records.get(l);else{let h=this.records.get(l);h||(h=gf(void 0,pf,!0),h.factory=()=>T(h.multi),this.records.set(l,h)),l=o,h.multi.push(o)}this.records.set(l,c)}hydrate(o,l){return l.value===pf&&(l.value=nx,l.value=l.factory()),"object"==typeof l.value&&l.value&&function sx(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(l.value)&&this._ngOnDestroyHooks.add(l.value),l.value}injectableDefInScope(o){if(!o.providedIn)return!1;const l=X(o.providedIn);return"string"==typeof l?"any"===l||this.scopes.has(l):this.injectorDefTypes.has(l)}}function Bw(s){const o=Rt(s),l=null!==o?o.factory:Pr(s);if(null!==l)return l;if(s instanceof En)throw new ke(204,!1);if(s instanceof Function)return function cI(s){const o=s.length;if(o>0)throw ir(o,"?"),new ke(204,!1);const l=function Mn(s){const o=s&&(s[br]||s[pr]);if(o){const l=function Pn(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${l}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${l}" class.`),o}return null}(s);return null!==l?()=>l.factory(s):()=>new s}(s);throw new ke(204,!1)}function Hw(s,o,l){let c;if(Qc(s)){const h=X(s);return Pr(h)||Bw(h)}if(Sm(s))c=()=>X(s.useValue);else if(function Vw(s){return!(!s||!s.useFactory)}(s))c=()=>s.useFactory(...T(s.deps||[]));else if(function Yc(s){return!(!s||!s.useExisting)}(s))c=()=>Bn(X(s.useExisting));else{const h=X(s&&(s.useClass||s.provide));if(!function rx(s){return!!s.deps}(s))return Pr(h)||Bw(h);c=()=>new h(...T(s.deps))}return c}function gf(s,o,l=!1){return{factory:s,value:o,multi:l?[]:void 0}}function ax(s){return!!s.\u0275providers}function Uw(s,o){for(const l of s)Array.isArray(l)?Uw(l,o):ax(l)?Uw(l.\u0275providers,o):o(l)}class _f{}class dI{resolveComponentFactory(o){throw function uI(s){const o=Error(`No component factory found for ${ue(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let yf=(()=>{class s{}return s.NULL=new dI,s})();function hI(){return bd(Fn(),Ae())}function bd(s,o){return new wd(Vi(s,o))}let wd=(()=>{class s{constructor(l){this.nativeElement=l}}return s.__NG_ELEMENT_ID__=hI,s})();function Gw(s){return s instanceof wd?s.nativeElement:s}class $w{}let fI=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function pI(){const s=Ae(),l=Xt(Fn().index,s);return(gi(l)?l:s)[11]}(),s})(),Z_=(()=>{class s{}return s.\u0275prov=nt({token:s,providedIn:"root",factory:()=>null}),s})();class mI{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const gI=new mI("14.2.12"),zw={};function Ww(s){return s.ngOriginalError}class Xc{constructor(){this._console=console}handleError(o){const l=this._findOriginalError(o);this._console.error("ERROR",o),l&&this._console.error("ORIGINAL ERROR",l)}_findOriginalError(o){let l=o&&Ww(o);for(;l&&Ww(l);)l=Ww(l);return l||null}}function X_(s,o,l){let c=s.length;for(;;){const h=s.indexOf(o,l);if(-1===h)return h;if(0===h||s.charCodeAt(h-1)<=32){const m=o.length;if(h+m===c||s.charCodeAt(h+m)<=32)return h}l=h+1}}const Mm="ng-template";function Zw(s,o,l){let c=0;for(;c<s.length;){let h=s[c++];if(l&&"class"===h){if(h=s[c],-1!==X_(h.toLowerCase(),o,0))return!0}else if(1===h){for(;c<s.length&&"string"==typeof(h=s[c++]);)if(h.toLowerCase()===o)return!0;return!1}}return!1}function Yw(s){return 4===s.type&&s.value!==Mm}function wI(s,o,l){return o===(4!==s.type||l?s.value:Mm)}function Cd(s,o,l){let c=4;const h=s.attrs||[],m=function Qw(s){for(let o=0;o<s.length;o++)if(Xs(s[o]))return o;return s.length}(h);let v=!1;for(let E=0;E<o.length;E++){const D=o[E];if("number"!=typeof D){if(!v)if(4&c){if(c=2|1&c,""!==D&&!wI(s,D,l)||""===D&&1===o.length){if(Ur(c))return!1;v=!0}}else{const S=8&c?D:o[++E];if(8&c&&null!==s.attrs){if(!Zw(s.attrs,S,l)){if(Ur(c))return!1;v=!0}continue}const F=Ha(8&c?"class":D,h,Yw(s),l);if(-1===F){if(Ur(c))return!1;v=!0;continue}if(""!==S){let q;q=F>m?"":h[F+1].toLowerCase();const ee=8&c?q:null;if(ee&&-1!==X_(ee,S,0)||2&c&&S!==q){if(Ur(c))return!1;v=!0}}}}else{if(!v&&!Ur(c)&&!Ur(D))return!1;if(v&&Ur(D))continue;v=!1,c=D|1&c}}return Ur(c)||v}function Ur(s){return 0==(1&s)}function Ha(s,o,l,c){if(null===o)return-1;let h=0;if(c||!l){let m=!1;for(;h<o.length;){const v=o[h];if(v===s)return h;if(3===v||6===v)m=!0;else{if(1===v||2===v){let E=o[++h];for(;"string"==typeof E;)E=o[++h];continue}if(4===v)break;if(0===v){h+=4;continue}}h+=m?1:2}return-1}return function km(s,o){let l=s.indexOf(4);if(l>-1)for(l++;l<s.length;){const c=s[l];if("number"==typeof c)return-1;if(c===o)return l;l++}return-1}(o,s)}function xm(s,o,l=!1){for(let c=0;c<o.length;c++)if(Cd(s,o[c],l))return!0;return!1}function Xw(s,o){e:for(let l=0;l<o.length;l++){const c=o[l];if(s.length===c.length){for(let h=0;h<s.length;h++)if(s[h]!==c[h])continue e;return!0}}return!1}function Jw(s,o){return s?":not("+o.trim()+")":o}function J_(s){let o=s[0],l=1,c=2,h="",m=!1;for(;l<s.length;){let v=s[l];if("string"==typeof v)if(2&c){const E=s[++l];h+="["+v+(E.length>0?'="'+E+'"':"")+"]"}else 8&c?h+="."+v:4&c&&(h+=" "+v);else""!==h&&!Ur(v)&&(o+=Jw(m,h),h=""),c=v,m=m||!Ur(c);l++}return""!==h&&(o+=Jw(m,h)),o}const jt={};function ny(s){iy(Yt(),Ae(),ai()+s,!1)}function iy(s,o,l,c){if(!c)if(3==(3&o[2])){const m=s.preOrderCheckHooks;null!==m&&Zs(o,m,l)}else{const m=s.preOrderHooks;null!==m&&Ao(o,m,0,l)}tr(l)}function r0(s,o=null,l=null,c){const h=bf(s,o,l,c);return h.resolveInjectorInitializers(),h}function bf(s,o=null,l=null,c,h=new Set){const m=[l||Bt,Nw(s)];return c=c||("object"==typeof s?void 0:ue(s)),new K_(m,o||W_(),c||null,h)}let jl=(()=>{class s{static create(l,c){if(Array.isArray(l))return r0({name:""},c,l,"");{const h=l.name??"";return r0({name:h},l.parent,l.providers,h)}}}return s.THROW_IF_NOT_FOUND=li,s.NULL=new Pw,s.\u0275prov=nt({token:s,providedIn:"any",factory:()=>Bn(Rw)}),s.__NG_ELEMENT_ID__=-1,s})();function Ef(s,o=Je.Default){const l=Ae();return null===l?Bn(s,o):eo(Fn(),l,X(s),o)}function h0(){throw new Error("invalid")}function Lm(s,o){return s<<17|o<<2}function bi(s){return s>>17&32767}function hy(s){return 2|s}function co(s){return(131068&s)>>2}function p0(s,o){return-131069&s|o<<2}function ye(s){return 1|s}function Gm(s,o){const l=s.contentQueries;if(null!==l)for(let c=0;c<l.length;c+=2){const h=l[c],m=l[c+1];if(-1!==m){const v=s.data[m];Ea(h),v.contentQueries(2,o[m],m)}}}function $m(s,o,l,c,h,m,v,E,D,S,R){const F=o.blueprint.slice();return F[0]=h,F[2]=76|c,(null!==R||s&&1024&s[2])&&(F[2]|=1024),ll(F),F[3]=F[15]=s,F[8]=l,F[10]=v||s&&s[10],F[11]=E||s&&s[11],F[12]=D||s&&s[12]||null,F[9]=S||s&&s[9]||null,F[6]=m,F[20]=function iw(){return S_++}(),F[21]=R,F[16]=2==o.type?s[16]:F,F}function zl(s,o,l,c,h){let m=s.data[o];if(null===m)m=function zm(s,o,l,c,h){const m=pl(),v=_a(),D=s.data[o]=function by(s,o,l,c,h,m){return{type:l,index:c,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?m:m&&m.parent,l,o,c,h);return null===s.firstChild&&(s.firstChild=D),null!==m&&(v?null==m.child&&null!==D.parent&&(m.child=D):null===m.next&&(m.next=D)),D}(s,o,l,c,h),function Up(){return Vt.lFrame.inI18n}()&&(m.flags|=64);else if(64&m.type){m.type=l,m.value=c,m.attrs=h;const v=function So(){const s=Vt.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}();m.injectorIndex=null===v?-1:v.injectorIndex}return yr(m,!0),m}function Sd(s,o,l,c){if(0===l)return-1;const h=o.length;for(let m=0;m<l;m++)o.push(c),s.blueprint.push(c),s.data.push(null);return h}function nu(s,o,l){_l(o);try{const c=s.viewQuery;null!==c&&xd(1,c,l);const h=s.template;null!==h&&Ad(s,o,h,1,l),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&Gm(s,o),s.staticViewQueries&&xd(2,s.viewQuery,l);const m=s.components;null!==m&&function LI(s,o){for(let l=0;l<o.length;l++)A0(s,o[l])}(o,m)}catch(c){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),c}finally{o[2]&=-5,Ws()}}function qm(s,o,l,c){const h=o[2];if(128!=(128&h)){_l(o);try{ll(o),function Tc(s){return Vt.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==l&&Ad(s,o,l,2,c);const v=3==(3&h);if(v){const S=s.preOrderCheckHooks;null!==S&&Zs(o,S,null)}else{const S=s.preOrderHooks;null!==S&&Ao(o,S,0,null),nd(o,0)}if(function tg(s){for(let o=md(s);null!==o;o=gd(o)){if(!o[2])continue;const l=o[9];for(let c=0;c<l.length;c++){const h=l[c],m=h[3];0==(512&h[2])&&kn(m,1),h[2]|=512}}}(o),function GI(s){for(let o=md(s);null!==o;o=gd(o))for(let l=10;l<o.length;l++){const c=o[l],h=c[1];zs(c)&&qm(h,c,h.template,c[8])}}(o),null!==s.contentQueries&&Gm(s,o),v){const S=s.contentCheckHooks;null!==S&&Zs(o,S)}else{const S=s.contentHooks;null!==S&&Ao(o,S,1),nd(o,1)}!function _y(s,o){const l=s.hostBindingOpCodes;if(null!==l)try{for(let c=0;c<l.length;c++){const h=l[c];if(h<0)tr(~h);else{const m=h,v=l[++c],E=l[++c];jp(v,m),E(2,o[m])}}}finally{tr(-1)}}(s,o);const E=s.components;null!==E&&function yy(s,o){for(let l=0;l<o.length;l++)My(s,o[l])}(o,E);const D=s.viewQuery;if(null!==D&&xd(2,D,c),v){const S=s.viewCheckHooks;null!==S&&Zs(o,S)}else{const S=s.viewHooks;null!==S&&Ao(o,S,2),nd(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),o[2]&=-41,512&o[2]&&(o[2]&=-513,kn(o[3],-1))}finally{Ws()}}}function Ad(s,o,l,c,h){const m=ai(),v=2&c;try{tr(-1),v&&o.length>22&&iy(s,o,22,!1),l(c,h)}finally{tr(m)}}function b0(s,o,l){if(pa(o)){const h=o.directiveEnd;for(let m=o.directiveStart;m<h;m++){const v=s.data[m];v.contentQueries&&v.contentQueries(1,l[m],m)}}}function vy(s,o,l){!is()||(function Dy(s,o,l,c){const h=l.directiveStart,m=l.directiveEnd;s.firstCreatePass||Js(l,o),rr(c,o);const v=l.initialInputs;for(let E=h;E<m;E++){const D=s.data[E],S=Li(D);S&&UI(o,l,D);const R=xs(o,s,E,l);rr(R,o),null!==v&&Sy(0,E-h,R,D,0,v),S&&(Xt(l.index,o)[8]=R)}}(s,o,l,Vi(l,o)),128==(128&l.flags)&&function Cy(s,o,l){const c=l.directiveStart,h=l.directiveEnd,m=l.index,v=function Sc(){return Vt.lFrame.currentDirectiveIndex}();try{tr(m);for(let E=c;E<h;E++){const D=s.data[E],S=o[E];ml(E),(null!==D.hostBindings||0!==D.hostVars||null!==D.hostAttrs)&&Hi(D,S)}}finally{tr(-1),ml(v)}}(s,o,l))}function Md(s,o,l=Vi){const c=o.localNames;if(null!==c){let h=o.index+1;for(let m=0;m<c.length;m+=2){const v=c[m+1],E=-1===v?l(o,s):s[v];s[h++]=E}}}function Wm(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=Km(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function Km(s,o,l,c,h,m,v,E,D,S){const R=22+c,F=R+h,q=function w0(s,o){const l=[];for(let c=0;c<o;c++)l.push(c<s?null:jt);return l}(R,F),ee="function"==typeof S?S():S;return q[1]={type:s,blueprint:q,template:l,queries:null,viewQuery:E,declTNode:o,data:q.slice().fill(null,R),bindingStartIndex:R,expandoStartIndex:F,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:D,consts:ee,incompleteFirstPass:!1}}function Ym(s,o,l,c){const h=M0(o);null===l?h.push(c):(h.push(l),s.firstCreatePass&&iu(s).push(c,h.length-1))}function Qm(s,o,l){for(let c in s)if(s.hasOwnProperty(c)){const h=s[c];(l=null===l?{}:l).hasOwnProperty(c)?l[c].push(o,h):l[c]=[o,h]}return l}function Xm(s,o){const c=o.directiveEnd,h=s.data,m=o.attrs,v=[];let E=null,D=null;for(let S=o.directiveStart;S<c;S++){const R=h[S],F=R.inputs,q=null===m||Yw(o)?null:jI(F,m);v.push(q),E=Qm(F,S,E),D=Qm(R.outputs,S,D)}null!==E&&(E.hasOwnProperty("class")&&(o.flags|=16),E.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=v,o.inputs=E,o.outputs=D}function jr(s,o,l,c,h,m,v,E){const D=Vi(o,l);let R,S=o.inputs;!E&&null!=S&&(R=S[c])?(Ua(s,l,R,c,h),Do(o)&&D0(l,o.index)):3&o.type&&(c=function E0(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(c),h=null!=v?v(h,o.value||"",c):h,m.setProperty(D,c,h))}function D0(s,o){const l=Xt(o,s);16&l[2]||(l[2]|=32)}function Jm(s,o,l,c){let h=!1;if(is()){const m=function lr(s,o,l){const c=s.directiveRegistry;let h=null;if(c)for(let m=0;m<c.length;m++){const v=c[m];xm(l,v.selectors,!1)&&(h||(h=[]),As(Js(l,o),s,v.type),Li(v)?(Mf(s,l),h.unshift(v)):h.push(v))}return h}(s,o,l),v=null===c?null:{"":-1};if(null!==m){h=!0,T0(l,s.data.length,m.length);for(let R=0;R<m.length;R++){const F=m[R];F.providersResolver&&F.providersResolver(F)}let E=!1,D=!1,S=Sd(s,o,m.length,null);for(let R=0;R<m.length;R++){const F=m[R];l.mergedAttrs=Da(l.mergedAttrs,F.hostAttrs),Ty(s,l,o,S,F),HI(S,F,v),null!==F.contentQueries&&(l.flags|=8),(null!==F.hostBindings||null!==F.hostAttrs||0!==F.hostVars)&&(l.flags|=128);const q=F.type.prototype;!E&&(q.ngOnChanges||q.ngOnInit||q.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(l.index),E=!0),!D&&(q.ngOnChanges||q.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(l.index),D=!0),S++}Xm(s,l)}v&&function Iy(s,o,l){if(o){const c=s.localNames=[];for(let h=0;h<o.length;h+=2){const m=l[o[h+1]];if(null==m)throw new ke(-301,!1);c.push(o[h],m)}}}(l,c,v)}return l.mergedAttrs=Da(l.mergedAttrs,l.attrs),h}function I0(s,o,l,c,h,m){const v=m.hostBindings;if(v){let E=s.hostBindingOpCodes;null===E&&(E=s.hostBindingOpCodes=[]);const D=~o.index;(function Ey(s){let o=s.length;for(;o>0;){const l=s[--o];if("number"==typeof l&&l<0)return l}return 0})(E)!=D&&E.push(D),E.push(c,h,v)}}function Hi(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function Mf(s,o){o.flags|=2,(s.components||(s.components=[])).push(o.index)}function HI(s,o,l){if(l){if(o.exportAs)for(let c=0;c<o.exportAs.length;c++)l[o.exportAs[c]]=s;Li(o)&&(l[""]=s)}}function T0(s,o,l){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+l,s.providerIndexes=o}function Ty(s,o,l,c,h){s.data[c]=h;const m=h.factory||(h.factory=Pr(h.type)),v=new Ss(m,Li(h),Ef);s.blueprint[c]=v,l[c]=v,I0(s,o,0,c,Sd(s,l,h.hostVars,jt),h)}function UI(s,o,l){const c=Vi(o,s),h=Wm(l),m=s[10],v=ql(s,$m(s,h,null,l.onPush?32:16,c,o,m,m.createRenderer(c,l),null,null,null));s[o.index]=v}function zo(s,o,l,c,h,m){const v=Vi(s,o);!function eg(s,o,l,c,h,m,v){if(null==m)s.removeAttribute(o,h,l);else{const E=null==v?pe(m):v(m,c||"",h);s.setAttribute(o,h,E,l)}}(o[11],v,m,s.value,l,c,h)}function Sy(s,o,l,c,h,m){const v=m[o];if(null!==v){const E=c.setInput;for(let D=0;D<v.length;){const S=v[D++],R=v[D++],F=v[D++];null!==E?c.setInput(l,F,S,R):l[R]=F}}}function jI(s,o){let l=null,c=0;for(;c<o.length;){const h=o[c];if(0!==h)if(5!==h){if("number"==typeof h)break;s.hasOwnProperty(h)&&(null===l&&(l=[]),l.push(h,s[h],o[c+1])),c+=2}else c+=2;else c+=4}return l}function Ay(s,o,l,c){return new Array(s,!0,!1,o,null,0,c,l,null,null)}function My(s,o){const l=Xt(o,s);if(zs(l)){const c=l[1];48&l[2]?qm(c,l,c.template,l[8]):l[5]>0&&xf(l)}}function xf(s){for(let c=md(s);null!==c;c=gd(c))for(let h=10;h<c.length;h++){const m=c[h];if(zs(m))if(512&m[2]){const v=m[1];qm(v,m,v.template,m[8])}else m[5]>0&&xf(m)}const l=s[1].components;if(null!==l)for(let c=0;c<l.length;c++){const h=Xt(l[c],s);zs(h)&&h[5]>0&&xf(h)}}function A0(s,o){const l=Xt(o,s),c=l[1];(function $I(s,o){for(let l=o.length;l<s.blueprint.length;l++)o.push(s.blueprint[l])})(c,l),nu(c,l,l[8])}function ql(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function ng(s){for(;s;){s[2]|=32;const o=Ll(s);if(Mh(s)&&!o)return s;s=o}return null}function kf(s,o,l,c=!0){const h=o[10];h.begin&&h.begin();try{qm(s,o,s.template,l)}catch(v){throw c&&k0(o,v),v}finally{h.end&&h.end()}}function xd(s,o,l){Ea(0),o(s,l)}function M0(s){return s[7]||(s[7]=[])}function iu(s){return s.cleanup||(s.cleanup=[])}function x0(s,o,l){return(null===s||Li(s))&&(l=function wc(s){for(;Array.isArray(s);){if("object"==typeof s[1])return s;s=s[0]}return null}(l[o.index])),l[11]}function k0(s,o){const l=s[9],c=l?l.get(Xc,null):null;c&&c.handleError(o)}function Ua(s,o,l,c,h){for(let m=0;m<l.length;){const v=l[m++],E=l[m++],D=o[v],S=s.data[v];null!==S.setInput?S.setInput(D,h,c,E):D[E]=h}}function ru(s,o,l){let c=l?s.styles:null,h=l?s.classes:null,m=0;if(null!==o)for(let v=0;v<o.length;v++){const E=o[v];"number"==typeof E?m=E:1==m?h=de(h,E):2==m&&(c=de(c,E+": "+o[++v]+";"))}l?s.styles=c:s.stylesWithoutHost=c,l?s.classes=h:s.classesWithoutHost=h}function Rf(s,o,l,c,h=!1){for(;null!==l;){const m=o[l.index];if(null!==m&&c.push(Nn(m)),$i(m))for(let E=10;E<m.length;E++){const D=m[E],S=D[1].firstChild;null!==S&&Rf(D[1],D,S,c)}const v=l.type;if(8&v)Rf(s,o,l.child,c);else if(32&v){const E=om(l,o);let D;for(;D=E();)c.push(D)}else if(16&v){const E=fm(o,l);if(Array.isArray(E))c.push(...E);else{const D=Ll(o[16]);Rf(D[1],D,E,c,!0)}}l=h?l.projectionNext:l.next}return c}class ja{constructor(o,l){this._lView=o,this._cdRefInjectingView=l,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,l=o[1];return Rf(l,o,l.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if($i(o)){const l=o[8],c=l?l.indexOf(this):-1;c>-1&&(cm(o,c),At(l,c))}this._attachedToViewContainer=!1}P_(this._lView[1],this._lView)}onDestroy(o){Ym(this._lView[1],this._lView,null,o)}markForCheck(){ng(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){kf(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ke(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function gw(s,o){Zc(s,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new ke(902,!1);this._appRef=o}}class R0 extends ja{constructor(o){super(o),this._view=o}detectChanges(){const o=this._view;kf(o[1],o,o[8],!1)}checkNoChanges(){}get context(){return null}}class cr extends yf{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const l=Q(o);return new kd(l,this.ngModule)}}function xy(s){const o=[];for(let l in s)s.hasOwnProperty(l)&&o.push({propName:s[l],templateName:l});return o}class ig{constructor(o,l){this.injector=o,this.parentInjector=l}get(o,l,c){const h=this.injector.get(o,zw,c);return h!==zw||l===zw?h:this.parentInjector.get(o,l,c)}}class kd extends _f{constructor(o,l){super(),this.componentDef=o,this.ngModule=l,this.componentType=o.type,this.selector=function ey(s){return s.map(J_).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!l}get inputs(){return xy(this.componentDef.inputs)}get outputs(){return xy(this.componentDef.outputs)}create(o,l,c,h){let m=(h=h||this.ngModule)instanceof mf?h:h?.injector;m&&null!==this.componentDef.getStandaloneInjector&&(m=this.componentDef.getStandaloneInjector(m)||m);const v=m?new ig(o,m):o,E=v.get($w,null);if(null===E)throw new ke(407,!1);const D=v.get(Z_,null),S=E.createRenderer(null,this.componentDef),R=this.componentDef.selectors[0][0]||"div",F=c?function Zm(s,o,l){return s.selectRootElement(o,l===ft.ShadowDom)}(S,c,this.componentDef.encapsulation):Jh(S,R,function Of(s){const o=s.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(R)),q=this.componentDef.onPush?288:272,ee=Km(0,null,null,1,0,null,null,null,null,null),we=$m(null,ee,null,q,null,null,E,S,D,v,null);let Le,Ke;_l(we);try{const ut=function Ry(s,o,l,c,h,m){const v=l[1];l[22]=s;const D=zl(v,22,2,"#host",null),S=D.mergedAttrs=o.hostAttrs;null!==S&&(ru(D,S,!0),null!==s&&(xo(h,s,S),null!==D.classes&&Vl(h,s,D.classes),null!==D.styles&&ao(h,s,D.styles)));const R=c.createRenderer(s,o),F=$m(l,Wm(o),null,o.onPush?32:16,l[22],D,c,R,m||null,null,null);return v.firstCreatePass&&(As(Js(D,l),v,o.type),Mf(v,D),T0(D,l.length,1)),ql(l,F),l[22]=F}(F,this.componentDef,we,E,S);if(F)if(c)xo(S,F,["ng-version",gI.full]);else{const{attrs:St,classes:xe}=function ty(s){const o=[],l=[];let c=1,h=2;for(;c<s.length;){let m=s[c];if("string"==typeof m)2===h?""!==m&&o.push(m,s[++c]):8===h&&l.push(m);else{if(!Ur(h))break;h=m}c++}return{attrs:o,classes:l}}(this.componentDef.selectors[0]);St&&xo(S,F,St),xe&&xe.length>0&&Vl(S,F,xe.join(" "))}if(Ke=To(ee,22),void 0!==l){const St=Ke.projection=[];for(let xe=0;xe<this.ngContentSelectors.length;xe++){const kt=l[xe];St.push(null!=kt?Array.from(kt):null)}}Le=function Oy(s,o,l,c){const h=l[1],m=function wy(s,o,l){const c=Fn();s.firstCreatePass&&(l.providersResolver&&l.providersResolver(l),Ty(s,c,o,Sd(s,o,1,null),l),Xm(s,c));const h=xs(o,s,c.directiveStart,c);rr(h,o);const m=Vi(c,o);return m&&rr(m,o),h}(h,l,o);if(s[8]=l[8]=m,null!==c)for(const E of c)E(m,o);if(o.contentQueries){const E=Fn();o.contentQueries(1,m,E.directiveStart)}const v=Fn();return!h.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(tr(v.index),I0(l[1],v,0,v.directiveStart,v.directiveEnd,o),Hi(o,m)),m}(ut,this.componentDef,we,[Py]),nu(ee,we,null)}finally{Ws()}return new O0(this.componentType,Le,bd(Ke,we),we,Ke)}}class O0 extends class lx{}{constructor(o,l,c,h,m){super(),this.location=c,this._rootLView=h,this._tNode=m,this.instance=l,this.hostView=this.changeDetectorRef=new R0(h),this.componentType=o}setInput(o,l){const c=this._tNode.inputs;let h;if(null!==c&&(h=c[o])){const m=this._rootLView;Ua(m[1],m,h,o,l),D0(m,this._tNode.index)}}get injector(){return new to(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}function Py(){const s=Fn();bl(Ae()[1],s)}function su(s){let o=function Pf(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),l=!0;const c=[s];for(;o;){let h;if(Li(s))h=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new ke(903,!1);h=o.\u0275dir}if(h){if(l){c.push(h);const v=s;v.inputs=Ny(s.inputs),v.declaredInputs=Ny(s.declaredInputs),v.outputs=Ny(s.outputs);const E=h.hostBindings;E&&Ly(s,E);const D=h.viewQuery,S=h.contentQueries;if(D&&Fy(s,D),S&&sg(s,S),ne(s.inputs,h.inputs),ne(s.declaredInputs,h.declaredInputs),ne(s.outputs,h.outputs),Li(h)&&h.data.animation){const R=s.data;R.animation=(R.animation||[]).concat(h.data.animation)}}const m=h.features;if(m)for(let v=0;v<m.length;v++){const E=m[v];E&&E.ngInherit&&E(s),E===su&&(l=!1)}}o=Object.getPrototypeOf(o)}!function P0(s){let o=0,l=null;for(let c=s.length-1;c>=0;c--){const h=s[c];h.hostVars=o+=h.hostVars,h.hostAttrs=Da(h.hostAttrs,l=Da(l,h.hostAttrs))}}(c)}function Ny(s){return s===Xi?{}:s===Bt?[]:s}function Fy(s,o){const l=s.viewQuery;s.viewQuery=l?(c,h)=>{o(c,h),l(c,h)}:o}function sg(s,o){const l=s.contentQueries;s.contentQueries=l?(c,h,m)=>{o(c,h,m),l(c,h,m)}:o}function Ly(s,o){const l=s.hostBindings;s.hostBindings=l?(c,h)=>{o(c,h),l(c,h)}:o}let og=null;function ho(){if(!og){const s=hn.Symbol;if(s&&s.iterator)og=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let l=0;l<o.length;++l){const c=o[l];"entries"!==c&&"size"!==c&&Map.prototype[c]===Map.prototype.entries&&(og=c)}}}return og}function Wl(s){return!!Ff(s)&&(Array.isArray(s)||!(s instanceof Map)&&ho()in s)}function Ff(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function Wo(s,o,l){return s[o]=l}function ur(s,o,l){return!Object.is(s[o],l)&&(s[o]=l,!0)}function Od(s,o,l,c){const h=Ae();return ur(h,qs(),o)&&(Yt(),zo(wn(),h,s,o,l,c)),Od}function Uy(s,o,l,c,h,m,v,E){const D=Ae(),S=Yt(),R=s+22,F=S.firstCreatePass?function YI(s,o,l,c,h,m,v,E,D){const S=o.consts,R=zl(o,s,4,v||null,Er(S,E));Jm(o,l,R,Er(S,D)),bl(o,R);const F=R.tViews=Km(2,R,c,h,m,o.directiveRegistry,o.pipeRegistry,null,o.schemas,S);return null!==o.queries&&(o.queries.template(o,R),F.queries=o.queries.embeddedTView(R)),R}(R,S,D,o,l,c,h,m,v):S.data[R];yr(F,!1);const q=D[11].createComment("");af(S,D,q,F),rr(q,D),ql(D,D[R]=Ay(q,D,q,F)),pc(F)&&vy(S,D,F),null!=v&&Md(D,F,E)}function jy(s){return ns(function Ic(){return Vt.lFrame.contextLView}(),22+s)}function ag(s,o,l){const c=Ae();return ur(c,qs(),o)&&jr(Yt(),wn(),c,s,o,c[11],l,!1),ag}function Lf(s,o,l,c,h){const v=h?"class":"style";Ua(s,l,o.inputs[v],v,c)}function Vf(s,o,l,c){const h=Ae(),m=Yt(),v=22+s,E=h[11],D=h[v]=Jh(E,o,function vl(){return Vt.lFrame.currentNamespace}()),S=m.firstCreatePass?function Gy(s,o,l,c,h,m,v){const E=o.consts,S=zl(o,s,2,h,Er(E,m));return Jm(o,l,S,Er(E,v)),null!==S.attrs&&ru(S,S.attrs,!1),null!==S.mergedAttrs&&ru(S,S.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,S),S}(v,m,h,0,o,l,c):m.data[v];yr(S,!0);const R=S.mergedAttrs;null!==R&&xo(E,D,R);const F=S.classes;null!==F&&Vl(E,D,F);const q=S.styles;return null!==q&&ao(E,D,q),64!=(64&S.flags)&&af(m,h,D,S),0===function ul(){return Vt.lFrame.elementDepthCount}()&&rr(D,h),function dl(){Vt.lFrame.elementDepthCount++}(),pc(S)&&(vy(m,h,S),b0(m,S,h)),null!==c&&Md(h,S),Vf}function Bf(){let s=Fn();_a()?ya():(s=s.parent,yr(s,!1));const o=s;!function Ec(){Vt.lFrame.elementDepthCount--}();const l=Yt();return l.firstCreatePass&&(bl(l,s),pa(s)&&l.queries.elementEnd(s)),null!=o.classesWithoutHost&&function Dl(s){return 0!=(16&s.flags)}(o)&&Lf(l,o,Ae(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function rd(s){return 0!=(32&s.flags)}(o)&&Lf(l,o,Ae(),o.stylesWithoutHost,!1),Bf}function Hf(s,o,l,c){return Vf(s,o,l,c),Bf(),Hf}function lg(s,o,l){const c=Ae(),h=Yt(),m=s+22,v=h.firstCreatePass?function XI(s,o,l,c,h){const m=o.consts,v=Er(m,c),E=zl(o,s,8,"ng-container",v);return null!==v&&ru(E,v,!0),Jm(o,l,E,Er(m,h)),null!==o.queries&&o.queries.elementStart(o,E),E}(m,h,c,o,l):h.data[m];yr(v,!0);const E=c[m]=c[11].createComment("");return af(h,c,E,v),rr(E,c),pc(v)&&(vy(h,c,v),b0(h,v,c)),null!=l&&Md(c,v),lg}function cg(){let s=Fn();const o=Yt();return _a()?ya():(s=s.parent,yr(s,!1)),o.firstCreatePass&&(bl(o,s),pa(s)&&o.queries.elementEnd(s)),cg}function Ld(){return Ae()}function Vd(s){return!!s&&"function"==typeof s.then}function ug(s){return!!s&&"function"==typeof s.subscribe}const $y=ug;function du(s,o,l,c){const h=Ae(),m=Yt(),v=Fn();return Jn(m,h,h[11],v,s,o,0,c),du}function hu(s,o){const l=Fn(),c=Ae(),h=Yt();return Jn(h,c,x0(wa(h.data),l,c),l,s,o),hu}function Jn(s,o,l,c,h,m,v,E){const D=pc(c),R=s.firstCreatePass&&iu(s),F=o[8],q=M0(o);let ee=!0;if(3&c.type||E){const Ke=Vi(c,o),ut=E?E(Ke):Ke,St=q.length,xe=E?fn=>E(Nn(fn[c.index])):c.index;let kt=null;if(!E&&D&&(kt=function JI(s,o,l,c){const h=s.cleanup;if(null!=h)for(let m=0;m<h.length-1;m+=2){const v=h[m];if(v===l&&h[m+1]===c){const E=o[7],D=h[m+2];return E.length>D?E[D]:null}"string"==typeof v&&(m+=2)}return null}(s,o,h,c.index)),null!==kt)(kt.__ngLastListenerFn__||kt).__ngNextListenerFn__=m,kt.__ngLastListenerFn__=m,ee=!1;else{m=U0(c,o,F,m,!1);const fn=l.listen(ut,h,m);q.push(m,fn),R&&R.push(h,xe,St,St+1)}}else m=U0(c,o,F,m,!1);const we=c.outputs;let Le;if(ee&&null!==we&&(Le=we[h])){const Ke=Le.length;if(Ke)for(let ut=0;ut<Ke;ut+=2){const Tn=o[Le[ut]][Le[ut+1]].subscribe(m),Zr=q.length;q.push(m,Tn),R&&R.push(h,c.index,Zr,-(Zr+1))}}}function zy(s,o,l,c){try{return!1!==l(c)}catch(h){return k0(s,h),!1}}function U0(s,o,l,c,h){return function m(v){if(v===Function)return c;ng(2&s.flags?Xt(s.index,o):o);let D=zy(o,0,c,v),S=m.__ngNextListenerFn__;for(;S;)D=zy(o,0,S,v)&&D,S=S.__ngNextListenerFn__;return h&&!1===D&&(v.preventDefault(),v.returnValue=!1),D}}function j0(s=1){return function Ks(s){return(Vt.lFrame.contextLView=function yl(s,o){for(;s>0;)o=o[15],s--;return o}(s,Vt.lFrame.contextLView))[8]}(s)}function eT(s,o){let l=null;const c=function Id(s){const o=s.attrs;if(null!=o){const l=o.indexOf(5);if(0==(1&l))return o[l+1]}return null}(s);for(let h=0;h<o.length;h++){const m=o[h];if("*"!==m){if(null===c?xm(s,m,!0):Xw(c,m))return h}else l=h}return l}function qy(s){const o=Ae()[16][6];if(!o.projection){const c=o.projection=ir(s?s.length:1,null),h=c.slice();let m=o.child;for(;null!==m;){const v=s?eT(m,s):0;null!==v&&(h[v]?h[v].projectionNext=m:c[v]=m,h[v]=m),m=m.next}}}function Wy(s,o=0,l){const c=Ae(),h=Yt(),m=zl(h,22+s,16,null,l||null);null===m.projection&&(m.projection=o),ya(),64!=(64&m.flags)&&function Cr(s,o,l){yd(o[11],0,o,l,ef(s,l,o),V_(l.parent||o[6],l,o))}(h,c,m)}function $0(s,o,l,c,h){const m=s[l+1],v=null===o;let E=c?bi(m):co(m),D=!1;for(;0!==E&&(!1===D||v);){const R=s[E+1];z0(s[E],o)&&(D=!0,s[E+1]=c?ye(R):hy(R)),E=c?bi(R):co(R)}D&&(s[l+1]=c?hy(m):ye(m))}function z0(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&Ns(s,o)>=0}function mg(s,o){return function ls(s,o,l,c){const h=Ae(),m=Yt(),v=function rs(s){const o=Vt.lFrame,l=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,l}(2);m.firstUpdatePass&&function ov(s,o,l,c){const h=s.data;if(null===h[l+1]){const m=h[ai()],v=function Y0(s,o){return o>=s.expandoStartIndex}(s,l);(function at(s,o){return 0!=(s.flags&(o?16:32))})(m,c)&&null===o&&!v&&(o=!1),o=function nT(s,o,l,c){const h=wa(s);let m=c?o.residualClasses:o.residualStyles;if(null===h)0===(c?o.classBindings:o.styleBindings)&&(l=Jo(l=ki(null,s,o,l,c),o.attrs,c),m=null);else{const v=o.directiveStylingLast;if(-1===v||s[v]!==h)if(l=ki(h,s,o,l,c),null===m){let D=function gg(s,o,l){const c=l?o.classBindings:o.styleBindings;if(0!==co(c))return s[bi(c)]}(s,o,c);void 0!==D&&Array.isArray(D)&&(D=ki(null,s,o,D[1],c),D=Jo(D,o.attrs,c),function iT(s,o,l,c){s[bi(l?o.classBindings:o.styleBindings)]=c}(s,o,c,D))}else m=function Q0(s,o,l){let c;const h=o.directiveEnd;for(let m=1+o.directiveStylingLast;m<h;m++)c=Jo(c,s[m].hostAttrs,l);return Jo(c,o.attrs,l)}(s,o,c)}return void 0!==m&&(c?o.residualClasses=m:o.residualStyles=m),l}(h,m,o,c),function G0(s,o,l,c,h,m){let v=m?o.classBindings:o.styleBindings,E=bi(v),D=co(v);s[c]=l;let R,S=!1;if(Array.isArray(l)){const F=l;R=F[1],(null===R||Ns(F,R)>0)&&(S=!0)}else R=l;if(h)if(0!==D){const q=bi(s[E+1]);s[c+1]=Lm(q,E),0!==q&&(s[q+1]=p0(s[q+1],c)),s[E+1]=function dy(s,o){return 131071&s|o<<17}(s[E+1],c)}else s[c+1]=Lm(E,0),0!==E&&(s[E+1]=p0(s[E+1],c)),E=c;else s[c+1]=Lm(D,0),0===E?E=c:s[D+1]=p0(s[D+1],c),D=c;S&&(s[c+1]=hy(s[c+1])),$0(s,R,c,!0),$0(s,R,c,!1),function fg(s,o,l,c,h){const m=h?s.residualClasses:s.residualStyles;null!=m&&"string"==typeof o&&Ns(m,o)>=0&&(l[c+1]=ye(l[c+1]))}(o,R,s,c,m),v=Lm(E,D),m?o.classBindings=v:o.styleBindings=v}(h,m,o,l,v,c)}}(m,s,v,c),o!==jt&&ur(h,v,o)&&function Fe(s,o,l,c,h,m,v,E){if(!(3&o.type))return;const D=s.data,S=D[E+1];ea(function m0(s){return 1==(1&s)}(S)?di(D,o,l,h,co(S),v):void 0)||(ea(m)||function Wi(s){return 2==(2&s)}(S)&&(m=di(D,null,l,h,E,v)),function ww(s,o,l,c,h){if(o)h?s.addClass(l,c):s.removeClass(l,c);else{let m=-1===c.indexOf("-")?void 0:oo.DashCase;null==h?s.removeStyle(l,c,m):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),m|=oo.Important),s.setStyle(l,c,h,m))}}(c,v,_r(ai(),l),h,m))}(m,m.data[ai()],h,h[11],s,h[v+1]=function av(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=ue(Mi(s)))),s}(o,l),c,v)}(s,o,null,!0),mg}function ki(s,o,l,c,h){let m=null;const v=l.directiveEnd;let E=l.directiveStylingLast;for(-1===E?E=l.directiveStart:E++;E<v&&(m=o[E],c=Jo(c,m.hostAttrs,h),m!==s);)E++;return null!==s&&(l.directiveStylingLast=E),c}function Jo(s,o,l){const c=l?1:2;let h=-1;if(null!==o)for(let m=0;m<o.length;m++){const v=o[m];"number"==typeof v?h=v:h===c&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),Rn(s,v,!!l||o[++m]))}return void 0===s?null:s}function di(s,o,l,c,h,m){const v=null===o;let E;for(;h>0;){const D=s[h],S=Array.isArray(D),R=S?D[1]:D,F=null===R;let q=l[h+1];q===jt&&(q=F?Bt:void 0);let ee=F?sn(q,c):R===c?q:void 0;if(S&&!ea(ee)&&(ee=sn(D,c)),ea(ee)&&(E=ee,v))return E;const we=s[h+1];h=v?bi(we):co(we)}if(null!==o){let D=m?o.residualClasses:o.residualStyles;null!=D&&(E=sn(D,c))}return E}function ea(s){return void 0!==s}function mt(s,o=""){const l=Ae(),c=Yt(),h=s+22,m=c.firstCreatePass?zl(c,h,1,o,null):c.data[h],v=l[h]=function am(s,o){return s.createText(o)}(l[11],o);af(c,l,v,m),yr(m,!1)}function lv(s){return We("",s,""),lv}function We(s,o,l){const c=Ae(),h=function lu(s,o,l,c){return ur(s,qs(),l)?o+pe(l)+c:jt}(c,s,o,l);return h!==jt&&function qo(s,o,l){const c=_r(o,s);!function O_(s,o,l){s.setValue(o,l)}(s[11],c,l)}(c,ai(),h),We}function bg(s,o,l){const c=Ae();return ur(c,qs(),o)&&jr(Yt(),wn(),c,s,o,c[11],l,!0),bg}function wg(s,o,l){const c=Ae();if(ur(c,qs(),o)){const m=Yt(),v=wn();jr(m,v,c,s,o,x0(wa(m.data),v,c),l,!0)}return wg}const zr=void 0;var se=["en",[["a","p"],["AM","PM"],zr],[["AM","PM"],zr,zr],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],zr,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],zr,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",zr,"{1} 'at' {0}",zr],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function fv(s){const l=Math.floor(Math.abs(s)),c=s.toString().replace(/^[^.]*\.?/,"").length;return 1===l&&0===c?1:5}];let qa={};function pv(s){const o=function mv(s){return s.toLowerCase().replace(/_/g,"-")}(s);let l=aE(o);if(l)return l;const c=o.split("-")[0];if(l=aE(c),l)return l;if("en"===c)return se;throw new ke(701,!1)}function Wa(s){return pv(s)[Mt.PluralCase]}function aE(s){return s in qa||(qa[s]=hn.ng&&hn.ng.common&&hn.ng.common.locales&&hn.ng.common.locales[s]),qa[s]}var Mt=(()=>((Mt=Mt||{})[Mt.LocaleId=0]="LocaleId",Mt[Mt.DayPeriodsFormat=1]="DayPeriodsFormat",Mt[Mt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Mt[Mt.DaysFormat=3]="DaysFormat",Mt[Mt.DaysStandalone=4]="DaysStandalone",Mt[Mt.MonthsFormat=5]="MonthsFormat",Mt[Mt.MonthsStandalone=6]="MonthsStandalone",Mt[Mt.Eras=7]="Eras",Mt[Mt.FirstDayOfWeek=8]="FirstDayOfWeek",Mt[Mt.WeekendRange=9]="WeekendRange",Mt[Mt.DateFormat=10]="DateFormat",Mt[Mt.TimeFormat=11]="TimeFormat",Mt[Mt.DateTimeFormat=12]="DateTimeFormat",Mt[Mt.NumberSymbols=13]="NumberSymbols",Mt[Mt.NumberFormats=14]="NumberFormats",Mt[Mt.CurrencyCode=15]="CurrencyCode",Mt[Mt.CurrencySymbol=16]="CurrencySymbol",Mt[Mt.CurrencyName=17]="CurrencyName",Mt[Mt.Currencies=18]="Currencies",Mt[Mt.Directionality=19]="Directionality",Mt[Mt.PluralCase=20]="PluralCase",Mt[Mt.ExtraData=21]="ExtraData",Mt))();const Ki="en-US";let zd=Ki;function dr(s,o,l,c,h){if(s=X(s),Array.isArray(s))for(let m=0;m<s.length;m++)dr(s[m],o,l,c,h);else{const m=Yt(),v=Ae();let E=Qc(s)?s:X(s.provide),D=Hw(s);const S=Fn(),R=1048575&S.providerIndexes,F=S.directiveStart,q=S.providerIndexes>>20;if(Qc(s)||!s.multi){const ee=new Ss(D,h,Ef),we=Cu(E,o,h?R:R+q,F);-1===we?(As(Js(S,v),m,E),Jf(m,s,o.length),o.push(E),S.directiveStart++,S.directiveEnd++,h&&(S.providerIndexes+=1048576),l.push(ee),v.push(ee)):(l[we]=ee,v[we]=ee)}else{const ee=Cu(E,o,R+q,F),we=Cu(E,o,R,R+q),Le=ee>=0&&l[ee],Ke=we>=0&&l[we];if(h&&!Ke||!h&&!Le){As(Js(S,v),m,E);const ut=function IE(s,o,l,c,h){const m=new Ss(s,l,Ef);return m.multi=[],m.index=o,m.componentProviders=0,ep(m,h,c&&!l),m}(h?Av:CE,l.length,h,c,D);!h&&Ke&&(l[we].providerFactory=ut),Jf(m,s,o.length,0),o.push(E),S.directiveStart++,S.directiveEnd++,h&&(S.providerIndexes+=1048576),l.push(ut),v.push(ut)}else Jf(m,s,ee>-1?ee:we,ep(l[h?we:ee],D,!h&&c));!h&&c&&Ke&&l[we].componentProviders++}}}function Jf(s,o,l,c){const h=Qc(o),m=function lI(s){return!!s.useClass}(o);if(h||m){const D=(m?X(o.useClass):o).prototype.ngOnDestroy;if(D){const S=s.destroyHooks||(s.destroyHooks=[]);if(!h&&o.multi){const R=S.indexOf(l);-1===R?S.push(l,[c,D]):S[R+1].push(c,D)}else S.push(l,D)}}}function ep(s,o,l){return l&&s.componentProviders++,s.multi.push(o)-1}function Cu(s,o,l,c){for(let h=l;h<c;h++)if(o[h]===s)return h;return-1}function CE(s,o,l,c){return Iu(this.multi,[])}function Av(s,o,l,c){const h=this.multi;let m;if(this.providerFactory){const v=this.providerFactory.componentProviders,E=xs(l,l[1],this.providerFactory.index,c);m=E.slice(0,v),Iu(h,m);for(let D=v;D<E.length;D++)m.push(E[D])}else m=[],Iu(h,m);return m}function Iu(s,o){for(let l=0;l<s.length;l++)o.push((0,s[l])());return o}function Mv(s,o=[]){return l=>{l.providersResolver=(c,h)=>function Du(s,o,l){const c=Yt();if(c.firstCreatePass){const h=Li(s);dr(l,c.data,c.blueprint,h,!0),dr(o,c.data,c.blueprint,h,!1)}}(c,h?h(s):s,o)}}class Qd{}function SE(s,o){return new tp(s,o??null)}class tp extends Qd{constructor(o,l){super(),this._parent=l,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new cr(this);const c=function vn(s,o){const l=s[ln]||null;if(!l&&!0===o)throw new Error(`Type ${ue(s)} does not have '\u0275mod' property.`);return l}(o);this._bootstrapComponents=function Ul(s){return s instanceof Function?s():s}(c.bootstrap),this._r3Injector=bf(o,l,[{provide:Qd,useValue:this},{provide:yf,useValue:this.componentFactoryResolver}],ue(o),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(o)}get injector(){return this._r3Injector}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(l=>l()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class xv extends class TE{}{constructor(o){super(),this.moduleType=o}create(o){return new tp(this.moduleType,o)}}function Nv(s,o,l,c){return Qa(Ae(),Ln(),s,o,l,c)}function Fv(s,o,l,c,h){return function OE(s,o,l,c,h,m,v){const E=o+l;return function au(s,o,l,c){const h=ur(s,o,l);return ur(s,o+1,c)||h}(s,E,h,m)?Wo(s,E+2,v?c.call(v,h,m):c(h,m)):th(s,E+2)}(Ae(),Ln(),s,o,l,c,h)}function th(s,o){const l=s[o];return l===jt?void 0:l}function Qa(s,o,l,c,h,m){const v=o+l;return ur(s,v,h)?Wo(s,v+1,m?c.call(m,h):c(h)):th(s,v+1)}function Bv(s,o){const l=Yt();let c;const h=s+22;l.firstCreatePass?(c=function sa(s,o){if(o)for(let l=o.length-1;l>=0;l--){const c=o[l];if(s===c.name)return c}}(o,l.pipeRegistry),l.data[h]=c,c.onDestroy&&(l.destroyHooks||(l.destroyHooks=[])).push(h,c.onDestroy)):c=l.data[h];const m=c.factory||(c.factory=Pr(c.type)),v=ii(Ef);try{const E=Ta(!1),D=m();return Ta(E),function QI(s,o,l,c){l>=s.data.length&&(s.data[l]=null,s.blueprint[l]=null),o[l]=c}(l,Ae(),h,D),D}finally{ii(v)}}function ih(s,o,l){const c=s+22,h=Ae(),m=ns(h,c);return function Xl(s,o){return s[1].data[o].pure}(h,c)?Qa(h,Ln(),o,m.transform,l,m):m.transform(l)}function Au(s){return o=>{setTimeout(s,void 0,o)}}const cs=class rp extends d.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,l,c){let h=o,m=l||(()=>null),v=c;if(o&&"object"==typeof o){const D=o;h=D.next?.bind(D),m=D.error?.bind(D),v=D.complete?.bind(D)}this.__isAsync&&(m=Au(m),h&&(h=Au(h)),v&&(v=Au(v)));const E=super.subscribe({next:h,error:m,complete:v});return o instanceof te.w0&&o.add(E),E}};function PE(){return this._results[ho()]()}class kg{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const l=ho(),c=kg.prototype;c[l]||(c[l]=PE)}get changes(){return this._changes||(this._changes=new cs)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,l){return this._results.reduce(o,l)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,l){const c=this;c.dirty=!1;const h=en(o);(this._changesDetected=!function Os(s,o,l){if(s.length!==o.length)return!1;for(let c=0;c<s.length;c++){let h=s[c],m=o[c];if(l&&(h=l(h),m=l(m)),m!==h)return!1}return!0}(c._results,h,l))&&(c._results=h,c.length=h.length,c.last=h[this.length-1],c.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let rh=(()=>{class s{}return s.__NG_ELEMENT_ID__=FE,s})();const OT=rh,NE=class extends OT{constructor(o,l,c){super(),this._declarationLView=o,this._declarationTContainer=l,this.elementRef=c}createEmbeddedView(o,l){const c=this._declarationTContainer.tViews,h=$m(this._declarationLView,c,o,16,null,c.declTNode,null,null,null,null,l||null);h[17]=this._declarationLView[this._declarationTContainer.index];const v=this._declarationLView[19];return null!==v&&(h[19]=v.createEmbeddedView(c)),nu(c,h,o),new ja(h)}};function FE(){return Rg(Fn(),Ae())}function Rg(s,o){return 4&s.type?new NE(o,s,bd(s,o)):null}let Og=(()=>{class s{}return s.__NG_ELEMENT_ID__=PT,s})();function PT(){return pi(Fn(),Ae())}const NT=Og,Mu=class extends NT{constructor(o,l,c){super(),this._lContainer=o,this._hostTNode=l,this._hostLView=c}get element(){return bd(this._hostTNode,this._hostLView)}get injector(){return new to(this._hostTNode,this._hostLView)}get parentInjector(){const o=Sl(this._hostTNode,this._hostLView);if(od(o)){const l=Ia(o,this._hostLView),c=_i(o);return new to(l[1].data[c+8],l)}return new to(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const l=Hv(this._lContainer);return null!==l&&l[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,l,c){let h,m;"number"==typeof c?h=c:null!=c&&(h=c.index,m=c.injector);const v=o.createEmbeddedView(l||{},m);return this.insert(v,h),v}createComponent(o,l,c,h,m){const v=o&&!function Rs(s){return"function"==typeof s}(o);let E;if(v)E=l;else{const F=l||{};E=F.index,c=F.injector,h=F.projectableNodes,m=F.environmentInjector||F.ngModuleRef}const D=v?o:new kd(Q(o)),S=c||this.parentInjector;if(!m&&null==D.ngModule){const q=(v?S:this.parentInjector).get(mf,null);q&&(m=q)}const R=D.create(S,h,void 0,m);return this.insert(R.hostView,E),R}insert(o,l){const c=o._lView,h=c[1];if(function al(s){return $i(s[3])}(c)){const R=this.indexOf(o);if(-1!==R)this.detach(R);else{const F=c[3],q=new Mu(F,F[6],F[3]);q.detach(q.indexOf(o))}}const m=this._adjustIndex(l),v=this._lContainer;!function _d(s,o,l,c){const h=10+c,m=l.length;c>0&&(l[h-1][4]=o),c<m-10?(o[4]=l[h],Hh(l,10+c,o)):(l.push(o),o[4]=null),o[3]=l;const v=o[17];null!==v&&l!==v&&function yw(s,o){const l=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===l?s[9]=[o]:l.push(o)}(v,o);const E=o[19];null!==E&&E.insertView(s),o[2]|=64}(h,c,v,m);const E=pm(m,v),D=c[11],S=Ba(D,v[7]);return null!==S&&function mw(s,o,l,c,h,m){c[0]=h,c[6]=o,Zc(s,c,l,1,h,m)}(h,v[6],D,c,S,E),o.attachToViewContainerRef(),Hh(Uv(v),m,o),o}move(o,l){return this.insert(o,l)}indexOf(o){const l=Hv(this._lContainer);return null!==l?l.indexOf(o):-1}remove(o){const l=this._adjustIndex(o,-1),c=cm(this._lContainer,l);c&&(At(Uv(this._lContainer),l),P_(c[1],c))}detach(o){const l=this._adjustIndex(o,-1),c=cm(this._lContainer,l);return c&&null!=At(Uv(this._lContainer),l)?new ja(c):null}_adjustIndex(o,l=0){return o??this.length+l}};function Hv(s){return s[8]}function Uv(s){return s[8]||(s[8]=[])}function pi(s,o){let l;const c=o[s.index];if($i(c))l=c;else{let h;if(8&s.type)h=Nn(c);else{const m=o[11];h=m.createComment("");const v=Vi(s,o);Va(m,Ba(m,v),h,function L_(s,o){return s.nextSibling(o)}(m,v),!1)}o[s.index]=l=Ay(c,o,h,s),ql(o,l)}return new Mu(l,s,o)}class Bs{constructor(o){this.queryList=o,this.matches=null}clone(){return new Bs(this.queryList)}setDirty(){this.queryList.setDirty()}}class sp{constructor(o=[]){this.queries=o}createEmbeddedView(o){const l=o.queries;if(null!==l){const c=null!==o.contentQueries?o.contentQueries[0]:l.length,h=[];for(let m=0;m<c;m++){const v=l.getByIndex(m);h.push(this.queries[v.indexInDeclarationView].clone())}return new sp(h)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let l=0;l<this.queries.length;l++)null!==jE(o,l).matches&&this.queries[l].setDirty()}}class Gv{constructor(o,l,c=null){this.predicate=o,this.flags=l,this.read=c}}class xu{constructor(o=[]){this.queries=o}elementStart(o,l){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(o,l)}elementEnd(o){for(let l=0;l<this.queries.length;l++)this.queries[l].elementEnd(o)}embeddedTView(o){let l=null;for(let c=0;c<this.length;c++){const h=null!==l?l.length:0,m=this.getByIndex(c).embeddedTView(o,h);m&&(m.indexInDeclarationView=c,null!==l?l.push(m):l=[m])}return null!==l?new xu(l):null}template(o,l){for(let c=0;c<this.queries.length;c++)this.queries[c].template(o,l)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class Ng{constructor(o,l=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=l}elementStart(o,l){this.isApplyingToNode(l)&&this.matchTNode(o,l)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,l){this.elementStart(o,l)}embeddedTView(o,l){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,l),new Ng(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const l=this._declarationNodeIndex;let c=o.parent;for(;null!==c&&8&c.type&&c.index!==l;)c=c.parent;return l===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(o,l){const c=this.metadata.predicate;if(Array.isArray(c))for(let h=0;h<c.length;h++){const m=c[h];this.matchTNodeWithReadOption(o,l,VE(l,m)),this.matchTNodeWithReadOption(o,l,xa(l,o,m,!1,!1))}else c===rh?4&l.type&&this.matchTNodeWithReadOption(o,l,-1):this.matchTNodeWithReadOption(o,l,xa(l,o,c,!1,!1))}matchTNodeWithReadOption(o,l,c){if(null!==c){const h=this.metadata.read;if(null!==h)if(h===wd||h===Og||h===rh&&4&l.type)this.addMatch(l.index,-2);else{const m=xa(l,o,h,!1,!1);null!==m&&this.addMatch(l.index,m)}else this.addMatch(l.index,c)}}addMatch(o,l){null===this.matches?this.matches=[o,l]:this.matches.push(o,l)}}function VE(s,o){const l=s.localNames;if(null!==l)for(let c=0;c<l.length;c+=2)if(l[c]===o)return l[c+1];return null}function FT(s,o,l,c){return-1===l?function BE(s,o){return 11&s.type?bd(s,o):4&s.type?Rg(s,o):null}(o,s):-2===l?function LT(s,o,l){return l===wd?bd(o,s):l===rh?Rg(o,s):l===Og?pi(o,s):void 0}(s,o,c):xs(s,s[1],l,o)}function sh(s,o,l,c){const h=o[19].queries[c];if(null===h.matches){const m=s.data,v=l.matches,E=[];for(let D=0;D<v.length;D+=2){const S=v[D];E.push(S<0?null:FT(o,m[S],v[D+1],l.metadata.read))}h.matches=E}return h.matches}function op(s,o,l,c){const h=s.queries.getByIndex(l),m=h.matches;if(null!==m){const v=sh(s,o,h,l);for(let E=0;E<m.length;E+=2){const D=m[E];if(D>0)c.push(v[E/2]);else{const S=m[E+1],R=o[-D];for(let F=10;F<R.length;F++){const q=R[F];q[17]===q[3]&&op(q[1],q,S,c)}if(null!==R[9]){const F=R[9];for(let q=0;q<F.length;q++){const ee=F[q];op(ee[1],ee,S,c)}}}}}return c}function HE(s){const o=Ae(),l=Yt(),c=Ac();Ea(c+1);const h=jE(l,c);if(s.dirty&&function ol(s){return 4==(4&s[2])}(o)===(2==(2&h.metadata.flags))){if(null===h.matches)s.reset([]);else{const m=h.crossesNgTemplate?op(l,o,c,[]):sh(l,o,h,c);s.reset(m,Gw),s.notifyOnChanges()}return!0}return!1}function $v(s,o,l){const c=Yt();c.firstCreatePass&&(UE(c,new Gv(s,o,l),-1),2==(2&o)&&(c.staticViewQueries=!0)),qv(c,Ae(),o)}function Fg(s,o,l,c){const h=Yt();if(h.firstCreatePass){const m=Fn();UE(h,new Gv(o,l,c),m.index),function BT(s,o){const l=s.contentQueries||(s.contentQueries=[]);o!==(l.length?l[l.length-1]:-1)&&l.push(s.queries.length-1,o)}(h,s),2==(2&l)&&(h.staticContentQueries=!0)}qv(h,Ae(),l)}function zv(){return function VT(s,o){return s[19].queries[o].queryList}(Ae(),Ac())}function qv(s,o,l){const c=new kg(4==(4&l));Ym(s,o,c,c.destroy),null===o[19]&&(o[19]=new sp),o[19].queries.push(new Bs(c))}function UE(s,o,l){null===s.queries&&(s.queries=new xu),s.queries.track(new Ng(o,l))}function jE(s,o){return s.queries.getByIndex(o)}function qg(...s){}const ec=new En("Application Initializer");let yo=(()=>{class s{constructor(l){this.appInits=l,this.resolve=qg,this.reject=qg,this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,h)=>{this.resolve=c,this.reject=h})}runInitializers(){if(this.initialized)return;const l=[],c=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const m=this.appInits[h]();if(Vd(m))l.push(m);else if($y(m)){const v=new Promise((E,D)=>{m.subscribe({complete:E,error:D})});l.push(v)}}Promise.all(l).then(()=>{c()}).catch(h=>{this.reject(h)}),0===l.length&&c(),this.initialized=!0}}return s.\u0275fac=function(l){return new(l||s)(Bn(ec,8))},s.\u0275prov=nt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const nb=new En("AppId",{providedIn:"root",factory:function nD(){return`${ib()}${ib()}${ib()}`}});function ib(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Kg=new En("Platform Initializer"),rb=new En("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),iD=new En("appBootstrapListener"),sb=new En("AnimationModuleType"),Yg=new En("LocaleId",{providedIn:"root",factory:()=>C(Yg,Je.Optional|Je.SkipSelf)||function Zg(){return typeof $localize<"u"&&$localize.locale||Ki}()}),ob=new En("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"}),oD=(()=>Promise.resolve(0))();function oa(s){typeof Zone>"u"?oD.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class us{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:l=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new cs(!1),this.onMicrotaskEmpty=new cs(!1),this.onStable=new cs(!1),this.onError=new cs(!1),typeof Zone>"u")throw new ke(908,!1);Zone.assertZonePatched();const h=this;if(h._nesting=0,h._outer=h._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const m=Zone.AsyncStackTaggingZoneSpec;h._inner=h._inner.fork(new m("Angular"))}Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!c&&l,h.shouldCoalesceRunChangeDetection=c,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function dh(){let s=hn.requestAnimationFrame,o=hn.cancelAnimationFrame;if(typeof Zone<"u"&&s&&o){const l=s[Zone.__symbol__("OriginalDelegate")];l&&(s=l);const c=o[Zone.__symbol__("OriginalDelegate")];c&&(o=c)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function aD(s){const o=()=>{!function hh(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(hn,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,aa(s),s.isCheckStableRunning=!0,db(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),aa(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(l,c,h,m,v,E)=>{try{return hb(s),l.invokeTask(h,m,v,E)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||s.shouldCoalesceRunChangeDetection)&&o(),lD(s)}},onInvoke:(l,c,h,m,v,E,D)=>{try{return hb(s),l.invoke(h,m,v,E,D)}finally{s.shouldCoalesceRunChangeDetection&&o(),lD(s)}},onHasTask:(l,c,h,m)=>{l.hasTask(h,m),c===h&&("microTask"==m.change?(s._hasPendingMicrotasks=m.microTask,aa(s),db(s)):"macroTask"==m.change&&(s.hasPendingMacrotasks=m.macroTask))},onHandleError:(l,c,h,m)=>(l.handleError(h,m),s.runOutsideAngular(()=>s.onError.emit(m)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!us.isInAngularZone())throw new ke(909,!1)}static assertNotInAngularZone(){if(us.isInAngularZone())throw new ke(909,!1)}run(o,l,c){return this._inner.run(o,l,c)}runTask(o,l,c,h){const m=this._inner,v=m.scheduleEventTask("NgZoneEvent: "+h,o,Pu,qg,qg);try{return m.runTask(v,l,c)}finally{m.cancelTask(v)}}runGuarded(o,l,c){return this._inner.runGuarded(o,l,c)}runOutsideAngular(o){return this._outer.run(o)}}const Pu={};function db(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function aa(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function hb(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function lD(s){s._nesting--,db(s)}class eS{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new cs,this.onMicrotaskEmpty=new cs,this.onStable=new cs,this.onError=new cs}run(o,l,c){return o.apply(l,c)}runGuarded(o,l,c){return o.apply(l,c)}runOutsideAngular(o){return o()}runTask(o,l,c,h){return o.apply(l,c)}}const cD=new En(""),uD=new En("");let Xg,Qg=(()=>{class s{constructor(l,c,h){this._ngZone=l,this.registry=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Xg||(function tS(s){Xg=s}(h),h.addToWindow(c)),this._watchAngularEvents(),l.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{us.assertNotInAngularZone(),oa(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())oa(()=>{for(;0!==this._callbacks.length;){let l=this._callbacks.pop();clearTimeout(l.timeoutId),l.doneCb(this._didWork)}this._didWork=!1});else{let l=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(l)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(l=>({source:l.source,creationLocation:l.creationLocation,data:l.data})):[]}addCallback(l,c,h){let m=-1;c&&c>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==m),l(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:l,timeoutId:m,updateCb:h})}whenStable(l,c,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(l,c,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(l){this.registry.registerApplication(l,this)}unregisterApplication(l){this.registry.unregisterApplication(l)}findProviders(l,c,h){return[]}}return s.\u0275fac=function(l){return new(l||s)(Bn(us),Bn(fb),Bn(uD))},s.\u0275prov=nt({token:s,factory:s.\u0275fac}),s})(),fb=(()=>{class s{constructor(){this._applications=new Map}registerApplication(l,c){this._applications.set(l,c)}unregisterApplication(l){this._applications.delete(l)}unregisterAllApplications(){this._applications.clear()}getTestability(l){return this._applications.get(l)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(l,c=!0){return Xg?.findTestabilityInTree(this,l,c)??null}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=nt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})(),tc=null;const pb=new En("AllowMultipleToken"),Ja=new En("PlatformDestroyListeners");function hD(s,o,l=[]){const c=`Platform: ${o}`,h=new En(c);return(m=[])=>{let v=e_();if(!v||v.injector.get(pb,!1)){const E=[...l,...m,{provide:h,useValue:!0}];s?s(E):function sS(s){if(tc&&!tc.get(pb,!1))throw new ke(400,!1);tc=s;const o=s.get(pD);(function Jg(s){const o=s.get(Kg,null);o&&o.forEach(l=>l())})(s)}(function fD(s=[],o){return jl.create({name:o,providers:[{provide:q_,useValue:"platform"},{provide:Ja,useValue:new Set([()=>tc=null])},...s]})}(E,c))}return function aS(s){const o=e_();if(!o)throw new ke(401,!1);return o}()}}function e_(){return tc?.get(pD)??null}let pD=(()=>{class s{constructor(l){this._injector=l,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(l,c){const h=function mD(s,o){let l;return l="noop"===s?new eS:("zone.js"===s?void 0:s)||new us(o),l}(c?.ngZone,function cp(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!s||!s.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!s||!s.ngZoneRunCoalescing)||!1}}(c)),m=[{provide:us,useValue:h}];return h.run(()=>{const v=jl.create({providers:m,parent:this.injector,name:l.moduleType.name}),E=l.create(v),D=E.injector.get(Xc,null);if(!D)throw new ke(402,!1);return h.runOutsideAngular(()=>{const S=h.onError.subscribe({next:R=>{D.handleError(R)}});E.onDestroy(()=>{nc(this._modules,E),S.unsubscribe()})}),function mb(s,o,l){try{const c=l();return Vd(c)?c.catch(h=>{throw o.runOutsideAngular(()=>s.handleError(h)),h}):c}catch(c){throw o.runOutsideAngular(()=>s.handleError(c)),c}}(D,h,()=>{const S=E.injector.get(yo);return S.runInitializers(),S.donePromise.then(()=>(function qd(s){Ne(s,"Expected localeId to be defined"),"string"==typeof s&&(zd=s.toLowerCase().replace(/_/g,"-"))}(E.injector.get(Yg,Ki)||Ki),this._moduleDoBootstrap(E),E))})})}bootstrapModule(l,c=[]){const h=t_({},c);return function dD(s,o,l){const c=new xv(l);return Promise.resolve(c)}(0,0,l).then(m=>this.bootstrapModuleFactory(m,h))}_moduleDoBootstrap(l){const c=l.injector.get(fh);if(l._bootstrapComponents.length>0)l._bootstrapComponents.forEach(h=>c.bootstrap(h));else{if(!l.instance.ngDoBootstrap)throw new ke(403,!1);l.instance.ngDoBootstrap(c)}this._modules.push(l)}onDestroy(l){this._destroyListeners.push(l)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ke(404,!1);this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c());const l=this._injector.get(Ja,null);l&&(l.forEach(c=>c()),l.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(l){return new(l||s)(Bn(jl))},s.\u0275prov=nt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function t_(s,o){return Array.isArray(o)?o.reduce(t_,s):{...s,...o}}let fh=(()=>{class s{constructor(l,c,h){this._zone=l,this._injector=c,this._exceptionHandler=h,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const m=new P.y(E=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{E.next(this._stable),E.complete()})}),v=new P.y(E=>{let D;this._zone.runOutsideAngular(()=>{D=this._zone.onStable.subscribe(()=>{us.assertNotInAngularZone(),oa(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,E.next(!0))})})});const S=this._zone.onUnstable.subscribe(()=>{us.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{E.next(!1)}))});return()=>{D.unsubscribe(),S.unsubscribe()}});this.isStable=(0,ae.T)(m,v.pipe((0,re.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(l,c){const h=l instanceof _f;if(!this._injector.get(yo).done)throw!h&&function rn(s){const o=Q(s)||qe(s)||wt(s);return null!==o&&o.standalone}(l),new ke(405,false);let v;v=h?l:this._injector.get(yf).resolveComponentFactory(l),this.componentTypes.push(v.componentType);const E=function iS(s){return s.isBoundToModule}(v)?void 0:this._injector.get(Qd),S=v.create(jl.NULL,[],c||v.selector,E),R=S.location.nativeElement,F=S.injector.get(cD,null);return F?.registerApplication(R),S.onDestroy(()=>{this.detachView(S.hostView),nc(this.components,S),F?.unregisterApplication(R)}),this._loadComponent(S),S}tick(){if(this._runningTick)throw new ke(101,!1);try{this._runningTick=!0;for(let l of this._views)l.detectChanges()}catch(l){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(l))}finally{this._runningTick=!1}}attachView(l){const c=l;this._views.push(c),c.attachToAppRef(this)}detachView(l){const c=l;nc(this._views,c),c.detachFromAppRef()}_loadComponent(l){this.attachView(l.hostView),this.tick(),this.components.push(l),this._injector.get(iD,[]).concat(this._bootstrapListeners).forEach(h=>h(l))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(l=>l()),this._views.slice().forEach(l=>l.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(l){return this._destroyListeners.push(l),()=>nc(this._destroyListeners,l)}destroy(){if(this._destroyed)throw new ke(406,!1);const l=this._injector;l.destroy&&!l.destroyed&&l.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return s.\u0275fac=function(l){return new(l||s)(Bn(us),Bn(mf),Bn(Xc))},s.\u0275prov=nt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function nc(s,o){const l=s.indexOf(o);l>-1&&s.splice(l,1)}let n_=!0,_b=!1;function lS(){return _b=!0,n_}function gD(){if(_b)throw new Error("Cannot enable prod mode after platform setup.");n_=!1}let vD=(()=>{class s{}return s.__NG_ELEMENT_ID__=uS,s})();function uS(s){return function bD(s,o,l){if(Do(s)&&!l){const c=Xt(s.index,o);return new ja(c,c)}return 47&s.type?new ja(o[16],o):null}(Fn(),Ae(),16==(16&s))}class SD{constructor(){}supports(o){return Wl(o)}create(o){return new fS(o)}}const AD=(s,o)=>o;class fS{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||AD}forEachItem(o){let l;for(l=this._itHead;null!==l;l=l._next)o(l)}forEachOperation(o){let l=this._itHead,c=this._removalsHead,h=0,m=null;for(;l||c;){const v=!c||l&&l.currentIndex<pp(c,h,m)?l:c,E=pp(v,h,m),D=v.currentIndex;if(v===c)h--,c=c._nextRemoved;else if(l=l._next,null==v.previousIndex)h++;else{m||(m=[]);const S=E-h,R=D-h;if(S!=R){for(let q=0;q<S;q++){const ee=q<m.length?m[q]:m[q]=0,we=ee+q;R<=we&&we<S&&(m[q]=ee+1)}m[v.previousIndex]=R-S}}E!==D&&o(v,E,D)}}forEachPreviousItem(o){let l;for(l=this._previousItHead;null!==l;l=l._nextPrevious)o(l)}forEachAddedItem(o){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)o(l)}forEachMovedItem(o){let l;for(l=this._movesHead;null!==l;l=l._nextMoved)o(l)}forEachRemovedItem(o){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)o(l)}forEachIdentityChange(o){let l;for(l=this._identityChangesHead;null!==l;l=l._nextIdentityChange)o(l)}diff(o){if(null==o&&(o=[]),!Wl(o))throw new ke(900,!1);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let h,m,v,l=this._itHead,c=!1;if(Array.isArray(o)){this.length=o.length;for(let E=0;E<this.length;E++)m=o[E],v=this._trackByFn(E,m),null!==l&&Object.is(l.trackById,v)?(c&&(l=this._verifyReinsertion(l,m,v,E)),Object.is(l.item,m)||this._addIdentityChange(l,m)):(l=this._mismatch(l,m,v,E),c=!0),l=l._next}else h=0,function ou(s,o){if(Array.isArray(s))for(let l=0;l<s.length;l++)o(s[l]);else{const l=s[ho()]();let c;for(;!(c=l.next()).done;)o(c.value)}}(o,E=>{v=this._trackByFn(h,E),null!==l&&Object.is(l.trackById,v)?(c&&(l=this._verifyReinsertion(l,E,v,h)),Object.is(l.item,E)||this._addIdentityChange(l,E)):(l=this._mismatch(l,E,v,h),c=!0),l=l._next,h++}),this.length=h;return this._truncate(l),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,l,c,h){let m;return null===o?m=this._itTail:(m=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(o.item,l)||this._addIdentityChange(o,l),this._reinsertAfter(o,m,h)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(c,h))?(Object.is(o.item,l)||this._addIdentityChange(o,l),this._moveAfter(o,m,h)):o=this._addAfter(new pS(l,c),m,h),o}_verifyReinsertion(o,l,c,h){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==m?o=this._reinsertAfter(m,o._prev,h):o.currentIndex!=h&&(o.currentIndex=h,this._addToMoves(o,h)),o}_truncate(o){for(;null!==o;){const l=o._next;this._addToRemovals(this._unlink(o)),o=l}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,l,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const h=o._prevRemoved,m=o._nextRemoved;return null===h?this._removalsHead=m:h._nextRemoved=m,null===m?this._removalsTail=h:m._prevRemoved=h,this._insertAfter(o,l,c),this._addToMoves(o,c),o}_moveAfter(o,l,c){return this._unlink(o),this._insertAfter(o,l,c),this._addToMoves(o,c),o}_addAfter(o,l,c){return this._insertAfter(o,l,c),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,l,c){const h=null===l?this._itHead:l._next;return o._next=h,o._prev=l,null===h?this._itTail=o:h._prev=o,null===l?this._itHead=o:l._next=o,null===this._linkedRecords&&(this._linkedRecords=new bb),this._linkedRecords.put(o),o.currentIndex=c,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const l=o._prev,c=o._next;return null===l?this._itHead=c:l._next=c,null===c?this._itTail=l:c._prev=l,o}_addToMoves(o,l){return o.previousIndex===l||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new bb),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,l){return o.item=l,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class pS{constructor(o,l){this.item=o,this.trackById=l,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class mS{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,l){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===l||l<=c.currentIndex)&&Object.is(c.trackById,o))return c;return null}remove(o){const l=o._prevDup,c=o._nextDup;return null===l?this._head=c:l._nextDup=c,null===c?this._tail=l:c._prevDup=l,null===this._head}}class bb{constructor(){this.map=new Map}put(o){const l=o.trackById;let c=this.map.get(l);c||(c=new mS,this.map.set(l,c)),c.add(o)}get(o,l){const h=this.map.get(o);return h?h.get(o,l):null}remove(o){const l=o.trackById;return this.map.get(l).remove(o)&&this.map.delete(l),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function pp(s,o,l){const c=s.previousIndex;if(null===c)return c;let h=0;return l&&c<l.length&&(h=l[c]),c+o+h}class mh{constructor(){}supports(o){return o instanceof Map||Ff(o)}create(){return new wb}}class wb{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let l;for(l=this._mapHead;null!==l;l=l._next)o(l)}forEachPreviousItem(o){let l;for(l=this._previousMapHead;null!==l;l=l._nextPrevious)o(l)}forEachChangedItem(o){let l;for(l=this._changesHead;null!==l;l=l._nextChanged)o(l)}forEachAddedItem(o){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)o(l)}forEachRemovedItem(o){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)o(l)}diff(o){if(o){if(!(o instanceof Map||Ff(o)))throw new ke(900,!1)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let l=this._mapHead;if(this._appendAfter=null,this._forEach(o,(c,h)=>{if(l&&l.key===h)this._maybeAddToChanges(l,c),this._appendAfter=l,l=l._next;else{const m=this._getOrCreateRecordForKey(h,c);l=this._insertBeforeOrAppend(l,m)}}),l){l._prev&&(l._prev._next=null),this._removalsHead=l;for(let c=l;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,l){if(o){const c=o._prev;return l._next=o,l._prev=c,o._prev=l,c&&(c._next=l),o===this._mapHead&&(this._mapHead=l),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=l,l._prev=this._appendAfter):this._mapHead=l,this._appendAfter=l,null}_getOrCreateRecordForKey(o,l){if(this._records.has(o)){const h=this._records.get(o);this._maybeAddToChanges(h,l);const m=h._prev,v=h._next;return m&&(m._next=v),v&&(v._prev=m),h._next=null,h._prev=null,h}const c=new MD(o);return this._records.set(o,c),c.currentValue=l,this._addToAdditions(c),c}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,l){Object.is(l,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=l,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,l){o instanceof Map?o.forEach(l):Object.keys(o).forEach(c=>l(o[c],c))}}class MD{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function xD(){return new Eb([new SD])}let Eb=(()=>{class s{constructor(l){this.factories=l}static create(l,c){if(null!=c){const h=c.factories.slice();l=l.concat(h)}return new s(l)}static extend(l){return{provide:s,useFactory:c=>s.create(l,c||xD()),deps:[[s,new Ye,new it]]}}find(l){const c=this.factories.find(h=>h.supports(l));if(null!=c)return c;throw new ke(901,!1)}}return s.\u0275prov=nt({token:s,providedIn:"root",factory:xD}),s})();function kD(){return new mp([new mh])}let mp=(()=>{class s{constructor(l){this.factories=l}static create(l,c){if(c){const h=c.factories.slice();l=l.concat(h)}return new s(l)}static extend(l){return{provide:s,useFactory:c=>s.create(l,c||kD()),deps:[[s,new Ye,new it]]}}find(l){const c=this.factories.find(h=>h.supports(l));if(c)return c;throw new ke(901,!1)}}return s.\u0275prov=nt({token:s,providedIn:"root",factory:kD}),s})();const gh=hD(null,"core",[]);let Db=(()=>{class s{constructor(l){}}return s.\u0275fac=function(l){return new(l||s)(Bn(fh))},s.\u0275mod=Wt({type:s}),s.\u0275inj=bt({}),s})();function l_(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}},3942:(_t,Me,N)=>{N.d(Me,{Z:()=>ke});var d=N(2090),te=N(4859),P=N(9681),ae=N(1877);class re{constructor(pe,me){this._delegate=pe,this.firebase=me,(0,P._addComponent)(pe,new te.wA("app-compat",()=>this,"PUBLIC")),this.container=pe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(pe){this._delegate.automaticDataCollectionEnabled=pe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(pe=>{this._delegate.checkDestroyed(),pe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,P.deleteApp)(this._delegate)))}_getService(pe,me=P._DEFAULT_ENTRY_NAME){var Qe;this._delegate.checkDestroyed();const rt=this._delegate.container.getProvider(pe);return!rt.isInitialized()&&"EXPLICIT"===(null===(Qe=rt.getComponent())||void 0===Qe?void 0:Qe.instantiationMode)&&rt.initialize(),rt.getImmediate({identifier:me})}_removeServiceInstance(pe,me=P._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(pe).clearInstance(me)}_addComponent(pe){(0,P._addComponent)(this._delegate,pe)}_addOrOverwriteComponent(pe){(0,P._addOrOverwriteComponent)(this._delegate,pe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ne=new d.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),$=function de(){const je=function ue(je){const pe={},me={__esModule:!0,initializeApp:function De(Ge,H={}){const ge=P.initializeApp(Ge,H);if((0,d.r3)(pe,ge.name))return pe[ge.name];const Be=new je(ge,me);return pe[ge.name]=Be,Be},app:rt,registerVersion:P.registerVersion,setLogLevel:P.setLogLevel,onLog:P.onLog,apps:null,SDK_VERSION:P.SDK_VERSION,INTERNAL:{registerComponent:function Ce(Ge){const H=Ge.name,ge=H.replace("-compat","");if(P._registerComponent(Ge)&&"PUBLIC"===Ge.type){const Be=(tt=rt())=>{if("function"!=typeof tt[ge])throw ne.create("invalid-app-argument",{appName:H});return tt[ge]()};void 0!==Ge.serviceProps&&(0,d.ZB)(Be,Ge.serviceProps),me[ge]=Be,je.prototype[ge]=function(...tt){return this._getService.bind(this,H).apply(this,Ge.multipleInstances?tt:[])}}return"PUBLIC"===Ge.type?me[ge]:null},removeApp:function Qe(Ge){delete pe[Ge]},useAsService:function Ve(Ge,H){return"serverAuth"===H?null:H},modularAPIs:P}};function rt(Ge){if(!(0,d.r3)(pe,Ge=Ge||P._DEFAULT_ENTRY_NAME))throw ne.create("no-app",{appName:Ge});return pe[Ge]}return me.default=me,Object.defineProperty(me,"apps",{get:function _e(){return Object.keys(pe).map(Ge=>pe[Ge])}}),rt.App=je,me}(re);return je.INTERNAL=Object.assign(Object.assign({},je.INTERNAL),{createFirebaseNamespace:de,extendNamespace:function pe(me){(0,d.ZB)(je,me)},createSubscribe:d.ne,ErrorFactory:d.LL,deepExtend:d.ZB}),je}(),G=new ae.Yd("@firebase/app-compat");if((0,d.jU)()&&void 0!==self.firebase){G.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const je=self.firebase.SDK_VERSION;je&&je.indexOf("LITE")>=0&&G.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const ke=$;!function Se(je){(0,P.registerVersion)("@firebase/app-compat","0.2.3",je)}()},9681:(_t,Me,N)=>{N.r(Me),N.d(Me,{FirebaseError:()=>ae.ZR,SDK_VERSION:()=>Qi,_DEFAULT_ENTRY_NAME:()=>Ne,_addComponent:()=>mn,_addOrOverwriteComponent:()=>nt,_apps:()=>ht,_clearComponents:()=>Kn,_components:()=>Ft,_getProvider:()=>bt,_registerComponent:()=>Jt,_removeServiceInstance:()=>Rt,deleteApp:()=>ha,getApp:()=>fr,getApps:()=>pr,initializeApp:()=>br,onLog:()=>ys,registerVersion:()=>Fi,setLogLevel:()=>ii});var d=N(5861),te=N(4859),P=N(1877),ae=N(2090),re=N(8766);class he{constructor(Te){this.container=Te}getPlatformInfoString(){return this.container.getProviders().map(st=>{if(function ne(lt){return"VERSION"===lt.getComponent()?.type}(st)){const Lt=st.getImmediate();return`${Lt.library}/${Lt.version}`}return null}).filter(st=>st).join(" ")}}const ue="@firebase/app",$=new P.Yd("@firebase/app"),Ne="[DEFAULT]",Ie={[ue]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ht=new Map,Ft=new Map;function mn(lt,Te){try{lt.container.addComponent(Te)}catch(st){$.debug(`Component ${Te.name} failed to register with FirebaseApp ${lt.name}`,st)}}function nt(lt,Te){lt.container.addOrOverwriteComponent(Te)}function Jt(lt){const Te=lt.name;if(Ft.has(Te))return $.debug(`There were multiple attempts to register component ${Te}.`),!1;Ft.set(Te,lt);for(const st of ht.values())mn(st,lt);return!0}function bt(lt,Te){const st=lt.container.getProvider("heartbeat").getImmediate({optional:!0});return st&&st.triggerHeartbeat(),lt.container.getProvider(Te)}function Rt(lt,Te,st=Ne){bt(lt,Te).clearInstance(st)}function Kn(){Ft.clear()}const Mn=new ae.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Pn{constructor(Te,st,Lt){this._isDeleted=!1,this._options=Object.assign({},Te),this._config=Object.assign({},st),this._name=st.name,this._automaticDataCollectionEnabled=st.automaticDataCollectionEnabled,this._container=Lt,this.container.addComponent(new te.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Te){this.checkDestroyed(),this._automaticDataCollectionEnabled=Te}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Te){this._isDeleted=Te}checkDestroyed(){if(this.isDeleted)throw Mn.create("app-deleted",{appName:this._name})}}const Qi="9.17.1";function br(lt,Te={}){let st=lt;"object"!=typeof Te&&(Te={name:Te});const Lt=Object.assign({name:Ne,automaticDataCollectionEnabled:!1},Te),Ht=Lt.name;if("string"!=typeof Ht||!Ht)throw Mn.create("bad-app-name",{appName:String(Ht)});if(st||(st=(0,ae.aH)()),!st)throw Mn.create("no-options");const Wt=ht.get(Ht);if(Wt){if((0,ae.vZ)(st,Wt.options)&&(0,ae.vZ)(Lt,Wt.config))return Wt;throw Mn.create("duplicate-app",{appName:Ht})}const U=new te.H0(Ht);for(const W of Ft.values())U.addComponent(W);const B=new Pn(st,Lt,U);return ht.set(Ht,B),B}function fr(lt=Ne){const Te=ht.get(lt);if(!Te&&lt===Ne)return br();if(!Te)throw Mn.create("no-app",{appName:lt});return Te}function pr(){return Array.from(ht.values())}function ha(lt){return Je.apply(this,arguments)}function Je(){return(Je=(0,d.Z)(function*(lt){const Te=lt.name;ht.has(Te)&&(ht.delete(Te),yield Promise.all(lt.container.getProviders().map(st=>st.delete())),lt.isDeleted=!0)})).apply(this,arguments)}function Fi(lt,Te,st){var Lt;let Ht=null!==(Lt=Ie[lt])&&void 0!==Lt?Lt:lt;st&&(Ht+=`-${st}`);const Wt=Ht.match(/\s|\//),U=Te.match(/\s|\//);if(Wt||U){const B=[`Unable to register library "${Ht}" with version "${Te}":`];return Wt&&B.push(`library name "${Ht}" contains illegal characters (whitespace or "/")`),Wt&&U&&B.push("and"),U&&B.push(`version name "${Te}" contains illegal characters (whitespace or "/")`),void $.warn(B.join(" "))}Jt(new te.wA(`${Ht}-version`,()=>({library:Ht,version:Te}),"VERSION"))}function ys(lt,Te){if(null!==lt&&"function"!=typeof lt)throw Mn.create("invalid-log-argument");(0,P.Am)(lt,Te)}function ii(lt){(0,P.Ub)(lt)}const jn="firebase-heartbeat-store";let Zn=null;function bn(){return Zn||(Zn=(0,re.X3)("firebase-heartbeat-database",1,{upgrade:(lt,Te)=>{0===Te&&lt.createObjectStore(jn)}}).catch(lt=>{throw Mn.create("idb-open",{originalErrorMessage:lt.message})})),Zn}function ft(){return(ft=(0,d.Z)(function*(lt){try{return(yield bn()).transaction(jn).objectStore(jn).get(Yn(lt))}catch(Te){if(Te instanceof ae.ZR)$.warn(Te.message);else{const st=Mn.create("idb-get",{originalErrorMessage:Te?.message});$.warn(st.message)}}})).apply(this,arguments)}function hn(lt,Te){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,d.Z)(function*(lt,Te){try{const Lt=(yield bn()).transaction(jn,"readwrite");return yield Lt.objectStore(jn).put(Te,Yn(lt)),Lt.done}catch(st){if(st instanceof ae.ZR)$.warn(st.message);else{const Lt=Mn.create("idb-set",{originalErrorMessage:st?.message});$.warn(Lt.message)}}})).apply(this,arguments)}function Yn(lt){return`${lt.name}!${lt.options.appId}`}class vs{constructor(Te){this.container=Te,this._heartbeatsCache=null;const st=this.container.getProvider("app").getImmediate();this._storage=new ln(st),this._heartbeatsCachePromise=this._storage.read().then(Lt=>(this._heartbeatsCache=Lt,Lt))}triggerHeartbeat(){var Te=this;return(0,d.Z)(function*(){const Lt=Te.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Ht=an();if(null===Te._heartbeatsCache&&(Te._heartbeatsCache=yield Te._heartbeatsCachePromise),Te._heartbeatsCache.lastSentHeartbeatDate!==Ht&&!Te._heartbeatsCache.heartbeats.some(Wt=>Wt.date===Ht))return Te._heartbeatsCache.heartbeats.push({date:Ht,agent:Lt}),Te._heartbeatsCache.heartbeats=Te._heartbeatsCache.heartbeats.filter(Wt=>{const U=new Date(Wt.date).valueOf();return Date.now()-U<=2592e6}),Te._storage.overwrite(Te._heartbeatsCache)})()}getHeartbeatsHeader(){var Te=this;return(0,d.Z)(function*(){if(null===Te._heartbeatsCache&&(yield Te._heartbeatsCachePromise),null===Te._heartbeatsCache||0===Te._heartbeatsCache.heartbeats.length)return"";const st=an(),{heartbeatsToSend:Lt,unsentEntries:Ht}=function Rr(lt,Te=1024){const st=[];let Lt=lt.slice();for(const Ht of lt){const Wt=st.find(U=>U.agent===Ht.agent);if(Wt){if(Wt.dates.push(Ht.date),ri(st)>Te){Wt.dates.pop();break}}else if(st.push({agent:Ht.agent,dates:[Ht.date]}),ri(st)>Te){st.pop();break}Lt=Lt.slice(1)}return{heartbeatsToSend:st,unsentEntries:Lt}}(Te._heartbeatsCache.heartbeats),Wt=(0,ae.L)(JSON.stringify({version:2,heartbeats:Lt}));return Te._heartbeatsCache.lastSentHeartbeatDate=st,Ht.length>0?(Te._heartbeatsCache.heartbeats=Ht,yield Te._storage.overwrite(Te._heartbeatsCache)):(Te._heartbeatsCache.heartbeats=[],Te._storage.overwrite(Te._heartbeatsCache)),Wt})()}}function an(){return(new Date).toISOString().substring(0,10)}class ln{constructor(Te){this.app=Te,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,d.Z)(function*(){return!!(0,ae.hl)()&&(0,ae.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Te=this;return(0,d.Z)(function*(){return(yield Te._canUseIndexedDBPromise)&&(yield function Dt(lt){return ft.apply(this,arguments)}(Te.app))||{heartbeats:[]}})()}overwrite(Te){var st=this;return(0,d.Z)(function*(){var Lt;if(yield st._canUseIndexedDBPromise){const Wt=yield st.read();return hn(st.app,{lastSentHeartbeatDate:null!==(Lt=Te.lastSentHeartbeatDate)&&void 0!==Lt?Lt:Wt.lastSentHeartbeatDate,heartbeats:Te.heartbeats})}})()}add(Te){var st=this;return(0,d.Z)(function*(){var Lt;if(yield st._canUseIndexedDBPromise){const Wt=yield st.read();return hn(st.app,{lastSentHeartbeatDate:null!==(Lt=Te.lastSentHeartbeatDate)&&void 0!==Lt?Lt:Wt.lastSentHeartbeatDate,heartbeats:[...Wt.heartbeats,...Te.heartbeats]})}})()}}function ri(lt){return(0,ae.L)(JSON.stringify({version:2,heartbeats:lt})).length}!function Gi(lt){Jt(new te.wA("platform-logger",Te=>new he(Te),"PRIVATE")),Jt(new te.wA("heartbeat",Te=>new vs(Te),"PRIVATE")),Fi(ue,"0.9.3",lt),Fi(ue,"0.9.3","esm2017"),Fi("fire-js","")}("")},4859:(_t,Me,N)=>{N.d(Me,{H0:()=>ue,wA:()=>P});var d=N(5861),te=N(2090);class P{constructor($,G,X){this.name=$,this.instanceFactory=G,this.type=X,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode($){return this.instantiationMode=$,this}setMultipleInstances($){return this.multipleInstances=$,this}setServiceProps($){return this.serviceProps=$,this}setInstanceCreatedCallback($){return this.onInstanceCreated=$,this}}const ae="[DEFAULT]";class re{constructor($,G){this.name=$,this.container=G,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get($){const G=this.normalizeInstanceIdentifier($);if(!this.instancesDeferred.has(G)){const X=new te.BH;if(this.instancesDeferred.set(G,X),this.isInitialized(G)||this.shouldAutoInitialize())try{const $e=this.getOrInitializeService({instanceIdentifier:G});$e&&X.resolve($e)}catch{}}return this.instancesDeferred.get(G).promise}getImmediate($){var G;const X=this.normalizeInstanceIdentifier($?.identifier),$e=null!==(G=$?.optional)&&void 0!==G&&G;if(!this.isInitialized(X)&&!this.shouldAutoInitialize()){if($e)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:X})}catch(Se){if($e)return null;throw Se}}getComponent(){return this.component}setComponent($){if($.name!==this.name)throw Error(`Mismatching Component ${$.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=$,this.shouldAutoInitialize()){if(function ne(de){return"EAGER"===de.instantiationMode}($))try{this.getOrInitializeService({instanceIdentifier:ae})}catch{}for(const[G,X]of this.instancesDeferred.entries()){const $e=this.normalizeInstanceIdentifier(G);try{const Se=this.getOrInitializeService({instanceIdentifier:$e});X.resolve(Se)}catch{}}}}clearInstance($=ae){this.instancesDeferred.delete($),this.instancesOptions.delete($),this.instances.delete($)}delete(){var $=this;return(0,d.Z)(function*(){const G=Array.from($.instances.values());yield Promise.all([...G.filter(X=>"INTERNAL"in X).map(X=>X.INTERNAL.delete()),...G.filter(X=>"_delete"in X).map(X=>X._delete())])})()}isComponentSet(){return null!=this.component}isInitialized($=ae){return this.instances.has($)}getOptions($=ae){return this.instancesOptions.get($)||{}}initialize($={}){const{options:G={}}=$,X=this.normalizeInstanceIdentifier($.instanceIdentifier);if(this.isInitialized(X))throw Error(`${this.name}(${X}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const $e=this.getOrInitializeService({instanceIdentifier:X,options:G});for(const[Se,ke]of this.instancesDeferred.entries())X===this.normalizeInstanceIdentifier(Se)&&ke.resolve($e);return $e}onInit($,G){var X;const $e=this.normalizeInstanceIdentifier(G),Se=null!==(X=this.onInitCallbacks.get($e))&&void 0!==X?X:new Set;Se.add($),this.onInitCallbacks.set($e,Se);const ke=this.instances.get($e);return ke&&$(ke,$e),()=>{Se.delete($)}}invokeOnInitCallbacks($,G){const X=this.onInitCallbacks.get(G);if(X)for(const $e of X)try{$e($,G)}catch{}}getOrInitializeService({instanceIdentifier:$,options:G={}}){let X=this.instances.get($);if(!X&&this.component&&(X=this.component.instanceFactory(this.container,{instanceIdentifier:(de=$,de===ae?void 0:de),options:G}),this.instances.set($,X),this.instancesOptions.set($,G),this.invokeOnInitCallbacks(X,$),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,$,X)}catch{}var de;return X||null}normalizeInstanceIdentifier($=ae){return this.component?this.component.multipleInstances?$:ae:$}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ue{constructor($){this.name=$,this.providers=new Map}addComponent($){const G=this.getProvider($.name);if(G.isComponentSet())throw new Error(`Component ${$.name} has already been registered with ${this.name}`);G.setComponent($)}addOrOverwriteComponent($){this.getProvider($.name).isComponentSet()&&this.providers.delete($.name),this.addComponent($)}getProvider($){if(this.providers.has($))return this.providers.get($);const G=new re($,this);return this.providers.set($,G),G}getProviders(){return Array.from(this.providers.values())}}},1877:(_t,Me,N)=>{N.d(Me,{Am:()=>de,Ub:()=>ue,Yd:()=>ne,in:()=>te});const d=[];var te=(()=>{return($=te||(te={}))[$.DEBUG=0]="DEBUG",$[$.VERBOSE=1]="VERBOSE",$[$.INFO=2]="INFO",$[$.WARN=3]="WARN",$[$.ERROR=4]="ERROR",$[$.SILENT=5]="SILENT",te;var $})();const P={debug:te.DEBUG,verbose:te.VERBOSE,info:te.INFO,warn:te.WARN,error:te.ERROR,silent:te.SILENT},ae=te.INFO,re={[te.DEBUG]:"log",[te.VERBOSE]:"log",[te.INFO]:"info",[te.WARN]:"warn",[te.ERROR]:"error"},he=($,G,...X)=>{if(G<$.logLevel)return;const $e=(new Date).toISOString(),Se=re[G];if(!Se)throw new Error(`Attempted to log a message with an invalid logType (value: ${G})`);console[Se](`[${$e}]  ${$.name}:`,...X)};class ne{constructor(G){this.name=G,this._logLevel=ae,this._logHandler=he,this._userLogHandler=null,d.push(this)}get logLevel(){return this._logLevel}set logLevel(G){if(!(G in te))throw new TypeError(`Invalid value "${G}" assigned to \`logLevel\``);this._logLevel=G}setLogLevel(G){this._logLevel="string"==typeof G?P[G]:G}get logHandler(){return this._logHandler}set logHandler(G){if("function"!=typeof G)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=G}get userLogHandler(){return this._userLogHandler}set userLogHandler(G){this._userLogHandler=G}debug(...G){this._userLogHandler&&this._userLogHandler(this,te.DEBUG,...G),this._logHandler(this,te.DEBUG,...G)}log(...G){this._userLogHandler&&this._userLogHandler(this,te.VERBOSE,...G),this._logHandler(this,te.VERBOSE,...G)}info(...G){this._userLogHandler&&this._userLogHandler(this,te.INFO,...G),this._logHandler(this,te.INFO,...G)}warn(...G){this._userLogHandler&&this._userLogHandler(this,te.WARN,...G),this._logHandler(this,te.WARN,...G)}error(...G){this._userLogHandler&&this._userLogHandler(this,te.ERROR,...G),this._logHandler(this,te.ERROR,...G)}}function ue($){d.forEach(G=>{G.setLogLevel($)})}function de($,G){for(const X of d){let $e=null;G&&G.level&&($e=P[G.level]),X.userLogHandler=null===$?null:(Se,ke,...je)=>{const pe=je.map(me=>{if(null==me)return null;if("string"==typeof me)return me;if("number"==typeof me||"boolean"==typeof me)return me.toString();if(me instanceof Error)return me.message;try{return JSON.stringify(me)}catch{return null}}).filter(me=>me).join(" ");ke>=($e??Se.logLevel)&&$({level:te[ke].toLowerCase(),message:pe,args:je,type:Se.name})}}}},259:(_t,Me,N)=>{N.d(Me,{C6:()=>d.getApps,Mq:()=>d.getApp});var d=N(9681);(0,d.registerVersion)("firebase","9.17.1","app")},9260:(_t,Me,N)=>{N.d(Me,{Z:()=>d.Z});var d=N(3942);d.Z.registerVersion("firebase","9.17.1","app-compat")},407:(_t,Me,N)=>{N.r(Me);var d=N(5861),te=N(3942),P=N(2090),ae=N(9681),re=N(1877),he=N(655),ne=N(4859);const ke=function $e(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},je=function Se(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},pe=new P.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Qe=new re.Yd("@firebase/auth");function rt(y,...p){Qe.logLevel<=re.in.ERROR&&Qe.error(`Auth (${ae.SDK_VERSION}): ${y}`,...p)}function De(y,...p){throw Ge(y,...p)}function _e(y,...p){return Ge(y,...p)}function Ce(y,p,g){const b=Object.assign(Object.assign({},je()),{[p]:g});return new P.LL("auth","Firebase",b).create(p,{appName:y.name})}function Ve(y,p,g){if(!(p instanceof g))throw g.name!==p.constructor.name&&De(y,"argument-error"),Ce(y,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ge(y,...p){if("string"!=typeof y){const g=p[0],b=[...p.slice(1)];return b[0]&&(b[0].appName=y.name),y._errorFactory.create(g,...b)}return pe.create(y,...p)}function H(y,p,...g){if(!y)throw Ge(p,...g)}function ge(y){const p="INTERNAL ASSERTION FAILED: "+y;throw rt(p),new Error(p)}function Be(y,p){y||ge(p)}const tt=new Map;function vt(y){Be(y instanceof Function,"Expected a class definition");let p=tt.get(y);return p?(Be(p instanceof y,"Instance stored in cache mismatched with class"),p):(p=new y,tt.set(y,p),p)}function fe(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function ve(){return"http:"===Pe()||"https:"===Pe()}function Pe(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class ht{constructor(p,g){this.shortDelay=p,this.longDelay=g,Be(g>p,"Short delay should be less than long delay!"),this.isMobile=(0,P.uI)()||(0,P.b$)()}get(){return function Ne(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(ve()||(0,P.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ft(y,p){Be(y.emulator,"Emulator should always be set here");const{url:g}=y.emulator;return p?`${g}${p.startsWith("/")?p.slice(1):p}`:g}class mn{static initialize(p,g,b){this.fetchImpl=p,g&&(this.headersImpl=g),b&&(this.responseImpl=b)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void ge("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void ge("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void ge("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const nt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Jt=new ht(3e4,6e4);function bt(y,p){return y.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:y.tenantId}):p}function Rt(y,p,g,b){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,d.Z)(function*(y,p,g,b,M={}){return Un(y,M,(0,d.Z)(function*(){let O={},K={};b&&("GET"===p?K=b:O={body:JSON.stringify(b)});const ce=(0,P.xO)(Object.assign({key:y.config.apiKey},K)).slice(1),Ue=yield y._getAdditionalHeaders();return Ue["Content-Type"]="application/json",y.languageCode&&(Ue["X-Firebase-Locale"]=y.languageCode),mn.fetch()(br(y,y.config.apiHost,g,ce),Object.assign({method:p,headers:Ue,referrerPolicy:"no-referrer"},O))}))})).apply(this,arguments)}function Un(y,p,g){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,d.Z)(function*(y,p,g){y._canInitEmulator=!1;const b=Object.assign(Object.assign({},nt),p);try{const M=new fr(y),O=yield Promise.race([g(),M.promise]);M.clearNetworkTimeout();const K=yield O.json();if("needConfirmation"in K)throw pr(y,"account-exists-with-different-credential",K);if(O.ok&&!("errorMessage"in K))return K;{const ce=O.ok?K.errorMessage:K.error.message,[Ue,ot]=ce.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ue)throw pr(y,"credential-already-in-use",K);if("EMAIL_EXISTS"===Ue)throw pr(y,"email-already-in-use",K);if("USER_DISABLED"===Ue)throw pr(y,"user-disabled",K);const xt=b[Ue]||Ue.toLowerCase().replace(/[_\s]+/g,"-");if(ot)throw Ce(y,xt,ot);De(y,xt)}}catch(M){if(M instanceof P.ZR)throw M;De(y,"network-request-failed")}})).apply(this,arguments)}function Pn(y,p,g,b){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,d.Z)(function*(y,p,g,b,M={}){const O=yield Rt(y,p,g,b,M);return"mfaPendingCredential"in O&&De(y,"multi-factor-auth-required",{_serverResponse:O}),O})).apply(this,arguments)}function br(y,p,g,b){const M=`${p}${g}?${b}`;return y.config.emulator?Ft(y.config,M):`${y.config.apiScheme}://${M}`}class fr{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((g,b)=>{this.timer=setTimeout(()=>b(_e(this.auth,"network-request-failed")),Jt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function pr(y,p,g){const b={appName:y.name};g.email&&(b.email=g.email),g.phoneNumber&&(b.phoneNumber=g.phoneNumber);const M=_e(y,p,b);return M.customData._tokenResponse=g,M}function Je(){return(Je=(0,d.Z)(function*(y,p){return Rt(y,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function Fi(y,p){return ys.apply(this,arguments)}function ys(){return(ys=(0,d.Z)(function*(y,p){return Rt(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function ii(y,p){return mr.apply(this,arguments)}function mr(){return(mr=(0,d.Z)(function*(y,p){return Rt(y,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function kr(y){if(y)try{const p=new Date(Number(y));if(!isNaN(p.getTime()))return p.toUTCString()}catch{}}function bn(){return(bn=(0,d.Z)(function*(y,p=!1){const g=(0,P.m9)(y),b=yield g.getIdToken(p),M=ft(b);H(M&&M.exp&&M.auth_time&&M.iat,g.auth,"internal-error");const O="object"==typeof M.firebase?M.firebase:void 0,K=O?.sign_in_provider;return{claims:M,token:b,authTime:kr(Dt(M.auth_time)),issuedAtTime:kr(Dt(M.iat)),expirationTime:kr(Dt(M.exp)),signInProvider:K||null,signInSecondFactor:O?.sign_in_second_factor||null}})).apply(this,arguments)}function Dt(y){return 1e3*Number(y)}function ft(y){const[p,g,b]=y.split(".");if(void 0===p||void 0===g||void 0===b)return rt("JWT malformed, contained fewer than 3 sections"),null;try{const M=(0,P.tV)(g);return M?JSON.parse(M):(rt("Failed to decode base64 JWT payload"),null)}catch(M){return rt("Caught error parsing JWT payload as JSON",M?.toString()),null}}function Ei(y,p){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,d.Z)(function*(y,p,g=!1){if(g)return p;try{return yield p}catch(b){throw b instanceof P.ZR&&Xi(b)&&y.auth.currentUser===y&&(yield y.auth.signOut()),b}})).apply(this,arguments)}function Xi({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}class Bt{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var g;if(p){const b=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),b}{this.errorBackoff=3e4;const M=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,M)}}schedule(p=!1){var g=this;if(!this.isRunning)return;const b=this.getInterval(p);this.timerId=setTimeout((0,d.Z)(function*(){yield g.iteration()}),b)}iteration(){var p=this;return(0,d.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g?.code&&p.schedule(!0))}p.schedule()})()}}class vs{constructor(p,g){this.createdAt=p,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=kr(this.lastLoginAt),this.creationTime=kr(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function an(y){return Rr.apply(this,arguments)}function Rr(){return(Rr=(0,d.Z)(function*(y){var p;const g=y.auth,b=yield y.getIdToken(),M=yield Ei(y,ii(g,{idToken:b}));H(M?.users.length,g,"internal-error");const O=M.users[0];y._notifyReloadListener(O);const K=null!==(p=O.providerUserInfo)&&void 0!==p&&p.length?lt(O.providerUserInfo):[],ce=Gi(y.providerData,K),xt=!!y.isAnonymous&&!(y.email&&O.passwordHash||ce?.length),Tt={uid:O.localId,displayName:O.displayName||null,photoURL:O.photoUrl||null,email:O.email||null,emailVerified:O.emailVerified||!1,phoneNumber:O.phoneNumber||null,tenantId:O.tenantId||null,providerData:ce,metadata:new vs(O.createdAt,O.lastLoginAt),isAnonymous:xt};Object.assign(y,Tt)})).apply(this,arguments)}function ri(){return(ri=(0,d.Z)(function*(y){const p=(0,P.m9)(y);yield an(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function Gi(y,p){return[...y.filter(b=>!p.some(M=>M.providerId===b.providerId)),...p]}function lt(y){return y.map(p=>{var{providerId:g}=p,b=(0,he._T)(p,["providerId"]);return{providerId:g,uid:b.rawId||"",displayName:b.displayName||null,email:b.email||null,phoneNumber:b.phoneNumber||null,photoURL:b.photoUrl||null}})}function st(){return(st=(0,d.Z)(function*(y,p){const g=yield Un(y,{},(0,d.Z)(function*(){const b=(0,P.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:M,apiKey:O}=y.config,K=br(y,M,"/v1/token",`key=${O}`),ce=yield y._getAdditionalHeaders();return ce["Content-Type"]="application/x-www-form-urlencoded",mn.fetch()(K,{method:"POST",headers:ce,body:b})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class Lt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){H(p.idToken,"internal-error"),H(typeof p.idToken<"u","internal-error"),H(typeof p.refreshToken<"u","internal-error");const g="expiresIn"in p&&typeof p.expiresIn<"u"?Number(p.expiresIn):function hn(y){const p=ft(y);return H(p,"internal-error"),H(typeof p.exp<"u","internal-error"),H(typeof p.iat<"u","internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,g)}getToken(p,g=!1){var b=this;return(0,d.Z)(function*(){return H(!b.accessToken||b.refreshToken,p,"user-token-expired"),g||!b.accessToken||b.isExpired?b.refreshToken?(yield b.refresh(p,b.refreshToken),b.accessToken):null:b.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,g){var b=this;return(0,d.Z)(function*(){const{accessToken:M,refreshToken:O,expiresIn:K}=yield function Te(y,p){return st.apply(this,arguments)}(p,g);b.updateTokensAndExpiration(M,O,Number(K))})()}updateTokensAndExpiration(p,g,b){this.refreshToken=g||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*b}static fromJSON(p,g){const{refreshToken:b,accessToken:M,expirationTime:O}=g,K=new Lt;return b&&(H("string"==typeof b,"internal-error",{appName:p}),K.refreshToken=b),M&&(H("string"==typeof M,"internal-error",{appName:p}),K.accessToken=M),O&&(H("number"==typeof O,"internal-error",{appName:p}),K.expirationTime=O),K}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new Lt,this.toJSON())}_performRefresh(){return ge("not implemented")}}function Ht(y,p){H("string"==typeof y||typeof y>"u","internal-error",{appName:p})}class Wt{constructor(p){var{uid:g,auth:b,stsTokenManager:M}=p,O=(0,he._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Bt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=b,this.stsTokenManager=M,this.accessToken=M.accessToken,this.displayName=O.displayName||null,this.email=O.email||null,this.emailVerified=O.emailVerified||!1,this.phoneNumber=O.phoneNumber||null,this.photoURL=O.photoURL||null,this.isAnonymous=O.isAnonymous||!1,this.tenantId=O.tenantId||null,this.providerData=O.providerData?[...O.providerData]:[],this.metadata=new vs(O.createdAt||void 0,O.lastLoginAt||void 0)}getIdToken(p){var g=this;return(0,d.Z)(function*(){const b=yield Ei(g,g.stsTokenManager.getToken(g.auth,p));return H(b,g.auth,"internal-error"),g.accessToken!==b&&(g.accessToken=b,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),b})()}getIdTokenResult(p){return function Zn(y){return bn.apply(this,arguments)}(this,p)}reload(){return function ln(y){return ri.apply(this,arguments)}(this)}_assign(p){this!==p&&(H(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(g=>Object.assign({},g)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){return new Wt(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(p){H(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,g=!1){var b=this;return(0,d.Z)(function*(){let M=!1;p.idToken&&p.idToken!==b.stsTokenManager.accessToken&&(b.stsTokenManager.updateFromServerResponse(p),M=!0),g&&(yield an(b)),yield b.auth._persistUserIfCurrent(b),M&&b.auth._notifyListenersIfCurrent(b)})()}delete(){var p=this;return(0,d.Z)(function*(){const g=yield p.getIdToken();return yield Ei(p,function ha(y,p){return Je.apply(this,arguments)}(p.auth,{idToken:g})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,g){var b,M,O,K,ce,Ue,ot,xt;const Tt=null!==(b=g.displayName)&&void 0!==b?b:void 0,Ai=null!==(M=g.email)&&void 0!==M?M:void 0,Mi=null!==(O=g.phoneNumber)&&void 0!==O?O:void 0,jo=null!==(K=g.photoURL)&&void 0!==K?K:void 0,B_=null!==(ce=g.tenantId)&&void 0!==ce?ce:void 0,bm=null!==(Ue=g._redirectEventId)&&void 0!==Ue?Ue:void 0,H_=null!==(ot=g.createdAt)&&void 0!==ot?ot:void 0,U_=null!==(xt=g.lastLoginAt)&&void 0!==xt?xt:void 0,{uid:wm,emailVerified:j_,isAnonymous:Em,providerData:Dm,stsTokenManager:G_}=g;H(wm&&G_,p,"internal-error");const Cw=Lt.fromJSON(this.name,G_);H("string"==typeof wm,p,"internal-error"),Ht(Tt,p.name),Ht(Ai,p.name),H("boolean"==typeof j_,p,"internal-error"),H("boolean"==typeof Em,p,"internal-error"),Ht(Mi,p.name),Ht(jo,p.name),Ht(B_,p.name),Ht(bm,p.name),Ht(H_,p.name),Ht(U_,p.name);const Cm=new Wt({uid:wm,auth:p,email:Ai,emailVerified:j_,displayName:Tt,isAnonymous:Em,photoURL:jo,phoneNumber:Mi,tenantId:B_,stsTokenManager:Cw,createdAt:H_,lastLoginAt:U_});return Dm&&Array.isArray(Dm)&&(Cm.providerData=Dm.map(cf=>Object.assign({},cf))),bm&&(Cm._redirectEventId=bm),Cm}static _fromIdTokenResponse(p,g,b=!1){return(0,d.Z)(function*(){const M=new Lt;M.updateFromServerResponse(g);const O=new Wt({uid:g.localId,auth:p,stsTokenManager:M,isAnonymous:b});return yield an(O),O})()}}const B=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,d.Z)(function*(){return!0})()}_set(g,b){var M=this;return(0,d.Z)(function*(){M.storage[g]=b})()}_get(g){var b=this;return(0,d.Z)(function*(){const M=b.storage[g];return void 0===M?null:M})()}_remove(g){var b=this;return(0,d.Z)(function*(){delete b.storage[g]})()}_addListener(g,b){}_removeListener(g,b){}}return y.type="NONE",y})();function W(y,p,g){return`firebase:${y}:${p}:${g}`}class Ee{constructor(p,g,b){this.persistence=p,this.auth=g,this.userKey=b;const{config:M,name:O}=this.auth;this.fullUserKey=W(this.userKey,M.apiKey,O),this.fullPersistenceKey=W("persistence",M.apiKey,O),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,d.Z)(function*(){const g=yield p.persistence._get(p.fullUserKey);return g?Wt._fromJSON(p.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var g=this;return(0,d.Z)(function*(){if(g.persistence===p)return;const b=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=p,b?g.setCurrentUser(b):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,g,b="authUser"){return(0,d.Z)(function*(){if(!g.length)return new Ee(vt(B),p,b);const M=(yield Promise.all(g.map(function(){var ot=(0,d.Z)(function*(xt){if(yield xt._isAvailable())return xt});return function(xt){return ot.apply(this,arguments)}}()))).filter(ot=>ot);let O=M[0]||vt(B);const K=W(b,p.config.apiKey,p.name);let ce=null;for(const ot of g)try{const xt=yield ot._get(K);if(xt){const Tt=Wt._fromJSON(p,xt);ot!==O&&(ce=Tt),O=ot;break}}catch{}const Ue=M.filter(ot=>ot._shouldAllowMigration);return O._shouldAllowMigration&&Ue.length?(O=Ue[0],ce&&(yield O._set(K,ce.toJSON())),yield Promise.all(g.map(function(){var ot=(0,d.Z)(function*(xt){if(xt!==O)try{yield xt._remove(K)}catch{}});return function(xt){return ot.apply(this,arguments)}}())),new Ee(O,p,b)):new Ee(O,p,b)})()}}function Q(y){const p=y.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(vn(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(qe(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(He(p))return"Blackberry";if(ze(p))return"Webos";if(wt(p))return"Safari";if((p.includes("chrome/")||rn(p))&&!p.includes("edge/"))return"Chrome";if(Qt(p))return"Android";{const b=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===b?.length)return b[1]}return"Other"}function qe(y=(0,P.z$)()){return/firefox\//i.test(y)}function wt(y=(0,P.z$)()){const p=y.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function rn(y=(0,P.z$)()){return/crios\//i.test(y)}function vn(y=(0,P.z$)()){return/iemobile/i.test(y)}function Qt(y=(0,P.z$)()){return/android/i.test(y)}function He(y=(0,P.z$)()){return/blackberry/i.test(y)}function ze(y=(0,P.z$)()){return/webos/i.test(y)}function Kt(y=(0,P.z$)()){return/iphone|ipad|ipod/i.test(y)||/macintosh/i.test(y)&&/mobile/i.test(y)}function Hs(y=(0,P.z$)()){return Kt(y)||Qt(y)||ze(y)||He(y)||/windows phone/i.test(y)||vn(y)}function bs(y,p=[]){let g;switch(y){case"Browser":g=Q((0,P.z$)());break;case"Worker":g=`${Q((0,P.z$)())}-${y}`;break;default:g=y}const b=p.length?p.join(","):"FirebaseCore-web";return`${g}/JsCore/${ae.SDK_VERSION}/${b}`}class Eo{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,g){const b=O=>new Promise((K,ce)=>{try{K(p(O))}catch(Ue){ce(Ue)}});b.onAbort=g,this.queue.push(b);const M=this.queue.length-1;return()=>{this.queue[M]=()=>Promise.resolve()}}runMiddleware(p){var g=this;return(0,d.Z)(function*(){if(g.auth.currentUser===p)return;const b=[];try{for(const M of g.queue)yield M(p),M.onAbort&&b.push(M.onAbort)}catch(M){b.reverse();for(const O of b)try{O()}catch{}throw g.auth._errorFactory.create("login-blocked",{originalMessage:M?.message})}})()}}class $t{constructor(p,g,b){this.app=p,this.heartbeatServiceProvider=g,this.config=b,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Us(this),this.idTokenSubscription=new Us(this),this.beforeStateQueue=new Eo(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=pe,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=b.sdkClientVersion}_initializeWithPersistence(p,g){var b=this;return g&&(this._popupRedirectResolver=vt(g)),this._initializationPromise=this.queue((0,d.Z)(function*(){var M,O;if(!b._deleted&&(b.persistenceManager=yield Ee.create(b,p),!b._deleted)){if(null!==(M=b._popupRedirectResolver)&&void 0!==M&&M._shouldInitProactively)try{yield b._popupRedirectResolver._initialize(b)}catch{}yield b.initializeCurrentUser(g),b.lastNotifiedUid=(null===(O=b.currentUser)||void 0===O?void 0:O.uid)||null,!b._deleted&&(b._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,d.Z)(function*(){if(p._deleted)return;const g=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||g){if(p.currentUser&&g&&p.currentUser.uid===g.uid)return p._currentUser._assign(g),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(g,!0)}})()}initializeCurrentUser(p){var g=this;return(0,d.Z)(function*(){var b;const M=yield g.assertedPersistence.getCurrentUser();let O=M,K=!1;if(p&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const ce=null===(b=g.redirectUser)||void 0===b?void 0:b._redirectEventId,Ue=O?._redirectEventId,ot=yield g.tryRedirectSignIn(p);(!ce||ce===Ue)&&ot?.user&&(O=ot.user,K=!0)}if(!O)return g.directlySetCurrentUser(null);if(!O._redirectEventId){if(K)try{yield g.beforeStateQueue.runMiddleware(O)}catch(ce){O=M,g._popupRedirectResolver._overrideRedirectResult(g,()=>Promise.reject(ce))}return O?g.reloadAndSetCurrentUserOrClear(O):g.directlySetCurrentUser(null)}return H(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===O._redirectEventId?g.directlySetCurrentUser(O):g.reloadAndSetCurrentUserOrClear(O)})()}tryRedirectSignIn(p){var g=this;return(0,d.Z)(function*(){let b=null;try{b=yield g._popupRedirectResolver._completeRedirectFn(g,p,!0)}catch{yield g._setRedirectUser(null)}return b})()}reloadAndSetCurrentUserOrClear(p){var g=this;return(0,d.Z)(function*(){try{yield an(p)}catch(b){if("auth/network-request-failed"!==b?.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function Ie(){if(typeof navigator>"u")return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var p=this;return(0,d.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var g=this;return(0,d.Z)(function*(){const b=p?(0,P.m9)(p):null;return b&&H(b.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(b&&b._clone(g))})()}_updateCurrentUser(p,g=!1){var b=this;return(0,d.Z)(function*(){if(!b._deleted)return p&&H(b.tenantId===p.tenantId,b,"tenant-id-mismatch"),g||(yield b.beforeStateQueue.runMiddleware(p)),b.queue((0,d.Z)(function*(){yield b.directlySetCurrentUser(p),b.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,d.Z)(function*(){return yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0)})()}setPersistence(p){var g=this;return this.queue((0,d.Z)(function*(){yield g.assertedPersistence.setPersistence(vt(p))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new P.LL("auth","Firebase",p())}onAuthStateChanged(p,g,b){return this.registerStateListener(this.authStateSubscription,p,g,b)}beforeAuthStateChanged(p,g){return this.beforeStateQueue.pushCallback(p,g)}onIdTokenChanged(p,g,b){return this.registerStateListener(this.idTokenSubscription,p,g,b)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,g){var b=this;return(0,d.Z)(function*(){const M=yield b.getOrInitRedirectPersistenceManager(g);return null===p?M.removeCurrentUser():M.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var g=this;return(0,d.Z)(function*(){if(!g.redirectPersistenceManager){const b=p&&vt(p)||g._popupRedirectResolver;H(b,g,"argument-error"),g.redirectPersistenceManager=yield Ee.create(g,[vt(b._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(p){var g=this;return(0,d.Z)(function*(){var b,M;return g._isInitialized&&(yield g.queue((0,d.Z)(function*(){}))),(null===(b=g._currentUser)||void 0===b?void 0:b._redirectEventId)===p?g._currentUser:(null===(M=g.redirectUser)||void 0===M?void 0:M._redirectEventId)===p?g.redirectUser:null})()}_persistUserIfCurrent(p){var g=this;return(0,d.Z)(function*(){if(p===g.currentUser)return g.queue((0,d.Z)(function*(){return g.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const b=null!==(g=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==b&&(this.lastNotifiedUid=b,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,g,b,M){if(this._deleted)return()=>{};const O="function"==typeof g?g:g.next.bind(g),K=this._isInitialized?Promise.resolve():this._initializationPromise;return H(K,this,"internal-error"),K.then(()=>O(this.currentUser)),"function"==typeof g?p.addObserver(g,b,M):p.addObserver(g)}directlySetCurrentUser(p){var g=this;return(0,d.Z)(function*(){g.currentUser&&g.currentUser!==p&&g._currentUser._stopProactiveRefresh(),p&&g.isProactiveRefreshEnabled&&p._startProactiveRefresh(),g.currentUser=p,p?yield g.assertedPersistence.setCurrentUser(p):yield g.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return H(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=bs(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,d.Z)(function*(){var g;const b={"X-Client-Version":p.clientVersion};p.app.options.appId&&(b["X-Firebase-gmpid"]=p.app.options.appId);const M=yield null===(g=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();return M&&(b["X-Firebase-Client"]=M),b})()}}function xn(y){return(0,P.m9)(y)}class Us{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,P.ne)(g=>this.observer=g)}get next(){return H(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Or(y){const p=y.indexOf(":");return p<0?"":y.substr(0,p+1)}function ws(y){if(!y)return null;const p=Number(y);return isNaN(p)?null:p}class Di{constructor(p,g){this.providerId=p,this.signInMethod=g}toJSON(){return ge("not implemented")}_getIdTokenResponse(p){return ge("not implemented")}_linkToIdToken(p,g){return ge("not implemented")}_getReauthenticationResolver(p){return ge("not implemented")}}function Xn(y,p){return nl.apply(this,arguments)}function nl(){return(nl=(0,d.Z)(function*(y,p){return Rt(y,"POST","/v1/accounts:resetPassword",bt(y,p))})).apply(this,arguments)}function gn(y,p){return dc.apply(this,arguments)}function dc(){return(dc=(0,d.Z)(function*(y,p){return Rt(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function hc(y,p){return js.apply(this,arguments)}function js(){return(js=(0,d.Z)(function*(y,p){return Rt(y,"POST","/v1/accounts:update",bt(y,p))})).apply(this,arguments)}function Gs(){return(Gs=(0,d.Z)(function*(y,p){return Pn(y,"POST","/v1/accounts:signInWithPassword",bt(y,p))})).apply(this,arguments)}function Ds(y,p){return wr.apply(this,arguments)}function wr(){return(wr=(0,d.Z)(function*(y,p){return Rt(y,"POST","/v1/accounts:sendOobCode",bt(y,p))})).apply(this,arguments)}function Gn(y,p){return fc.apply(this,arguments)}function fc(){return(fc=(0,d.Z)(function*(y,p){return Ds(y,p)})).apply(this,arguments)}function gi(y,p){return $i.apply(this,arguments)}function $i(){return($i=(0,d.Z)(function*(y,p){return Ds(y,p)})).apply(this,arguments)}function pa(y,p){return Do.apply(this,arguments)}function Do(){return(Do=(0,d.Z)(function*(y,p){return Ds(y,p)})).apply(this,arguments)}function pc(y,p){return Li.apply(this,arguments)}function Li(){return(Li=(0,d.Z)(function*(y,p){return Ds(y,p)})).apply(this,arguments)}function qu(){return(qu=(0,d.Z)(function*(y,p){return Pn(y,"POST","/v1/accounts:signInWithEmailLink",bt(y,p))})).apply(this,arguments)}function mc(){return(mc=(0,d.Z)(function*(y,p){return Pn(y,"POST","/v1/accounts:signInWithEmailLink",bt(y,p))})).apply(this,arguments)}class gc extends Di{constructor(p,g,b,M=null){super("password",b),this._email=p,this._password=g,this._tenantId=M}static _fromEmailAndPassword(p,g){return new gc(p,g,"password")}static _fromEmailAndCode(p,g,b=null){return new gc(p,g,"emailLink",b)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p;if(g?.email&&g?.password){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(p){var g=this;return(0,d.Z)(function*(){switch(g.signInMethod){case"password":return function fa(y,p){return Gs.apply(this,arguments)}(p,{returnSecureToken:!0,email:g._email,password:g._password});case"emailLink":return function Mh(y,p){return qu.apply(this,arguments)}(p,{email:g._email,oobCode:g._password});default:De(p,"internal-error")}})()}_linkToIdToken(p,g){var b=this;return(0,d.Z)(function*(){switch(b.signInMethod){case"password":return gn(p,{idToken:g,returnSecureToken:!0,email:b._email,password:b._password});case"emailLink":return function xh(y,p){return mc.apply(this,arguments)}(p,{idToken:g,email:b._email,oobCode:b._password});default:De(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function oi(y,p){return Wu.apply(this,arguments)}function Wu(){return(Wu=(0,d.Z)(function*(y,p){return Pn(y,"POST","/v1/accounts:signInWithIdp",bt(y,p))})).apply(this,arguments)}class Xr extends Di{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const g=new Xr(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(g.idToken=p.idToken),p.accessToken&&(g.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(g.nonce=p.nonce),p.pendingToken&&(g.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(g.accessToken=p.oauthToken,g.secret=p.oauthTokenSecret):De("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p,{providerId:b,signInMethod:M}=g,O=(0,he._T)(g,["providerId","signInMethod"]);if(!b||!M)return null;const K=new Xr(b,M);return K.idToken=O.idToken||void 0,K.accessToken=O.accessToken||void 0,K.secret=O.secret,K.nonce=O.nonce,K.pendingToken=O.pendingToken||null,K}_getIdTokenResponse(p){return oi(p,this.buildRequest())}_linkToIdToken(p,g){const b=this.buildRequest();return b.idToken=g,oi(p,b)}_getReauthenticationResolver(p){const g=this.buildRequest();return g.autoCreate=!1,oi(p,g)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),p.postBody=(0,P.xO)(g)}return p}}function Fp(y,p){return _c.apply(this,arguments)}function _c(){return(_c=(0,d.Z)(function*(y,p){return Rt(y,"POST","/v1/accounts:sendVerificationCode",bt(y,p))})).apply(this,arguments)}function Cs(){return(Cs=(0,d.Z)(function*(y,p){return Pn(y,"POST","/v1/accounts:signInWithPhoneNumber",bt(y,p))})).apply(this,arguments)}function Ku(){return(Ku=(0,d.Z)(function*(y,p){const g=yield Pn(y,"POST","/v1/accounts:signInWithPhoneNumber",bt(y,p));if(g.temporaryProof)throw pr(y,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const Vp={USER_NOT_FOUND:"user-not-found"};function Zu(){return(Zu=(0,d.Z)(function*(y,p){return Pn(y,"POST","/v1/accounts:signInWithPhoneNumber",bt(y,Object.assign(Object.assign({},p),{operation:"REAUTH"})),Vp)})).apply(this,arguments)}class Is extends Di{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,g){return new Is({verificationId:p,verificationCode:g})}static _fromTokenResponse(p,g){return new Is({phoneNumber:p,temporaryProof:g})}_getIdTokenResponse(p){return function yc(y,p){return Cs.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,g){return function Lp(y,p){return Ku.apply(this,arguments)}(p,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function Bp(y,p){return Zu.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:g,verificationId:b,verificationCode:M}=this.params;return p&&g?{temporaryProof:p,phoneNumber:g}:{sessionInfo:b,code:M}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:g,verificationCode:b,phoneNumber:M,temporaryProof:O}=p;return b||g||M||O?new Is({verificationId:g,verificationCode:b,phoneNumber:M,temporaryProof:O}):null}}class il{constructor(p){var g,b,M,O,K,ce;const Ue=(0,P.zd)((0,P.pd)(p)),ot=null!==(g=Ue.apiKey)&&void 0!==g?g:null,xt=null!==(b=Ue.oobCode)&&void 0!==b?b:null,Tt=function Yu(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(M=Ue.mode)&&void 0!==M?M:null);H(ot&&xt&&Tt,"argument-error"),this.apiKey=ot,this.operation=Tt,this.code=xt,this.continueUrl=null!==(O=Ue.continueUrl)&&void 0!==O?O:null,this.languageCode=null!==(K=Ue.languageCode)&&void 0!==K?K:null,this.tenantId=null!==(ce=Ue.tenantId)&&void 0!==ce?ce:null}static parseLink(p){const g=function Qu(y){const p=(0,P.zd)((0,P.pd)(y)).link,g=p?(0,P.zd)((0,P.pd)(p)).deep_link_id:null,b=(0,P.zd)((0,P.pd)(y)).deep_link_id;return(b?(0,P.zd)((0,P.pd)(b)).link:null)||b||g||p||y}(p);try{return new il(g)}catch{return null}}}let Pr=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(g,b){return gc._fromEmailAndPassword(g,b)}static credentialWithLink(g,b){const M=il.parseLink(b);return H(M,"argument-error"),gc._fromEmailAndCode(g,M.code,M.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class Jr{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class es extends Jr{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class $s extends es{static credentialFromJSON(p){const g="string"==typeof p?JSON.parse(p):p;return H("providerId"in g&&"signInMethod"in g,"argument-error"),Xr._fromParams(g)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return H(p.idToken||p.accessToken,"argument-error"),Xr._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return $s.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return $s.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:g,oauthAccessToken:b,oauthTokenSecret:M,pendingToken:O,nonce:K,providerId:ce}=p;if(!b&&!M&&!g&&!O||!ce)return null;try{return new $s(ce)._credential({idToken:g,accessToken:b,nonce:K,pendingToken:O})}catch{return null}}}let ma=(()=>{class y extends es{constructor(){super("facebook.com")}static credential(g){return Xr._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return y.credential(g.oauthAccessToken)}catch{return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),rl=(()=>{class y extends es{constructor(){super("google.com"),this.addScope("profile")}static credential(g,b){return Xr._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:b})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:b,oauthAccessToken:M}=g;if(!b&&!M)return null;try{return y.credential(b,M)}catch{return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),vc=(()=>{class y extends es{constructor(){super("github.com")}static credential(g){return Xr._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return y.credential(g.oauthAccessToken)}catch{return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class Co extends Di{constructor(p,g){super(p,p),this.pendingToken=g}_getIdTokenResponse(p){return oi(p,this.buildRequest())}_linkToIdToken(p,g){const b=this.buildRequest();return b.idToken=g,oi(p,b)}_getReauthenticationResolver(p){const g=this.buildRequest();return g.autoCreate=!1,oi(p,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p,{providerId:b,signInMethod:M,pendingToken:O}=g;return b&&M&&O&&b===M?new Co(b,O):null}static _create(p,g){return new Co(p,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class gr extends Jr{constructor(p){H(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return gr.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return gr.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const g=Co.fromJSON(p);return H(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:g,providerId:b}=p;if(!g||!b)return null;try{return Co._create(b,g)}catch{return null}}}let er=(()=>{class y extends es{constructor(){super("twitter.com")}static credential(g,b){return Xr._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:b})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:b,oauthTokenSecret:M}=g;if(!b||!M)return null;try{return y.credential(b,M)}catch{return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function Io(y,p){return bc.apply(this,arguments)}function bc(){return(bc=(0,d.Z)(function*(y,p){return Pn(y,"POST","/v1/accounts:signUp",bt(y,p))})).apply(this,arguments)}class Ci{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,g,b,M=!1){return(0,d.Z)(function*(){const O=yield Wt._fromIdTokenResponse(p,b,M),K=Oh(b);return new Ci({user:O,providerId:K,_tokenResponse:b,operationType:g})})()}static _forOperation(p,g,b){return(0,d.Z)(function*(){yield p._updateTokensIfNecessary(b,!0);const M=Oh(b);return new Ci({user:p,providerId:M,_tokenResponse:b,operationType:g})})()}}function Oh(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function Nn(){return(Nn=(0,d.Z)(function*(y){var p;const g=xn(y);if(yield g._initializationPromise,null!==(p=g.currentUser)&&void 0!==p&&p.isAnonymous)return new Ci({user:g.currentUser,providerId:null,operationType:"signIn"});const b=yield Io(g,{returnSecureToken:!0}),M=yield Ci._fromIdTokenResponse(g,"signIn",b,!0);return yield g._updateCurrentUser(M.user),M})).apply(this,arguments)}class wc extends P.ZR{constructor(p,g,b,M){var O;super(g.code,g.message),this.operationType=b,this.user=M,Object.setPrototypeOf(this,wc.prototype),this.customData={appName:p.name,tenantId:null!==(O=p.tenantId)&&void 0!==O?O:void 0,_serverResponse:g.customData._serverResponse,operationType:b}}static _fromErrorAndOperation(p,g,b,M){return new wc(p,g,b,M)}}function Hp(y,p,g,b){return("reauthenticate"===p?g._getReauthenticationResolver(y):g._getIdTokenResponse(y)).catch(O=>{throw"auth/multi-factor-auth-required"===O.code?wc._fromErrorAndOperation(y,O,p,b):O})}function _r(y){return new Set(y.map(({providerId:p})=>p).filter(p=>!!p))}function sl(){return(sl=(0,d.Z)(function*(y,p){const g=(0,P.m9)(y);yield Xt(!0,g,p);const{providerUserInfo:b}=yield Fi(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[p]}),M=_r(b||[]);return g.providerData=g.providerData.filter(O=>M.has(O.providerId)),M.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g})).apply(this,arguments)}function To(y,p){return ns.apply(this,arguments)}function ns(){return(ns=(0,d.Z)(function*(y,p,g=!1){const b=yield Ei(y,p._linkToIdToken(y.auth,yield y.getIdToken()),g);return Ci._forOperation(y,"link",b)})).apply(this,arguments)}function Xt(y,p,g){return ol.apply(this,arguments)}function ol(){return(ol=(0,d.Z)(function*(y,p,g){yield an(p);const M=!1===y?"provider-already-linked":"no-such-provider";H(_r(p.providerData).has(g)===y,p.auth,M)})).apply(this,arguments)}function zs(y,p){return al.apply(this,arguments)}function al(){return(al=(0,d.Z)(function*(y,p,g=!1){const{auth:b}=y,M="reauthenticate";try{const O=yield Ei(y,Hp(b,M,p,y),g);H(O.idToken,b,"internal-error");const K=ft(O.idToken);H(K,b,"internal-error");const{sub:ce}=K;return H(y.uid===ce,b,"user-mismatch"),Ci._forOperation(y,M,O)}catch(O){throw"auth/user-not-found"===O?.code&&De(b,"user-mismatch"),O}})).apply(this,arguments)}function Er(y,p){return ll.apply(this,arguments)}function ll(){return(ll=(0,d.Z)(function*(y,p,g=!1){const b="signIn",M=yield Hp(y,b,p),O=yield Ci._fromIdTokenResponse(y,b,M);return g||(yield y._updateCurrentUser(O.user)),O})).apply(this,arguments)}function kn(y,p){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,d.Z)(function*(y,p){return Er(xn(y),p)})).apply(this,arguments)}function cl(y,p){return Nh.apply(this,arguments)}function Nh(){return(Nh=(0,d.Z)(function*(y,p){const g=(0,P.m9)(y);return yield Xt(!1,g,p.providerId),To(g,p)})).apply(this,arguments)}function ul(y,p){return dl.apply(this,arguments)}function dl(){return(dl=(0,d.Z)(function*(y,p){return zs((0,P.m9)(y),p)})).apply(this,arguments)}function Ec(y,p){return is.apply(this,arguments)}function is(){return(is=(0,d.Z)(function*(y,p){return Pn(y,"POST","/v1/accounts:signInWithCustomToken",bt(y,p))})).apply(this,arguments)}function ga(){return(ga=(0,d.Z)(function*(y,p){const g=xn(y),b=yield Ec(g,{token:p,returnSecureToken:!0}),M=yield Ci._fromIdTokenResponse(g,"signIn",b);return yield g._updateCurrentUser(M.user),M})).apply(this,arguments)}class Ae{constructor(p,g){this.factorId=p,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(p,g){return"phoneInfo"in g?Yt._fromServerResponse(p,g):De(p,"internal-error")}}class Yt extends Ae{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,g){return new Yt(g)}}function hl(y,p,g){var b;H((null===(b=g.url)||void 0===b?void 0:b.length)>0,y,"invalid-continue-uri"),H(typeof g.dynamicLinkDomain>"u"||g.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),p.continueUrl=g.url,p.dynamicLinkDomain=g.dynamicLinkDomain,p.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(H(g.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),p.iOSBundleId=g.iOS.bundleId),g.android&&(H(g.android.packageName.length>0,y,"missing-android-pkg-name"),p.androidInstallApp=g.android.installApp,p.androidMinimumVersionCode=g.android.minimumVersion,p.androidPackageName=g.android.packageName)}function Fn(){return(Fn=(0,d.Z)(function*(y,p,g){const b=(0,P.m9)(y),M={requestType:"PASSWORD_RESET",email:p};g&&hl(b,M,g),yield gi(b,M)})).apply(this,arguments)}function So(){return(So=(0,d.Z)(function*(y,p,g){yield Xn((0,P.m9)(y),{oobCode:p,newPassword:g})})).apply(this,arguments)}function _a(){return(_a=(0,d.Z)(function*(y,p){yield hc((0,P.m9)(y),{oobCode:p})})).apply(this,arguments)}function ya(y,p){return Cc.apply(this,arguments)}function Cc(){return(Cc=(0,d.Z)(function*(y,p){const g=(0,P.m9)(y),b=yield Xn(g,{oobCode:p}),M=b.requestType;switch(H(M,g,"internal-error"),M){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":H(b.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":H(b.mfaInfo,g,"internal-error");default:H(b.email,g,"internal-error")}let O=null;return b.mfaInfo&&(O=Ae._fromServerResponse(xn(g),b.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.newEmail:b.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.email:b.newEmail)||null,multiFactorInfo:O},operation:M}})).apply(this,arguments)}function Xu(){return(Xu=(0,d.Z)(function*(y,p){const{data:g}=yield ya((0,P.m9)(y),p);return g.email})).apply(this,arguments)}function Ln(){return(Ln=(0,d.Z)(function*(y,p,g){const b=xn(y),M=yield Io(b,{returnSecureToken:!0,email:p,password:g}),O=yield Ci._fromIdTokenResponse(b,"signIn",M);return yield b._updateCurrentUser(O.user),O})).apply(this,arguments)}function qs(){return(qs=(0,d.Z)(function*(y,p,g){const b=(0,P.m9)(y),M={requestType:"EMAIL_SIGNIN",email:p};H(g.handleCodeInApp,b,"argument-error"),g&&hl(b,M,g),yield pa(b,M)})).apply(this,arguments)}function ba(){return(ba=(0,d.Z)(function*(y,p,g){const b=(0,P.m9)(y),M=Pr.credentialWithLink(p,g||fe());return H(M._tenantId===(b.tenantId||null),b,"tenant-id-mismatch"),kn(b,M)})).apply(this,arguments)}function jp(y,p){return Sc.apply(this,arguments)}function Sc(){return(Sc=(0,d.Z)(function*(y,p){return Rt(y,"POST","/v1/accounts:createAuthUri",bt(y,p))})).apply(this,arguments)}function wa(){return(wa=(0,d.Z)(function*(y,p){const b={identifier:p,continueUri:ve()?fe():"http://localhost"},{signinMethods:M}=yield jp((0,P.m9)(y),b);return M||[]})).apply(this,arguments)}function Ea(){return(Ea=(0,d.Z)(function*(y,p){const g=(0,P.m9)(y),M={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};p&&hl(g.auth,M,p);const{email:O}=yield Gn(g.auth,M);O!==y.email&&(yield y.reload())})).apply(this,arguments)}function gl(){return(gl=(0,d.Z)(function*(y,p,g){const b=(0,P.m9)(y),O={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:p};g&&hl(b.auth,O,g);const{email:K}=yield pc(b.auth,O);K!==y.email&&(yield y.reload())})).apply(this,arguments)}function _l(y,p){return xc.apply(this,arguments)}function xc(){return(xc=(0,d.Z)(function*(y,p){return Rt(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Rc(){return(Rc=(0,d.Z)(function*(y,{displayName:p,photoURL:g}){if(void 0===p&&void 0===g)return;const b=(0,P.m9)(y),O={idToken:yield b.getIdToken(),displayName:p,photoUrl:g,returnSecureToken:!0},K=yield Ei(b,_l(b.auth,O));b.displayName=K.displayName||null,b.photoURL=K.photoUrl||null;const ce=b.providerData.find(({providerId:Ue})=>"password"===Ue);ce&&(ce.displayName=b.displayName,ce.photoURL=b.photoURL),yield b._updateTokensIfNecessary(K)})).apply(this,arguments)}function Ks(y,p,g){return yl.apply(this,arguments)}function yl(){return(yl=(0,d.Z)(function*(y,p,g){const{auth:b}=y,O={idToken:yield y.getIdToken(),returnSecureToken:!0};p&&(O.email=p),g&&(O.password=g);const K=yield Ei(y,gn(b,O));yield y._updateTokensIfNecessary(K,!0)})).apply(this,arguments)}class tr{constructor(p,g,b={}){this.isNewUser=p,this.providerId=g,this.profile=b}}class wn extends tr{constructor(p,g,b,M){super(p,g,b),this.username=M}}class ed extends tr{constructor(p,g){super(p,"facebook.com",g)}}class Oc extends wn{constructor(p,g){super(p,"github.com",g,"string"==typeof g?.login?g?.login:null)}}class Fh extends tr{constructor(p,g){super(p,"google.com",g)}}class Pc extends wn{constructor(p,g,b){super(p,"twitter.com",g,b)}}function vl(y){const{user:p,_tokenResponse:g}=y;return p.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function ai(y){var p,g;if(!y)return null;const{providerId:b}=y,M=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},O=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!b&&y?.idToken){const K=null===(g=null===(p=ft(y.idToken))||void 0===p?void 0:p.firebase)||void 0===g?void 0:g.sign_in_provider;if(K)return new tr(O,"anonymous"!==K&&"custom"!==K?K:null)}if(!b)return null;switch(b){case"facebook.com":return new ed(O,M);case"github.com":return new Oc(O,M);case"google.com":return new Fh(O,M);case"twitter.com":return new Pc(O,M,y.screenName||null);case"custom":case"anonymous":return new tr(O,null);default:return new tr(O,b,M)}}(g)}class Ys{constructor(p,g,b){this.type=p,this.credential=g,this.auth=b}static _fromIdtoken(p,g){return new Ys("enroll",p,g)}static _fromMfaPendingCredential(p){return new Ys("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var g,b;if(p?.multiFactorSession){if(null!==(g=p.multiFactorSession)&&void 0!==g&&g.pendingCredential)return Ys._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null!==(b=p.multiFactorSession)&&void 0!==b&&b.idToken)return Ys._fromIdtoken(p.multiFactorSession.idToken)}return null}}class wl{constructor(p,g,b){this.session=p,this.hints=g,this.signInResolver=b}static _fromError(p,g){const b=xn(p),M=g.customData._serverResponse,O=(M.mfaInfo||[]).map(ce=>Ae._fromServerResponse(b,ce));H(M.mfaPendingCredential,b,"internal-error");const K=Ys._fromMfaPendingCredential(M.mfaPendingCredential);return new wl(K,O,function(){var ce=(0,d.Z)(function*(Ue){const ot=yield Ue._process(b,K);delete M.mfaInfo,delete M.mfaPendingCredential;const xt=Object.assign(Object.assign({},M),{idToken:ot.idToken,refreshToken:ot.refreshToken});switch(g.operationType){case"signIn":const Tt=yield Ci._fromIdTokenResponse(b,g.operationType,xt);return yield b._updateCurrentUser(Tt.user),Tt;case"reauthenticate":return H(g.user,b,"internal-error"),Ci._forOperation(g.user,g.operationType,xt);default:De(b,"internal-error")}});return function(Ue){return ce.apply(this,arguments)}}())}resolveSignIn(p){var g=this;return(0,d.Z)(function*(){return g.signInResolver(p)})()}}function El(y,p){return Rt(y,"POST","/v2/accounts/mfaEnrollment:start",bt(y,p))}class Lh{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(b=>Ae._fromServerResponse(p.auth,b)))})}static _fromUser(p){return new Lh(p)}getSession(){var p=this;return(0,d.Z)(function*(){return Ys._fromIdtoken(yield p.user.getIdToken(),p.user.auth)})()}enroll(p,g){var b=this;return(0,d.Z)(function*(){const M=p,O=yield b.getSession(),K=yield Ei(b.user,M._process(b.user.auth,O,g));return yield b.user._updateTokensIfNecessary(K),b.user.reload()})()}unenroll(p){var g=this;return(0,d.Z)(function*(){const b="string"==typeof p?p:p.uid,M=yield g.user.getIdToken();try{const O=yield Ei(g.user,function rd(y,p){return Rt(y,"POST","/v2/accounts/mfaEnrollment:withdraw",bt(y,p))}(g.user.auth,{idToken:M,mfaEnrollmentId:b}));g.enrolledFactors=g.enrolledFactors.filter(({uid:K})=>K!==b),yield g.user._updateTokensIfNecessary(O),yield g.user.reload()}catch(O){throw O}})()}}const Qs=new WeakMap,Xs="__sak";class Cl{constructor(p,g){this.storageRetriever=p,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(Xs,"1"),this.storage.removeItem(Xs),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(p,g){return this.storage.setItem(p,JSON.stringify(g)),Promise.resolve()}_get(p){const g=this.storage.getItem(p);return Promise.resolve(g?JSON.parse(g):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const Ca=(()=>{class y extends Cl{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,b)=>this.onStorageEvent(g,b),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Da(){const y=(0,P.z$)();return wt(y)||Kt(y)}()&&function Sn(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Hs(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const b of Object.keys(this.listeners)){const M=this.storage.getItem(b),O=this.localCache[b];M!==O&&g(b,O,M)}}onStorageEvent(g,b=!1){if(!g.key)return void this.forAllChangedKeys((ce,Ue,ot)=>{this.notifyListeners(ce,ot)});const M=g.key;if(b?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ce=this.storage.getItem(M);if(g.newValue!==ce)null!==g.newValue?this.storage.setItem(M,g.newValue):this.storage.removeItem(M);else if(this.localCache[M]===g.newValue&&!b)return}const O=()=>{const ce=this.storage.getItem(M);!b&&this.localCache[M]===ce||this.notifyListeners(M,ce)},K=this.storage.getItem(M);!function si(){return(0,P.w1)()&&10===document.documentMode}()||K===g.newValue||g.newValue===g.oldValue?O():setTimeout(O,10)}notifyListeners(g,b){this.localCache[g]=b;const M=this.listeners[g];if(M)for(const O of Array.from(M))O(b&&JSON.parse(b))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,b,M)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:b,newValue:M}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,b){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(b)}_removeListener(g,b){this.listeners[g]&&(this.listeners[g].delete(b),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,b){var M=()=>super._set,O=this;return(0,d.Z)(function*(){yield M().call(O,g,b),O.localCache[g]=JSON.stringify(b)})()}_get(g){var b=()=>super._get,M=this;return(0,d.Z)(function*(){const O=yield b().call(M,g);return M.localCache[g]=JSON.stringify(O),O})()}_remove(g){var b=()=>super._remove,M=this;return(0,d.Z)(function*(){yield b().call(M,g),delete M.localCache[g]})()}}return y.type="LOCAL",y})(),Fr=(()=>{class y extends Cl{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,b){}_removeListener(g,b){}}return y.type="SESSION",y})();let ad=(()=>{class y{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const b=this.receivers.find(O=>O.isListeningto(g));if(b)return b;const M=new y(g);return this.receivers.push(M),M}isListeningto(g){return this.eventTarget===g}handleEvent(g){var b=this;return(0,d.Z)(function*(){const M=g,{eventId:O,eventType:K,data:ce}=M.data,Ue=b.handlersMap[K];if(!Ue?.size)return;M.ports[0].postMessage({status:"ack",eventId:O,eventType:K});const ot=Array.from(Ue).map(function(){var Tt=(0,d.Z)(function*(Ai){return Ai(M.origin,ce)});return function(Ai){return Tt.apply(this,arguments)}}()),xt=yield function Ta(y){return Promise.all(y.map(function(){var p=(0,d.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(b){return{fulfilled:!1,reason:b}}});return function(g){return p.apply(this,arguments)}}()))}(ot);M.ports[0].postMessage({status:"done",eventId:O,eventType:K,response:xt})})()}_subscribe(g,b){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(b)}_unsubscribe(g,b){this.handlersMap[g]&&b&&this.handlersMap[g].delete(b),(!b||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function Sa(y="",p=10){let g="";for(let b=0;b<p;b++)g+=Math.floor(10*Math.random());return y+g}class Nc{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,g,b=50){var M=this;return(0,d.Z)(function*(){const O=typeof MessageChannel<"u"?new MessageChannel:null;if(!O)throw new Error("connection_unavailable");let K,ce;return new Promise((Ue,ot)=>{const xt=Sa("",20);O.port1.start();const Tt=setTimeout(()=>{ot(new Error("unsupported_event"))},b);ce={messageChannel:O,onMessage(Ai){const Mi=Ai;if(Mi.data.eventId===xt)switch(Mi.data.status){case"ack":clearTimeout(Tt),K=setTimeout(()=>{ot(new Error("timeout"))},3e3);break;case"done":clearTimeout(K),Ue(Mi.data.response);break;default:clearTimeout(Tt),clearTimeout(K),ot(new Error("invalid_response"))}}},M.handlers.add(ce),O.port1.addEventListener("message",ce.onMessage),M.target.postMessage({eventType:p,eventId:xt,data:g},[O.port2])}).finally(()=>{ce&&M.removeMessageHandler(ce)})})()}}function $n(){return window}function Il(){return typeof $n().WorkerGlobalScope<"u"&&"function"==typeof $n().importScripts}function Aa(){return(Aa=(0,d.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const As="firebaseLocalStorageDb",Ms="firebaseLocalStorage",Al="fbase_key";class eo{constructor(p){this.request=p}toPromise(){return new Promise((p,g)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function Ma(y,p){return y.transaction([Ms],p?"readwrite":"readonly").objectStore(Ms)}function xa(){const y=indexedDB.open(As,1);return new Promise((p,g)=>{y.addEventListener("error",()=>{g(y.error)}),y.addEventListener("upgradeneeded",()=>{const b=y.result;try{b.createObjectStore(Ms,{keyPath:Al})}catch(M){g(M)}}),y.addEventListener("success",(0,d.Z)(function*(){const b=y.result;b.objectStoreNames.contains(Ms)?p(b):(b.close(),yield function cd(){const y=indexedDB.deleteDatabase(As);return new eo(y).toPromise()}(),p(yield xa()))}))})}function xs(y,p,g){return Fc.apply(this,arguments)}function Fc(){return(Fc=(0,d.Z)(function*(y,p,g){const b=Ma(y,!0).put({[Al]:p,value:g});return new eo(b).toPromise()})).apply(this,arguments)}function ka(){return(ka=(0,d.Z)(function*(y,p){const g=Ma(y,!1).get(p),b=yield new eo(g).toPromise();return void 0===b?null:b.value})).apply(this,arguments)}function to(y,p){const g=Ma(y,!0).delete(p);return new eo(g).toPromise()}const ko=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,d.Z)(function*(){return g.db||(g.db=yield xa()),g.db})()}_withRetries(g){var b=this;return(0,d.Z)(function*(){let M=0;for(;;)try{const O=yield b._openDb();return yield g(O)}catch(O){if(M++>3)throw O;b.db&&(b.db.close(),b.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,d.Z)(function*(){return Il()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,d.Z)(function*(){g.receiver=ad._getInstance(function Sl(){return Il()?self:null}()),g.receiver._subscribe("keyChanged",function(){var b=(0,d.Z)(function*(M,O){return{keyProcessed:(yield g._poll()).includes(O.key)}});return function(M,O){return b.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var b=(0,d.Z)(function*(M,O){return["keyChanged"]});return function(M,O){return b.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,d.Z)(function*(){var b,M;if(g.activeServiceWorker=yield function Js(){return Aa.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new Nc(g.activeServiceWorker);const O=yield g.sender._send("ping",{},800);!O||(null===(b=O[0])||void 0===b?void 0:b.fulfilled)&&(null===(M=O[0])||void 0===M?void 0:M.value.includes("keyChanged"))&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var b=this;return(0,d.Z)(function*(){if(b.sender&&b.activeServiceWorker&&function Tl(){var y;return(null===(y=navigator?.serviceWorker)||void 0===y?void 0:y.controller)||null}()===b.activeServiceWorker)try{yield b.sender._send("keyChanged",{key:g},b.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,d.Z)(function*(){try{if(!indexedDB)return!1;const g=yield xa();return yield xs(g,Xs,"1"),yield to(g,Xs),!0}catch{}return!1})()}_withPendingWrite(g){var b=this;return(0,d.Z)(function*(){b.pendingWrites++;try{yield g()}finally{b.pendingWrites--}})()}_set(g,b){var M=this;return(0,d.Z)(function*(){return M._withPendingWrite((0,d.Z)(function*(){return yield M._withRetries(O=>xs(O,g,b)),M.localCache[g]=b,M.notifyServiceWorker(g)}))})()}_get(g){var b=this;return(0,d.Z)(function*(){const M=yield b._withRetries(O=>function Ml(y,p){return ka.apply(this,arguments)}(O,g));return b.localCache[g]=M,M})()}_remove(g){var b=this;return(0,d.Z)(function*(){return b._withPendingWrite((0,d.Z)(function*(){return yield b._withRetries(M=>to(M,g)),delete b.localCache[g],b.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,d.Z)(function*(){const b=yield g._withRetries(K=>{const ce=Ma(K,!1).getAll();return new eo(ce).toPromise()});if(!b)return[];if(0!==g.pendingWrites)return[];const M=[],O=new Set;for(const{fbase_key:K,value:ce}of b)O.add(K),JSON.stringify(g.localCache[K])!==JSON.stringify(ce)&&(g.notifyListeners(K,ce),M.push(K));for(const K of Object.keys(g.localCache))g.localCache[K]&&!O.has(K)&&(g.notifyListeners(K,null),M.push(K));return M})()}notifyListeners(g,b){this.localCache[g]=b;const M=this.listeners[g];if(M)for(const O of Array.from(M))O(b)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,d.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,b){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(b)}_removeListener(g,b){this.listeners[g]&&(this.listeners[g].delete(b),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})();function Ro(y,p){return Rt(y,"POST","/v2/accounts/mfaSignIn:start",bt(y,p))}function ks(){return(ks=(0,d.Z)(function*(y){return(yield Rt(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Po(y){return new Promise((p,g)=>{const b=document.createElement("script");b.setAttribute("src",y),b.onload=p,b.onerror=M=>{const O=_e("internal-error");O.customData=M,g(O)},b.type="text/javascript",b.charset="UTF-8",function Oo(){var y,p;return null!==(p=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==p?p:document}().appendChild(b)})}function Rl(y){return`__${y}${Math.floor(1e6*Math.random())}`}const Ra=1e12;class En{constructor(p){this.auth=p,this.counter=Ra,this._widgets=new Map}render(p,g){const b=this.counter;return this._widgets.set(b,new Gp(p,this.auth.name,g||{})),this.counter++,b}reset(p){var g;const b=p||Ra;null===(g=this._widgets.get(b))||void 0===g||g.delete(),this._widgets.delete(b)}getResponse(p){var g;return(null===(g=this._widgets.get(p||Ra))||void 0===g?void 0:g.getResponse())||""}execute(p){var g=this;return(0,d.Z)(function*(){var b;return null===(b=g._widgets.get(p||Ra))||void 0===b||b.execute(),""})()}}class Gp{constructor(p,g,b){this.params=b,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const M="string"==typeof p?document.getElementById(p):p;H(M,"argument-error",{appName:g}),this.container=M,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function w_(y){const p=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let b=0;b<y;b++)p.push(g.charAt(Math.floor(Math.random()*g.length)));return p.join("")}(50);const{callback:p,"expired-callback":g}=this.params;if(p)try{p(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const $p=Rl("rcb"),E_=new ht(3e4,6e4);class Vh{constructor(){var p;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(p=$n().grecaptcha)||void 0===p||!p.render)}load(p,g=""){return H(function Qb(y){return y.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y)}(g),p,"argument-error"),this.shouldResolveImmediately(g)?Promise.resolve($n().grecaptcha):new Promise((b,M)=>{const O=$n().setTimeout(()=>{M(_e(p,"network-request-failed"))},E_.get());$n()[$p]=()=>{$n().clearTimeout(O),delete $n()[$p];const ce=$n().grecaptcha;if(!ce)return void M(_e(p,"internal-error"));const Ue=ce.render;ce.render=(ot,xt)=>{const Tt=Ue(ot,xt);return this.counter++,Tt},this.hostLanguage=g,b(ce)},Po(`https://www.google.com/recaptcha/api.js??${(0,P.xO)({onload:$p,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(O),M(_e(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){var g;return!(null===(g=$n().grecaptcha)||void 0===g||!g.render)&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Fo{load(p){return(0,d.Z)(function*(){return new En(p)})()}clearedOneInstance(){}}const zp="recaptcha",qp={theme:"light",type:"image"};class yi{constructor(p,g=Object.assign({},qp),b){this.parameters=g,this.type=zp,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=xn(b),this.isInvisible="invisible"===this.parameters.size,H(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const M="string"==typeof p?document.getElementById(p):p;H(M,this.auth,"argument-error"),this.container=M,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Fo:new Vh,this.validateStartingState()}verify(){var p=this;return(0,d.Z)(function*(){p.assertNotDestroyed();const g=yield p.render(),b=p.getAssertedRecaptcha();return b.getResponse(g)||new Promise(O=>{const K=ce=>{!ce||(p.tokenChangeListeners.delete(K),O(ce))};p.tokenChangeListeners.add(K),p.isInvisible&&b.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){H(!this.parameters.sitekey,this.auth,"argument-error"),H(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),H(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return g=>{if(this.tokenChangeListeners.forEach(b=>b(g)),"function"==typeof p)p(g);else if("string"==typeof p){const b=$n()[p];"function"==typeof b&&b(g)}}}assertNotDestroyed(){H(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,d.Z)(function*(){if(yield p.init(),!p.widgetId){let g=p.container;if(!p.isInvisible){const b=document.createElement("div");g.appendChild(b),g=b}p.widgetId=p.getAssertedRecaptcha().render(g,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,d.Z)(function*(){H(ve()&&!Il(),p.auth,"internal-error"),yield function Bi(){let y=null;return new Promise(p=>{"complete"!==document.readyState?(y=()=>p(),window.addEventListener("load",y)):p()}).catch(p=>{throw y&&window.removeEventListener("load",y),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const g=yield function nr(y){return ks.apply(this,arguments)}(p.auth);H(g,p.auth,"internal-error"),p.parameters.sitekey=g})()}getAssertedRecaptcha(){return H(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Rs{constructor(p,g){this.verificationId=p,this.onConfirmation=g}confirm(p){const g=Is._fromVerification(this.verificationId,p);return this.onConfirmation(g)}}function Os(){return(Os=(0,d.Z)(function*(y,p,g){const b=xn(y),M=yield ir(b,p,(0,P.m9)(g));return new Rs(M,O=>kn(b,O))})).apply(this,arguments)}function tn(){return(tn=(0,d.Z)(function*(y,p,g){const b=(0,P.m9)(y);yield Xt(!1,b,"phone");const M=yield ir(b.auth,p,(0,P.m9)(g));return new Rs(M,O=>cl(b,O))})).apply(this,arguments)}function At(){return(At=(0,d.Z)(function*(y,p,g){const b=(0,P.m9)(y),M=yield ir(b.auth,p,(0,P.m9)(g));return new Rs(M,O=>ul(b,O))})).apply(this,arguments)}function ir(y,p,g){return zi.apply(this,arguments)}function zi(){return(zi=(0,d.Z)(function*(y,p,g){var b;const M=yield g.verify();try{let O;if(H("string"==typeof M,y,"argument-error"),H(g.type===zp,y,"argument-error"),O="string"==typeof p?{phoneNumber:p}:p,"session"in O){const K=O.session;if("phoneNumber"in O)return H("enroll"===K.type,y,"internal-error"),(yield El(y,{idToken:K.credential,phoneEnrollmentInfo:{phoneNumber:O.phoneNumber,recaptchaToken:M}})).phoneSessionInfo.sessionInfo;{H("signin"===K.type,y,"internal-error");const ce=(null===(b=O.multiFactorHint)||void 0===b?void 0:b.uid)||O.multiFactorUid;return H(ce,y,"missing-multi-factor-info"),(yield Ro(y,{mfaPendingCredential:K.credential,mfaEnrollmentId:ce,phoneSignInInfo:{recaptchaToken:M}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:K}=yield Fp(y,{phoneNumber:O.phoneNumber,recaptchaToken:M});return K}}finally{g._reset()}})).apply(this,arguments)}function Ii(){return(Ii=(0,d.Z)(function*(y,p){yield To((0,P.m9)(y),p)})).apply(this,arguments)}let Lr=(()=>{class y{constructor(g){this.providerId=y.PROVIDER_ID,this.auth=xn(g)}verifyPhoneNumber(g,b){return ir(this.auth,g,(0,P.m9)(b))}static credential(g,b){return Is._fromVerification(g,b)}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:b,temporaryProof:M}=g;return b&&M?Is._fromTokenResponse(b,M):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function Ps(y,p){return p?vt(p):(H(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class Ol extends Di{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return oi(p,this._buildIdpRequest())}_linkToIdToken(p,g){return oi(p,this._buildIdpRequest(g))}_getReauthenticationResolver(p){return oi(p,this._buildIdpRequest())}_buildIdpRequest(p){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(g.idToken=p),g}}function Rn(y){return Er(y.auth,new Ol(y),y.bypassAuthState)}function sn(y){const{auth:p,user:g}=y;return H(g,p,"internal-error"),zs(g,new Ol(y),y.bypassAuthState)}function Ns(y){return Pl.apply(this,arguments)}function Pl(){return(Pl=(0,d.Z)(function*(y){const{auth:p,user:g}=y;return H(g,p,"internal-error"),To(g,new Ol(y),y.bypassAuthState)})).apply(this,arguments)}class io{constructor(p,g,b,M,O=!1){this.auth=p,this.resolver=b,this.user=M,this.bypassAuthState=O,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var p=this;return new Promise(function(){var g=(0,d.Z)(function*(b,M){p.pendingPromise={resolve:b,reject:M};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(O){p.reject(O)}});return function(b,M){return g.apply(this,arguments)}}())}onAuthEvent(p){var g=this;return(0,d.Z)(function*(){const{urlResponse:b,sessionId:M,postBody:O,tenantId:K,error:ce,type:Ue}=p;if(ce)return void g.reject(ce);const ot={auth:g.auth,requestUri:b,sessionId:M,tenantId:K||void 0,postBody:O||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(Ue)(ot))}catch(xt){g.reject(xt)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return Rn;case"linkViaPopup":case"linkViaRedirect":return Ns;case"reauthViaPopup":case"reauthViaRedirect":return sn;default:De(this.auth,"internal-error")}}resolve(p){Be(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){Be(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Vc=new ht(2e3,1e4);function Oa(){return(Oa=(0,d.Z)(function*(y,p,g){const b=xn(y);Ve(y,p,Jr);const M=Ps(b,g);return new Lo(b,"signInViaPopup",p,M).executeNotNull()})).apply(this,arguments)}function Uc(){return(Uc=(0,d.Z)(function*(y,p,g){const b=(0,P.m9)(y);Ve(b.auth,p,Jr);const M=Ps(b.auth,g);return new Lo(b.auth,"reauthViaPopup",p,M,b).executeNotNull()})).apply(this,arguments)}function Pa(){return(Pa=(0,d.Z)(function*(y,p,g){const b=(0,P.m9)(y);Ve(b.auth,p,Jr);const M=Ps(b.auth,g);return new Lo(b.auth,"linkViaPopup",p,M,b).executeNotNull()})).apply(this,arguments)}let Lo=(()=>{class y extends io{constructor(g,b,M,O,K){super(g,b,O,K),this.provider=M,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var g=this;return(0,d.Z)(function*(){const b=yield g.execute();return H(b,g.auth,"internal-error"),b})()}onExecution(){var g=this;return(0,d.Z)(function*(){Be(1===g.filter.length,"Popup operations only handle one event");const b=Sa();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],b),g.authWindow.associatedEvent=b,g.resolver._originValidation(g.auth).catch(M=>{g.reject(M)}),g.resolver._isIframeWebStorageSupported(g.auth,M=>{M||g.reject(_e(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(_e(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const g=()=>{var b,M;this.pollId=null!==(M=null===(b=this.authWindow)||void 0===b?void 0:b.window)&&void 0!==M&&M.closed?window.setTimeout(()=>{this.pollId=null,this.reject(_e(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(g,Vc.get())};g()}}return y.currentPopupAction=null,y})();const li=new Map;class ro extends io{constructor(p,g,b=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,b),this.eventId=null}execute(){var p=()=>super.execute,g=this;return(0,d.Z)(function*(){let b=li.get(g.auth._key());if(!b){try{const O=(yield function Nl(y,p){return Vr.apply(this,arguments)}(g.resolver,g.auth))?yield p().call(g):null;b=()=>Promise.resolve(O)}catch(M){b=()=>Promise.reject(M)}li.set(g.auth._key(),b)}return g.bypassAuthState||li.set(g.auth._key(),()=>Promise.resolve(null)),b()})()}onAuthEvent(p){var g=()=>super.onAuthEvent,b=this;return(0,d.Z)(function*(){if("signInViaRedirect"===p.type)return g().call(b,p);if("unknown"!==p.type){if(p.eventId){const M=yield b.auth._redirectUserForId(p.eventId);if(M)return b.user=M,g().call(b,p);b.resolve(null)}}else b.resolve(null)})()}onExecution(){return(0,d.Z)(function*(){})()}cleanUp(){}}function Vr(){return(Vr=(0,d.Z)(function*(y,p){const g=Na(p),b=Hr(y);if(!(yield b._isAvailable()))return!1;const M="true"===(yield b._get(g));return yield b._remove(g),M})).apply(this,arguments)}function jc(y,p){return Br.apply(this,arguments)}function Br(){return(Br=(0,d.Z)(function*(y,p){return Hr(y)._set(Na(p),"true")})).apply(this,arguments)}function Bo(y,p){li.set(y._key(),p)}function Hr(y){return vt(y._redirectPersistence)}function Na(y){return W("pendingRedirect",y.config.apiKey,y.name)}function C(){return(C=(0,d.Z)(function*(y,p,g){const b=xn(y);Ve(y,p,Jr),yield b._initializationPromise;const M=Ps(b,g);return yield jc(M,b),M._openRedirect(b,p,"signInViaRedirect")})).apply(this,arguments)}function V(){return(V=(0,d.Z)(function*(y,p,g){const b=(0,P.m9)(y);Ve(b.auth,p,Jr),yield b.auth._initializationPromise;const M=Ps(b.auth,g);yield jc(M,b.auth);const O=yield Ot(b);return M._openRedirect(b.auth,p,"reauthViaRedirect",O)})).apply(this,arguments)}function Re(){return(Re=(0,d.Z)(function*(y,p,g){const b=(0,P.m9)(y);Ve(b.auth,p,Jr),yield b.auth._initializationPromise;const M=Ps(b.auth,g);yield Xt(!1,b,p.providerId),yield jc(M,b.auth);const O=yield Ot(b);return M._openRedirect(b.auth,p,"linkViaRedirect",O)})).apply(this,arguments)}function ct(){return(ct=(0,d.Z)(function*(y,p){return yield xn(y)._initializationPromise,Ye(y,p,!1)})).apply(this,arguments)}function Ye(y,p){return Ct.apply(this,arguments)}function Ct(){return(Ct=(0,d.Z)(function*(y,p,g=!1){const b=xn(y),M=Ps(b,p),K=yield new ro(b,M,g).execute();return K&&!g&&(delete K.user._redirectEventId,yield b._persistUserIfCurrent(K.user),yield b._setRedirectUser(null,p)),K})).apply(this,arguments)}function Ot(y){return ci.apply(this,arguments)}function ci(){return(ci=(0,d.Z)(function*(y){const p=Sa(`${y.uid}:::`);return y._redirectEventId=p,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),p})).apply(this,arguments)}class so{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let g=!1;return this.consumers.forEach(b=>{this.isEventForConsumer(p,b)&&(g=!0,this.sendToConsumer(p,b),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function ui(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ti(y);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=p,g=!0)),g}sendToConsumer(p,g){var b;if(p.error&&!Ti(p)){const M=(null===(b=p.error.code)||void 0===b?void 0:b.split("auth/")[1])||"internal-error";g.onError(_e(this.auth,M))}else g.onAuthEvent(p)}isEventForConsumer(p,g){const b=null===g.eventId||!!p.eventId&&p.eventId===g.eventId;return g.filter.includes(p.type)&&b}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Fa(p))}saveEventToCache(p){this.cachedEventUids.add(Fa(p)),this.lastProcessedEventTime=Date.now()}}function Fa(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(p=>p).join("-")}function Ti({type:y,error:p}){return"unknown"===y&&"auth/no-auth-event"===p?.code}function _n(y){return Gc.apply(this,arguments)}function Gc(){return(Gc=(0,d.Z)(function*(y,p={}){return Rt(y,"GET","/v1/projects",p)})).apply(this,arguments)}const $c=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,jh=/^https?/;function Fl(){return(Fl=(0,d.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:p}=yield _n(y);for(const g of p)try{if(C_(g))return}catch{}De(y,"unauthorized-domain")})).apply(this,arguments)}function C_(y){const p=fe(),{protocol:g,hostname:b}=new URL(p);if(y.startsWith("chrome-extension://")){const K=new URL(y);return""===K.hostname&&""===b?"chrome-extension:"===g&&y.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===g&&K.hostname===b}if(!jh.test(g))return!1;if($c.test(y))return b===y;const M=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+M+"|"+M+")$","i").test(b)}const La=new ht(3e4,6e4);function zc(){const y=$n().___jsl;if(y?.H)for(const p of Object.keys(y.H))if(y.H[p].r=y.H[p].r||[],y.H[p].L=y.H[p].L||[],y.H[p].r=[...y.H[p].L],y.CP)for(let g=0;g<y.CP.length;g++)y.CP[g]=null}let qc=null;function Xb(y){return qc=qc||function Fs(y){return new Promise((p,g)=>{var b,M,O;function K(){zc(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{zc(),g(_e(y,"network-request-failed"))},timeout:La.get()})}if(null!==(M=null===(b=$n().gapi)||void 0===b?void 0:b.iframes)&&void 0!==M&&M.Iframe)p(gapi.iframes.getContext());else{if(null===(O=$n().gapi)||void 0===O||!O.load){const ce=Rl("iframefcb");return $n()[ce]=()=>{gapi.load?K():g(_e(y,"network-request-failed"))},Po(`https://apis.google.com/js/api.js?onload=${ce}`).catch(Ue=>g(Ue))}K()}}).catch(p=>{throw qc=null,p})}(y),qc}const ud=new ht(5e3,15e3),Yp={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},os=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Gh(y){const p=y.config;H(p.authDomain,y,"auth-domain-config-required");const g=p.emulator?Ft(p,"emulator/auth/iframe"):`https://${y.config.authDomain}/__/auth/iframe`,b={apiKey:p.apiKey,appName:y.name,v:ae.SDK_VERSION},M=os.get(y.config.apiHost);M&&(b.eid=M);const O=y._getFrameworks();return O.length&&(b.fw=O.join(",")),`${g}?${(0,P.xO)(b).slice(1)}`}function Qp(){return Qp=(0,d.Z)(function*(y){const p=yield Xb(y),g=$n().gapi;return H(g,y,"internal-error"),p.open({where:document.body,url:Gh(y),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Yp,dontclear:!0},b=>new Promise(function(){var M=(0,d.Z)(function*(O,K){yield b.restyle({setHideOnLeave:!1});const ce=_e(y,"network-request-failed"),Ue=$n().setTimeout(()=>{K(ce)},ud.get());function ot(){$n().clearTimeout(Ue),O(b)}b.ping(ot).then(ot,()=>{K(ce)})});return function(O,K){return M.apply(this,arguments)}}()))}),Qp.apply(this,arguments)}const ew={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class tw{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function qh(y,p,g,b,M,O){H(y.config.authDomain,y,"auth-domain-config-required"),H(y.config.apiKey,y,"invalid-api-key");const K={apiKey:y.config.apiKey,appName:y.name,authType:g,redirectUrl:b,v:ae.SDK_VERSION,eventId:M};if(p instanceof Jr){p.setDefaultLanguage(y.languageCode),K.providerId=p.providerId||"",(0,P.xb)(p.getCustomParameters())||(K.customParameters=JSON.stringify(p.getCustomParameters()));for(const[Ue,ot]of Object.entries(O||{}))K[Ue]=ot}if(p instanceof es){const Ue=p.getScopes().filter(ot=>""!==ot);Ue.length>0&&(K.scopes=Ue.join(","))}y.tenantId&&(K.tid=y.tenantId);const ce=K;for(const Ue of Object.keys(ce))void 0===ce[Ue]&&delete ce[Ue];return`${function Jp({config:y}){return y.emulator?Ft(y,"emulator/auth/handler"):`https://${y.authDomain}/__/auth/handler`}(y)}?${(0,P.xO)(ce).slice(1)}`}const Kc="webStorageSupport";class tm extends class Wh{constructor(p){this.factorId=p}_process(p,g,b){switch(g.type){case"enroll":return this._finalizeEnroll(p,g.credential,b);case"signin":return this._finalizeSignIn(p,g.credential);default:return ge("unexpected MultiFactorSessionType")}}}{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new tm(p)}_finalizeEnroll(p,g,b){return function Dl(y,p){return Rt(y,"POST","/v2/accounts/mfaEnrollment:finalize",bt(y,p))}(p,{idToken:g,displayName:b,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,g){return function kl(y,p){return Rt(y,"POST","/v2/accounts/mfaSignIn:finalize",bt(y,p))}(p,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let T_=(()=>{class y{constructor(){}static assertion(g){return tm._fromCredential(g)}}return y.FACTOR_ID="phone",y})();var Kh="@firebase/auth";class iw{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var g=this;return(0,d.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const g=this.auth.onIdTokenChanged(b=>{p(b?.stsTokenManager.accessToken||null)});this.internalListeners.set(p,g),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const g=this.internalListeners.get(p);!g||(this.internalListeners.delete(p),g(),this.updateProactiveRefresh())}assertAuthConfigured(){H(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Ho(){return window}function Zh(){return(Zh=(0,d.Z)(function*(y,p,g){var b;const{BuildInfo:M}=Ho();Be(p.sessionId,"AuthEvent did not contain a session ID");const O=yield Xh(p.sessionId),K={};return Kt()?K.ibi=M.packageName:Qt()?K.apn=M.packageName:De(y,"operation-not-supported-in-this-environment"),M.displayName&&(K.appDisplayName=M.displayName),K.sessionId=O,qh(y,g,p.type,void 0,null!==(b=p.eventId)&&void 0!==b?b:void 0,K)})).apply(this,arguments)}function Yh(){return(Yh=(0,d.Z)(function*(y){const{BuildInfo:p}=Ho(),g={};Kt()?g.iosBundleId=p.packageName:Qt()?g.androidPackageName=p.packageName:De(y,"operation-not-supported-in-this-environment"),yield _n(y,g)})).apply(this,arguments)}function Qh(){return(Qh=(0,d.Z)(function*(y,p,g){const{cordova:b}=Ho();let M=()=>{};try{yield new Promise((O,K)=>{let ce=null;function Ue(){var Tt;O();const Ai=null===(Tt=b.plugins.browsertab)||void 0===Tt?void 0:Tt.close;"function"==typeof Ai&&Ai(),"function"==typeof g?.close&&g.close()}function ot(){ce||(ce=window.setTimeout(()=>{K(_e(y,"redirect-cancelled-by-user"))},2e3))}function xt(){"visible"===document?.visibilityState&&ot()}p.addPassiveListener(Ue),document.addEventListener("resume",ot,!1),Qt()&&document.addEventListener("visibilitychange",xt,!1),M=()=>{p.removePassiveListener(Ue),document.removeEventListener("resume",ot,!1),document.removeEventListener("visibilitychange",xt,!1),ce&&window.clearTimeout(ce)}})}finally{M()}})).apply(this,arguments)}function Xh(y){return rm.apply(this,arguments)}function rm(){return(rm=(0,d.Z)(function*(y){const p=cw(y),g=yield crypto.subtle.digest("SHA-256",p);return Array.from(new Uint8Array(g)).map(M=>M.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function cw(y){if(Be(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(y);const p=new ArrayBuffer(y.length),g=new Uint8Array(p);for(let b=0;b<y.length;b++)g[b]=y.charCodeAt(b);return g}(0,P.Pz)("authIdTokenMaxAge"),function A_(y){(0,ae._registerComponent)(new ne.wA("auth",(p,{options:g})=>{const b=p.getProvider("app").getImmediate(),M=p.getProvider("heartbeat"),{apiKey:O,authDomain:K}=b.options;return((ce,Ue)=>{H(O&&!O.includes(":"),"invalid-api-key",{appName:ce.name}),H(!K?.includes(":"),"argument-error",{appName:ce.name});const ot={apiKey:O,authDomain:K,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:bs(y)},xt=new $t(ce,Ue,ot);return function oe(y,p){const g=p?.persistence||[],b=(Array.isArray(g)?g:[g]).map(vt);p?.errorMap&&y._updateErrorMap(p.errorMap),y._initializeWithPersistence(b,p?.popupRedirectResolver)}(xt,g),xt})(b,M)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,g,b)=>{p.getProvider("auth-internal").initialize()})),(0,ae._registerComponent)(new ne.wA("auth-internal",p=>{const g=xn(p.getProvider("auth").getImmediate());return new iw(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ae.registerVersion)(Kh,"0.21.3",function rw(y){switch(y){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(y)),(0,ae.registerVersion)(Kh,"0.21.3","esm2017")}("Browser");class om extends so{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(p=>{this.resolveInialized=p})}addPassiveListener(p){this.passiveListeners.add(p)}removePassiveListener(p){this.passiveListeners.delete(p)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(p){return this.resolveInialized(),this.passiveListeners.forEach(g=>g(p)),super.onEvent(p)}initialized(){var p=this;return(0,d.Z)(function*(){yield p.initPromise})()}}function k_(y){return Ll.apply(this,arguments)}function Ll(){return(Ll=(0,d.Z)(function*(y){const p=yield md()._get(gd(y));return p&&(yield md()._remove(gd(y))),p})).apply(this,arguments)}function hw(){const y=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let g=0;g<20;g++){const b=Math.floor(Math.random()*p.length);y.push(p.charAt(b))}return y.join("")}function md(){return vt(Ca)}function gd(y){return W("authEvent",y.config.apiKey,y.name)}function Uo(y){if(!y?.includes("?"))return{};const[p,...g]=y.split("?");return(0,P.zd)(g.join("?"))}function Jh(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:_e("no-auth-event")}}function _d(){var y;return(null===(y=self?.location)||void 0===y?void 0:y.protocol)||null}function lm(y=(0,P.z$)()){return!("file:"!==_d()&&"ionic:"!==_d()&&"capacitor:"!==_d()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function N_(){try{const y=self.localStorage,p=Sa();if(y)return y.setItem(p,"1"),y.removeItem(p),!function vw(y=(0,P.z$)()){return function P_(){return(0,P.w1)()&&11===document?.documentMode}()||function um(y=(0,P.z$)()){return/Edge\/\d+/.test(y)}(y)}()||(0,P.hl)()}catch{return ef()&&(0,P.hl)()}return!1}function ef(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function tf(){return(function yw(){return"http:"===_d()||"https:"===_d()}()||(0,P.ru)()||lm())&&!function cm(){return(0,P.b$)()||(0,P.UG)()}()&&N_()&&!ef()}function Va(){return lm()&&typeof document<"u"}function nf(){return(nf=(0,d.Z)(function*(){return!!Va()&&new Promise(y=>{const p=setTimeout(()=>{y(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(p),y(!0)})})})).apply(this,arguments)}const as={LOCAL:"local",NONE:"none",SESSION:"session"},Ba=H,L_="persistence";function rf(y){return sf.apply(this,arguments)}function sf(){return(sf=(0,d.Z)(function*(y){yield y._initializationPromise;const p=hm(),g=W(L_,y.config.apiKey,y.name);p&&p.setItem(g,y._getPersistence())})).apply(this,arguments)}function hm(){var y;try{return(null===(y=function bw(){return typeof window<"u"?window:null}())||void 0===y?void 0:y.sessionStorage)||null}catch{return null}}const af=H;class Ls{constructor(){this.browserResolver=vt(class oo{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Fr,this._completeRedirectFn=Ye,this._overrideRedirectResult=Bo}_openPopup(p,g,b,M){var O=this;return(0,d.Z)(function*(){var K;Be(null===(K=O.eventManagers[p._key()])||void 0===K?void 0:K.manager,"_initialize() not called before _openPopup()");const ce=qh(p,g,b,fe(),M);return function KC(y,p,g,b=500,M=600){const O=Math.max((window.screen.availHeight-M)/2,0).toString(),K=Math.max((window.screen.availWidth-b)/2,0).toString();let ce="";const Ue=Object.assign(Object.assign({},ew),{width:b.toString(),height:M.toString(),top:O,left:K}),ot=(0,P.z$)().toLowerCase();g&&(ce=rn(ot)?"_blank":g),qe(ot)&&(p=p||"http://localhost",Ue.scrollbars="yes");const xt=Object.entries(Ue).reduce((Ai,[Mi,jo])=>`${Ai}${Mi}=${jo},`,"");if(function Ji(y=(0,P.z$)()){var p;return Kt(y)&&!(null===(p=window.navigator)||void 0===p||!p.standalone)}(ot)&&"_self"!==ce)return function nw(y,p){const g=document.createElement("a");g.href=y,g.target=p;const b=document.createEvent("MouseEvent");b.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(b)}(p||"",ce),new tw(null);const Tt=window.open(p||"",ce,xt);H(Tt,y,"popup-blocked");try{Tt.focus()}catch{}return new tw(Tt)}(p,ce,Sa())})()}_openRedirect(p,g,b,M){var O=this;return(0,d.Z)(function*(){return yield O._originValidation(p),function Dr(y){$n().location.href=y}(qh(p,g,b,fe(),M)),new Promise(()=>{})})()}_initialize(p){const g=p._key();if(this.eventManagers[g]){const{manager:M,promise:O}=this.eventManagers[g];return M?Promise.resolve(M):(Be(O,"If manager is not set, promise should be"),O)}const b=this.initAndGetManager(p);return this.eventManagers[g]={promise:b},b.catch(()=>{delete this.eventManagers[g]}),b}initAndGetManager(p){var g=this;return(0,d.Z)(function*(){const b=yield function $h(y){return Qp.apply(this,arguments)}(p),M=new so(p);return b.register("authEvent",O=>(H(O?.authEvent,p,"invalid-auth-event"),{status:M.onEvent(O.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[p._key()]={manager:M},g.iframes[p._key()]=b,M})()}_isIframeWebStorageSupported(p,g){this.iframes[p._key()].send(Kc,{type:Kc},M=>{var O;const K=null===(O=M?.[0])||void 0===O?void 0:O[Kc];void 0!==K&&g(!!K),De(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const g=p._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function Zp(y){return Fl.apply(this,arguments)}(p)),this.originValidationPromises[g]}get _shouldInitProactively(){return Hs()||wt()||Kt()}}),this.cordovaResolver=vt(class O_{constructor(){this._redirectPersistence=Fr,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Ye,this._overrideRedirectResult=Bo}_initialize(p){var g=this;return(0,d.Z)(function*(){const b=p._key();let M=g.eventManagers.get(b);return M||(M=new om(p),g.eventManagers.set(b,M),g.attachCallbackListeners(p,M)),M})()}_openPopup(p){De(p,"operation-not-supported-in-this-environment")}_openRedirect(p,g,b,M){var O=this;return(0,d.Z)(function*(){!function lw(y){var p,g,b,M,O,K,ce,Ue,ot,xt;const Tt=Ho();H("function"==typeof(null===(p=Tt?.universalLinks)||void 0===p?void 0:p.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),H(typeof(null===(g=Tt?.BuildInfo)||void 0===g?void 0:g.packageName)<"u",y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),H("function"==typeof(null===(O=null===(M=null===(b=Tt?.cordova)||void 0===b?void 0:b.plugins)||void 0===M?void 0:M.browsertab)||void 0===O?void 0:O.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),H("function"==typeof(null===(Ue=null===(ce=null===(K=Tt?.cordova)||void 0===K?void 0:K.plugins)||void 0===ce?void 0:ce.browsertab)||void 0===Ue?void 0:Ue.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),H("function"==typeof(null===(xt=null===(ot=Tt?.cordova)||void 0===ot?void 0:ot.InAppBrowser)||void 0===xt?void 0:xt.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(p);const K=yield O._initialize(p);yield K.initialized(),K.resetRedirect(),function Kp(){li.clear()}(),yield O._originValidation(p);const ce=function uw(y,p,g=null){return{type:p,eventId:g,urlResponse:null,sessionId:hw(),postBody:null,tenantId:y.tenantId,error:_e(y,"no-auth-event")}}(p,b,M);yield function x_(y,p){return md()._set(gd(y),p)}(p,ce);const Ue=yield function pd(y,p,g){return Zh.apply(this,arguments)}(p,ce,g),ot=yield function im(y){const{cordova:p}=Ho();return new Promise(g=>{p.plugins.browsertab.isAvailable(b=>{let M=null;b?p.plugins.browsertab.openUrl(y):M=p.InAppBrowser.open(y,function mi(y=(0,P.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),g(M)})})}(Ue);return function M_(y,p,g){return Qh.apply(this,arguments)}(p,K,ot)})()}_isIframeWebStorageSupported(p,g){throw new Error("Method not implemented.")}_originValidation(p){const g=p._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function aw(y){return Yh.apply(this,arguments)}(p)),this.originValidationPromises[g]}attachCallbackListeners(p,g){const{universalLinks:b,handleOpenURL:M,BuildInfo:O}=Ho(),K=setTimeout((0,d.Z)(function*(){yield k_(p),g.onEvent(Jh())}),500),ce=function(){var xt=(0,d.Z)(function*(Tt){clearTimeout(K);const Ai=yield k_(p);let Mi=null;Ai&&Tt?.url&&(Mi=function dw(y,p){var g,b;const M=function ZC(y){const p=Uo(y),g=p.link?decodeURIComponent(p.link):void 0,b=Uo(g).link,M=p.deep_link_id?decodeURIComponent(p.deep_link_id):void 0;return Uo(M).link||M||b||g||y}(p);if(M.includes("/__/auth/callback")){const O=Uo(M),K=O.firebaseError?function R_(y){try{return JSON.parse(y)}catch{return null}}(decodeURIComponent(O.firebaseError)):null,ce=null===(b=null===(g=K?.code)||void 0===g?void 0:g.split("auth/"))||void 0===b?void 0:b[1],Ue=ce?_e(ce):null;return Ue?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:Ue,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:M,postBody:null}}return null}(Ai,Tt.url)),g.onEvent(Mi||Jh())});return function(Ai){return xt.apply(this,arguments)}}();typeof b<"u"&&"function"==typeof b.subscribe&&b.subscribe(null,ce);const Ue=M,ot=`${O.packageName.toLowerCase()}://`;Ho().handleOpenURL=function(){var xt=(0,d.Z)(function*(Tt){if(Tt.toLowerCase().startsWith(ot)&&ce({url:Tt}),"function"==typeof Ue)try{Ue(Tt)}catch(Ai){console.error(Ai)}});return function(Tt){return xt.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=Fr,this._completeRedirectFn=Ye,this._overrideRedirectResult=Bo}_initialize(p){var g=this;return(0,d.Z)(function*(){return yield g.selectUnderlyingResolver(),g.assertedUnderlyingResolver._initialize(p)})()}_openPopup(p,g,b,M){var O=this;return(0,d.Z)(function*(){return yield O.selectUnderlyingResolver(),O.assertedUnderlyingResolver._openPopup(p,g,b,M)})()}_openRedirect(p,g,b,M){var O=this;return(0,d.Z)(function*(){return yield O.selectUnderlyingResolver(),O.assertedUnderlyingResolver._openRedirect(p,g,b,M)})()}_isIframeWebStorageSupported(p,g){this.assertedUnderlyingResolver._isIframeWebStorageSupported(p,g)}_originValidation(p){return this.assertedUnderlyingResolver._originValidation(p)}get _shouldInitProactively(){return Va()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return af(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var p=this;return(0,d.Z)(function*(){if(p.underlyingResolver)return;const g=yield function F_(){return nf.apply(this,arguments)}();p.underlyingResolver=g?p.cordovaResolver:p.browserResolver})()}}function fm(y){return y.unwrap()}function mm(y){return Zc(y)}function Zc(y){const{_tokenResponse:p}=y instanceof P.ZR?y.customData:y;if(!p)return null;if(!(y instanceof P.ZR)&&"temporaryProof"in p&&"phoneNumber"in p)return Lr.credentialFromResult(y);const g=p.providerId;if(!g||"password"===g)return null;let b;switch(g){case"google.com":b=rl;break;case"facebook.com":b=ma;break;case"github.com":b=vc;break;case"twitter.com":b=er;break;default:const{oauthIdToken:M,oauthAccessToken:O,oauthTokenSecret:K,pendingToken:ce,nonce:Ue}=p;return O||K||M||ce?ce?g.startsWith("saml.")?Co._create(g,ce):Xr._fromParams({providerId:g,signInMethod:g,pendingToken:ce,idToken:M,accessToken:O}):new $s(g).credential({idToken:M,accessToken:O,rawNonce:Ue}):null}return y instanceof P.ZR?b.credentialFromError(y):b.credentialFromResult(y)}function Cr(y,p){return p.catch(g=>{throw g instanceof P.ZR&&function gm(y,p){var g;const b=null===(g=p.customData)||void 0===g?void 0:g._tokenResponse;if("auth/multi-factor-auth-required"===p?.code)p.resolver=new ww(y,function Vn(y,p){var g;const b=(0,P.m9)(y),M=p;return H(p.customData.operationType,b,"argument-error"),H(null===(g=M.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,b,"argument-error"),wl._fromError(b,M)}(y,p));else if(b){const M=Zc(p),O=p;M&&(O.credential=M,O.tenantId=b.tenantId||void 0,O.email=b.email||void 0,O.phoneNumber=b.phoneNumber||void 0)}}(y,g),g}).then(g=>{const M=g.user;return{operationType:g.operationType,credential:mm(g),additionalUserInfo:vl(g),user:ao.getOrCreate(M)}})}function yd(y,p){return _m.apply(this,arguments)}function _m(){return(_m=(0,d.Z)(function*(y,p){const g=yield p;return{verificationId:g.verificationId,confirm:b=>Cr(y,g.confirm(b))}})).apply(this,arguments)}class ww{constructor(p,g){this.resolver=g,this.auth=function pm(y){return y.wrapped()}(p)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(p){return Cr(fm(this.auth),this.resolver.resolveSignIn(p))}}class ao{constructor(p){this._delegate=p,this.multiFactor=function xo(y){const p=(0,P.m9)(y);return Qs.has(p)||Qs.set(p,Lh._fromUser(p)),Qs.get(p)}(p)}static getOrCreate(p){return ao.USER_MAP.has(p)||ao.USER_MAP.set(p,new ao(p)),ao.USER_MAP.get(p)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(p){return this._delegate.getIdTokenResult(p)}getIdToken(p){return this._delegate.getIdToken(p)}linkAndRetrieveDataWithCredential(p){return this.linkWithCredential(p)}linkWithCredential(p){var g=this;return(0,d.Z)(function*(){return Cr(g.auth,cl(g._delegate,p))})()}linkWithPhoneNumber(p,g){var b=this;return(0,d.Z)(function*(){return yd(b.auth,function en(y,p,g){return tn.apply(this,arguments)}(b._delegate,p,g))})()}linkWithPopup(p){var g=this;return(0,d.Z)(function*(){return Cr(g.auth,function Wp(y,p,g){return Pa.apply(this,arguments)}(g._delegate,p,Ls))})()}linkWithRedirect(p){var g=this;return(0,d.Z)(function*(){return yield rf(xn(g.auth)),function Y(y,p,g){return function ie(y,p,g){return Re.apply(this,arguments)}(y,p,g)}(g._delegate,p,Ls)})()}reauthenticateAndRetrieveDataWithCredential(p){return this.reauthenticateWithCredential(p)}reauthenticateWithCredential(p){var g=this;return(0,d.Z)(function*(){return Cr(g.auth,ul(g._delegate,p))})()}reauthenticateWithPhoneNumber(p,g){return yd(this.auth,function Hh(y,p,g){return At.apply(this,arguments)}(this._delegate,p,g))}reauthenticateWithPopup(p){return Cr(this.auth,function Hc(y,p,g){return Uc.apply(this,arguments)}(this._delegate,p,Ls))}reauthenticateWithRedirect(p){var g=this;return(0,d.Z)(function*(){return yield rf(xn(g.auth)),function T(y,p,g){return function k(y,p,g){return V.apply(this,arguments)}(y,p,g)}(g._delegate,p,Ls)})()}sendEmailVerification(p){return function Ac(y,p){return Ea.apply(this,arguments)}(this._delegate,p)}unlink(p){var g=this;return(0,d.Z)(function*(){return yield function Vi(y,p){return sl.apply(this,arguments)}(g._delegate,p),g})()}updateEmail(p){return function Ju(y,p){return Ks((0,P.m9)(y),p,null)}(this._delegate,p)}updatePassword(p){return function Ws(y,p){return Ks((0,P.m9)(y),null,p)}(this._delegate,p)}updatePhoneNumber(p){return function qi(y,p){return Ii.apply(this,arguments)}(this._delegate,p)}updateProfile(p){return function kc(y,p){return Rc.apply(this,arguments)}(this._delegate,p)}verifyBeforeUpdateEmail(p,g){return function Mc(y,p,g){return gl.apply(this,arguments)}(this._delegate,p,g)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}ao.USER_MAP=new WeakMap;const Vl=H;let vd=(()=>{class y{constructor(g,b){if(this.app=g,b.isInitialized())return this._delegate=b.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:M}=g.options;Vl(M,"invalid-api-key",{appName:g.name}),Vl(M,"invalid-api-key",{appName:g.name});const O=typeof window<"u"?Ls:void 0;this._delegate=b.initialize({options:{persistence:Bl(M,g.name),popupRedirectResolver:O}}),this._delegate._updateErrorMap(ke),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?ao.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(g){this._delegate.languageCode=g}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(g){this._delegate.tenantId=g}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(g,b){!function tl(y,p,g){const b=xn(y);H(b._canInitEmulator,b,"emulator-config-failed"),H(/^https?:\/\//.test(p),b,"invalid-emulator-scheme");const M=!!g?.disableWarnings,O=Or(p),{host:K,port:ce}=function Qn(y){const p=Or(y),g=/(\/\/)?([^?#/]+)/.exec(y.substr(p.length));if(!g)return{host:"",port:null};const b=g[2].split("@").pop()||"",M=/^(\[[^\]]+\])(:|$)/.exec(b);if(M){const O=M[1];return{host:O,port:ws(b.substr(O.length+1))}}{const[O,K]=b.split(":");return{host:O,port:ws(K)}}}(p);b.config.emulator={url:`${O}//${K}${null===ce?"":`:${ce}`}/`},b.settings.appVerificationDisabledForTesting=!0,b.emulatorConfig=Object.freeze({host:K,port:ce,protocol:O.replace(":",""),options:Object.freeze({disableWarnings:M})}),M||function Es(){function y(){const p=document.createElement("p"),g=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,g,b)}applyActionCode(g){return function yr(y,p){return _a.apply(this,arguments)}(this._delegate,g)}checkActionCode(g){return ya(this._delegate,g)}confirmPasswordReset(g,b){return function pl(y,p,g){return So.apply(this,arguments)}(this._delegate,g,b)}createUserWithEmailAndPassword(g,b){var M=this;return(0,d.Z)(function*(){return Cr(M._delegate,function va(y,p,g){return Ln.apply(this,arguments)}(M._delegate,g,b))})()}fetchProvidersForEmail(g){return this.fetchSignInMethodsForEmail(g)}fetchSignInMethodsForEmail(g){return function ml(y,p){return wa.apply(this,arguments)}(this._delegate,g)}isSignInWithEmailLink(g){return function rs(y,p){return"EMAIL_SIGNIN"===il.parseLink(p)?.operation}(0,g)}getRedirectResult(){var g=this;return(0,d.Z)(function*(){Vl(tf(),g._delegate,"operation-not-supported-in-this-environment");const b=yield function it(y,p){return ct.apply(this,arguments)}(g._delegate,Ls);return b?Cr(g._delegate,Promise.resolve(b)):{credential:null,user:null}})()}addFrameworkForLogging(g){!function pw(y,p){xn(y)._logFramework(p)}(this._delegate,g)}onAuthStateChanged(g,b,M){const{next:O,error:K,complete:ce}=lf(g,b,M);return this._delegate.onAuthStateChanged(O,K,ce)}onIdTokenChanged(g,b,M){const{next:O,error:K,complete:ce}=lf(g,b,M);return this._delegate.onIdTokenChanged(O,K,ce)}sendSignInLinkToEmail(g,b){return function Tc(y,p,g){return qs.apply(this,arguments)}(this._delegate,g,b)}sendPasswordResetEmail(g,b){return function fl(y,p,g){return Fn.apply(this,arguments)}(this._delegate,g,b||void 0)}setPersistence(g){var b=this;return(0,d.Z)(function*(){let M;switch(function V_(y,p){Ba(Object.values(as).includes(p),y,"invalid-persistence-type"),(0,P.b$)()?Ba(p!==as.SESSION,y,"unsupported-persistence-type"):(0,P.UG)()?Ba(p===as.NONE,y,"unsupported-persistence-type"):ef()?Ba(p===as.NONE||p===as.LOCAL&&(0,P.hl)(),y,"unsupported-persistence-type"):Ba(p===as.NONE||N_(),y,"unsupported-persistence-type")}(b._delegate,g),g){case as.SESSION:M=Fr;break;case as.LOCAL:M=(yield vt(ko)._isAvailable())?ko:Ca;break;case as.NONE:M=B;break;default:return De("argument-error",{appName:b._delegate.name})}return b._delegate.setPersistence(M)})()}signInAndRetrieveDataWithCredential(g){return this.signInWithCredential(g)}signInAnonymously(){return Cr(this._delegate,function Ph(y){return Nn.apply(this,arguments)}(this._delegate))}signInWithCredential(g){return Cr(this._delegate,kn(this._delegate,g))}signInWithCustomToken(g){return Cr(this._delegate,function Dc(y,p){return ga.apply(this,arguments)}(this._delegate,g))}signInWithEmailAndPassword(g,b){return Cr(this._delegate,function Nr(y,p,g){return kn((0,P.m9)(y),Pr.credential(p,g))}(this._delegate,g,b))}signInWithEmailLink(g,b){return Cr(this._delegate,function Up(y,p,g){return ba.apply(this,arguments)}(this._delegate,g,b))}signInWithPhoneNumber(g,b){return yd(this._delegate,function Bh(y,p,g){return Os.apply(this,arguments)}(this._delegate,g,b))}signInWithPopup(g){var b=this;return(0,d.Z)(function*(){return Vl(tf(),b._delegate,"operation-not-supported-in-this-environment"),Cr(b._delegate,function Bc(y,p,g){return Oa.apply(this,arguments)}(b._delegate,g,Ls))})()}signInWithRedirect(g){var b=this;return(0,d.Z)(function*(){return Vl(tf(),b._delegate,"operation-not-supported-in-this-environment"),yield rf(b._delegate),function Bn(y,p,g){return function Uh(y,p,g){return C.apply(this,arguments)}(y,p,g)}(b._delegate,g,Ls)})()}updateCurrentUser(g){return this._delegate.updateCurrentUser(g)}verifyPasswordResetCode(g){return function Ic(y,p){return Xu.apply(this,arguments)}(this._delegate,g)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=as,y})();function lf(y,p,g){let b=y;"function"!=typeof y&&({next:b,error:p,complete:g}=y);const M=b;return{next:K=>M(K&&ao.getOrCreate(K)),error:p,complete:g}}function Bl(y,p){const g=function dm(y,p){const g=hm();if(!g)return[];const b=W(L_,y,p);switch(g.getItem(b)){case as.NONE:return[B];case as.LOCAL:return[ko,Fr];case as.SESSION:return[Fr];default:return[]}}(y,p);if(typeof self<"u"&&!g.includes(ko)&&g.push(ko),typeof window<"u")for(const b of[Ca,Fr])g.includes(b)||g.push(b);return g.includes(B)||g.push(B),g}class ym{constructor(){this.providerId="phone",this._delegate=new Lr(fm(te.Z.auth()))}static credential(p,g){return Lr.credential(p,g)}verifyPhoneNumber(p,g){return this._delegate.verifyPhoneNumber(p,g)}unwrap(){return this._delegate}}ym.PHONE_SIGN_IN_METHOD=Lr.PHONE_SIGN_IN_METHOD,ym.PROVIDER_ID=Lr.PROVIDER_ID;const Ew=H;class YC{constructor(p,g,b=te.Z.app()){var M;Ew(null===(M=b.options)||void 0===M?void 0:M.apiKey,"invalid-api-key",{appName:b.name}),this._delegate=new yi(p,g,b.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function vm(y){y.INTERNAL.registerComponent(new ne.wA("auth-compat",p=>{const g=p.getProvider("app-compat").getImmediate(),b=p.getProvider("auth");return new vd(g,b)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Pr,FacebookAuthProvider:ma,GithubAuthProvider:vc,GoogleAuthProvider:rl,OAuthProvider:$s,SAMLAuthProvider:gr,PhoneAuthProvider:ym,PhoneMultiFactorGenerator:T_,RecaptchaVerifier:YC,TwitterAuthProvider:er,Auth:vd,AuthCredential:Di,Error:P.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.3.3")}(te.Z)},8766:(_t,Me,N)=>{N.d(Me,{Lj:()=>De,X3:()=>rt});var d=N(5861);let P,ae;const ne=new WeakMap,ue=new WeakMap,de=new WeakMap,$=new WeakMap,G=new WeakMap;let Se={get(H,ge,Be){if(H instanceof IDBTransaction){if("done"===ge)return ue.get(H);if("objectStoreNames"===ge)return H.objectStoreNames||de.get(H);if("store"===ge)return Be.objectStoreNames[1]?void 0:Be.objectStore(Be.objectStoreNames[0])}return me(H[ge])},set:(H,ge,Be)=>(H[ge]=Be,!0),has:(H,ge)=>H instanceof IDBTransaction&&("done"===ge||"store"===ge)||ge in H};function pe(H){return"function"==typeof H?function je(H){return H!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function he(){return ae||(ae=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(H)?function(...ge){return H.apply(Qe(this),ge),me(ne.get(this))}:function(...ge){return me(H.apply(Qe(this),ge))}:function(ge,...Be){const tt=H.call(Qe(this),ge,...Be);return de.set(tt,ge.sort?ge.sort():[ge]),me(tt)}}(H):(H instanceof IDBTransaction&&function $e(H){if(ue.has(H))return;const ge=new Promise((Be,tt)=>{const vt=()=>{H.removeEventListener("complete",Xe),H.removeEventListener("error",oe),H.removeEventListener("abort",oe)},Xe=()=>{Be(),vt()},oe=()=>{tt(H.error||new DOMException("AbortError","AbortError")),vt()};H.addEventListener("complete",Xe),H.addEventListener("error",oe),H.addEventListener("abort",oe)});ue.set(H,ge)}(H),((H,ge)=>ge.some(Be=>H instanceof Be))(H,function re(){return P||(P=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(H,Se):H)}function me(H){if(H instanceof IDBRequest)return function X(H){const ge=new Promise((Be,tt)=>{const vt=()=>{H.removeEventListener("success",Xe),H.removeEventListener("error",oe)},Xe=()=>{Be(me(H.result)),vt()},oe=()=>{tt(H.error),vt()};H.addEventListener("success",Xe),H.addEventListener("error",oe)});return ge.then(Be=>{Be instanceof IDBCursor&&ne.set(Be,H)}).catch(()=>{}),G.set(ge,H),ge}(H);if($.has(H))return $.get(H);const ge=pe(H);return ge!==H&&($.set(H,ge),G.set(ge,H)),ge}const Qe=H=>G.get(H);function rt(H,ge,{blocked:Be,upgrade:tt,blocking:vt,terminated:Xe}={}){const oe=indexedDB.open(H,ge),fe=me(oe);return tt&&oe.addEventListener("upgradeneeded",ve=>{tt(me(oe.result),ve.oldVersion,ve.newVersion,me(oe.transaction))}),Be&&oe.addEventListener("blocked",()=>Be()),fe.then(ve=>{Xe&&ve.addEventListener("close",()=>Xe()),vt&&ve.addEventListener("versionchange",()=>vt())}).catch(()=>{}),fe}function De(H,{blocked:ge}={}){const Be=indexedDB.deleteDatabase(H);return ge&&Be.addEventListener("blocked",()=>ge()),me(Be).then(()=>{})}const _e=["get","getKey","getAll","getAllKeys","count"],Ce=["put","add","delete","clear"],Ve=new Map;function Ge(H,ge){if(!(H instanceof IDBDatabase)||ge in H||"string"!=typeof ge)return;if(Ve.get(ge))return Ve.get(ge);const Be=ge.replace(/FromIndex$/,""),tt=ge!==Be,vt=Ce.includes(Be);if(!(Be in(tt?IDBIndex:IDBObjectStore).prototype)||!vt&&!_e.includes(Be))return;const Xe=function(){var oe=(0,d.Z)(function*(fe,...ve){const Pe=this.transaction(fe,vt?"readwrite":"readonly");let Ne=Pe.store;return tt&&(Ne=Ne.index(ve.shift())),(yield Promise.all([Ne[Be](...ve),vt&&Pe.done]))[0]});return function(ve){return oe.apply(this,arguments)}}();return Ve.set(ge,Xe),Xe}!function ke(H){Se=H(Se)}(H=>({...H,get:(ge,Be,tt)=>Ge(ge,Be)||H.get(ge,Be,tt),has:(ge,Be)=>!!Ge(ge,Be)||H.has(ge,Be)}))},5861:(_t,Me,N)=>{function d(P,ae,re,he,ne,ue,de){try{var $=P[ue](de),G=$.value}catch(X){return void re(X)}$.done?ae(G):Promise.resolve(G).then(he,ne)}function te(P){return function(){var ae=this,re=arguments;return new Promise(function(he,ne){var ue=P.apply(ae,re);function de(G){d(ue,he,ne,de,$,"next",G)}function $(G){d(ue,he,ne,de,$,"throw",G)}de(void 0)})}}N.d(Me,{Z:()=>te})}},_t=>{_t(_t.s=7449)}]);